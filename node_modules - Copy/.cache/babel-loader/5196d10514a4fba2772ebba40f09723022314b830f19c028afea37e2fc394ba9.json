{"ast":null,"code":"import _toArray from '@babel/runtime/helpers/toArray';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { SUBSCRIBE, UNSUBSCRIBE, spawn, send, subscriber } from '@onflow/util-actor';\nvar _HANDLERS;\nvar NAME = \"config\";\nvar PUT = \"PUT_CONFIG\";\nvar GET = \"GET_CONFIG\";\nvar GET_ALL = \"GET_ALL_CONFIG\";\nvar UPDATE = \"UPDATE_CONFIG\";\nvar DELETE = \"DELETE_CONFIG\";\nvar CLEAR = \"CLEAR_CONFIG\";\nvar WHERE = \"WHERE_CONFIG\";\nvar UPDATED = \"CONFIG/UPDATED\";\nvar identity = function identity(v) {\n  return v;\n};\nvar HANDLERS = (_HANDLERS = {}, _defineProperty(_HANDLERS, PUT, function (ctx, _letter, _ref) {\n  var key = _ref.key,\n    value = _ref.value;\n  if (key == null) throw new Error(\"Missing 'key' for config/put.\");\n  ctx.put(key, value);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, GET, function (ctx, letter, _ref2) {\n  var key = _ref2.key,\n    fallback = _ref2.fallback;\n  if (key == null) throw new Error(\"Missing 'key' for config/get\");\n  letter.reply(ctx.get(key, fallback));\n}), _defineProperty(_HANDLERS, GET_ALL, function (ctx, letter) {\n  letter.reply(_objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UPDATE, function (ctx, letter, _ref3) {\n  var key = _ref3.key,\n    fn = _ref3.fn;\n  if (key == null) throw new Error(\"Missing 'key' for config/update\");\n  ctx.update(key, fn || identity);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, DELETE, function (ctx, letter, _ref4) {\n  var key = _ref4.key;\n  if (key == null) throw new Error(\"Missing 'key' for config/delete\");\n  ctx[\"delete\"](key);\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, CLEAR, function (ctx, letter) {\n  var keys = Object.keys(ctx.all());\n  for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n    var key = _keys[_i];\n    ctx[\"delete\"](key);\n  }\n  ctx.broadcast(UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, WHERE, function (ctx, letter, _ref5) {\n  var pattern = _ref5.pattern;\n  if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\");\n  letter.reply(ctx.where(pattern));\n}), _defineProperty(_HANDLERS, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _HANDLERS);\nspawn(HANDLERS, NAME);\nfunction put(key, value) {\n  send(NAME, PUT, {\n    key: key,\n    value: value\n  });\n  return config();\n}\nfunction get(key, fallback) {\n  return send(NAME, GET, {\n    key: key,\n    fallback: fallback\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\nfunction first() {\n  return _first.apply(this, arguments);\n}\nfunction _first() {\n  _first = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var wants,\n      fallback,\n      _wants,\n      head,\n      rest,\n      ret,\n      _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            wants = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : [];\n            fallback = _args2.length > 1 ? _args2[1] : undefined;\n            if (wants.length) {\n              _context2.next = 4;\n              break;\n            }\n            return _context2.abrupt(\"return\", fallback);\n          case 4:\n            _wants = _toArray(wants), head = _wants[0], rest = _wants.slice(1);\n            _context2.next = 7;\n            return get(head);\n          case 7:\n            ret = _context2.sent;\n            if (!(ret == null)) {\n              _context2.next = 10;\n              break;\n            }\n            return _context2.abrupt(\"return\", first(rest, fallback));\n          case 10:\n            return _context2.abrupt(\"return\", ret);\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _first.apply(this, arguments);\n}\nfunction all() {\n  return send(NAME, GET_ALL, null, {\n    expectReply: true,\n    timeout: 10\n  });\n}\nfunction update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity;\n  send(NAME, UPDATE, {\n    key: key,\n    fn: fn\n  });\n  return config();\n}\nfunction _delete(key) {\n  send(NAME, DELETE, {\n    key: key\n  });\n  return config();\n}\nfunction where(pattern) {\n  return send(NAME, WHERE, {\n    pattern: pattern\n  }, {\n    expectReply: true,\n    timeout: 10\n  });\n}\nfunction subscribe(callback) {\n  return subscriber(NAME, function () {\n    return spawn(HANDLERS, NAME);\n  }, callback);\n}\nfunction clearConfig() {\n  return send(NAME, CLEAR);\n}\nfunction resetConfig(oldConfig) {\n  return clearConfig().then(config(oldConfig));\n}\nfunction config(values) {\n  if (values != null && _typeof(values) === \"object\") {\n    Object.keys(values).map(function (d) {\n      return put(d, values[d]);\n    });\n  }\n  return {\n    put: put,\n    get: get,\n    all: all,\n    first: first,\n    update: update,\n    \"delete\": _delete,\n    where: where,\n    subscribe: subscribe,\n    overload: overload\n  };\n}\nconfig.put = put;\nconfig.get = get;\nconfig.all = all;\nconfig.first = first;\nconfig.update = update;\nconfig[\"delete\"] = _delete;\nconfig.where = where;\nconfig.subscribe = subscribe;\nconfig.overload = overload;\nvar noop = function noop(v) {\n  return v;\n};\nfunction overload() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var oldConfig, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return all();\n            case 2:\n              oldConfig = _context.sent;\n              _context.prev = 3;\n              config(opts);\n              _context.t0 = callback;\n              _context.next = 8;\n              return all();\n            case 8:\n              _context.t1 = _context.sent;\n              _context.next = 11;\n              return (0, _context.t0)(_context.t1);\n            case 11:\n              result = _context.sent;\n              _context.next = 14;\n              return resetConfig(oldConfig);\n            case 14:\n              resolve(result);\n              _context.next = 22;\n              break;\n            case 17:\n              _context.prev = 17;\n              _context.t2 = _context[\"catch\"](3);\n              _context.next = 21;\n              return resetConfig(oldConfig);\n            case 21:\n              reject(_context.t2);\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 17]]);\n    }));\n    return function (_x, _x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}\nexport { clearConfig, config };","map":{"version":3,"names":["NAME","PUT","GET","GET_ALL","UPDATE","DELETE","CLEAR","WHERE","UPDATED","identity","v","HANDLERS","_HANDLERS","_defineProperty","ctx","_letter","_ref","key","value","Error","put","broadcast","_objectSpread","all","letter","_ref2","fallback","reply","get","_ref3","fn","update","_ref4","keys","Object","_i","_keys","length","_ref5","pattern","where","SUBSCRIBE","subscribe","from","send","UNSUBSCRIBE","unsubscribe","spawn","config","expectReply","timeout","first","_first","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wants","_wants","head","rest","ret","_args2","arguments","wrap","_callee2$","_context2","prev","next","undefined","abrupt","_toArray","slice","sent","stop","_delete","callback","subscriber","clearConfig","resetConfig","oldConfig","then","values","_typeof","map","d","overload","noop","opts","Promise","_ref6","_callee","resolve","reject","result","_callee$","_context","t0","t1","t2","_x","_x2","apply"],"sources":["C:\\Users\\gugan\\flow-hackverse\\node_modules\\@onflow\\config\\src\\config.js"],"sourcesContent":["import {\n  spawn,\n  send,\n  subscriber,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n} from \"@onflow/util-actor\"\n\nconst NAME = \"config\"\nconst PUT = \"PUT_CONFIG\"\nconst GET = \"GET_CONFIG\"\nconst GET_ALL = \"GET_ALL_CONFIG\"\nconst UPDATE = \"UPDATE_CONFIG\"\nconst DELETE = \"DELETE_CONFIG\"\nconst CLEAR = \"CLEAR_CONFIG\"\nconst WHERE = \"WHERE_CONFIG\"\nconst UPDATED = \"CONFIG/UPDATED\"\n\nconst identity = v => v\n\nconst HANDLERS = {\n  [PUT]: (ctx, _letter, {key, value}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/put.\")\n    ctx.put(key, value)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [GET]: (ctx, letter, {key, fallback}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/get\")\n    letter.reply(ctx.get(key, fallback))\n  },\n  [GET_ALL]: (ctx, letter) => {\n    letter.reply({...ctx.all()})\n  },\n  [UPDATE]: (ctx, letter, {key, fn}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/update\")\n    ctx.update(key, fn || identity)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [DELETE]: (ctx, letter, {key}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/delete\")\n    ctx.delete(key)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [CLEAR]: (ctx, letter) => {\n    let keys = Object.keys(ctx.all())\n    for (let key of keys) ctx.delete(key)\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [WHERE]: (ctx, letter, {pattern}) => {\n    if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\")\n    letter.reply(ctx.where(pattern))\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, {...ctx.all()})\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n}\n\nspawn(HANDLERS, NAME)\n\nfunction put(key, value) {\n  send(NAME, PUT, {key, value})\n  return config()\n}\n\nfunction get(key, fallback) {\n  return send(NAME, GET, {key, fallback}, {expectReply: true, timeout: 10})\n}\n\nasync function first(wants = [], fallback) {\n  if (!wants.length) return fallback\n  const [head, ...rest] = wants\n  const ret = await get(head)\n  if (ret == null) return first(rest, fallback)\n  return ret\n}\n\nfunction all() {\n  return send(NAME, GET_ALL, null, {expectReply: true, timeout: 10})\n}\n\nfunction update(key, fn = identity) {\n  send(NAME, UPDATE, {key, fn})\n  return config()\n}\n\nfunction _delete(key) {\n  send(NAME, DELETE, {key})\n  return config()\n}\n\nfunction where(pattern) {\n  return send(NAME, WHERE, {pattern}, {expectReply: true, timeout: 10})\n}\n\nfunction subscribe(callback) {\n  return subscriber(NAME, () => spawn(HANDLERS, NAME), callback)\n}\n\nexport function clearConfig() {\n  return send(NAME, CLEAR)\n}\n\nfunction resetConfig(oldConfig) {\n  return clearConfig().then(config(oldConfig))\n}\n\nfunction config(values) {\n  if (values != null && typeof values === \"object\") {\n    Object.keys(values).map(d => put(d, values[d]))\n  }\n\n  return {\n    put,\n    get,\n    all,\n    first,\n    update,\n    delete: _delete,\n    where,\n    subscribe,\n    overload,\n  }\n}\n\nconfig.put = put\nconfig.get = get\nconfig.all = all\nconfig.first = first\nconfig.update = update\nconfig.delete = _delete\nconfig.where = where\nconfig.subscribe = subscribe\nconfig.overload = overload\n\nexport {config}\n\nconst noop = v => v\nfunction overload(opts = {}, callback = noop) {\n  return new Promise(async (resolve, reject) => {\n    const oldConfig = await all()\n    try {\n      config(opts)\n      var result = await callback(await all())\n      await resetConfig(oldConfig)\n      resolve(result)\n    } catch (error) {\n      await resetConfig(oldConfig)\n      reject(error)\n    }\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}