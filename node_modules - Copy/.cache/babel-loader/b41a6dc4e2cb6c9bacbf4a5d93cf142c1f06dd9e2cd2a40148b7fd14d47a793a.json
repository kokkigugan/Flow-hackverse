{"ast":null,"code":"import * as logger from '@onflow/util-logger';\nimport { log } from '@onflow/util-logger';\nimport _toArray from '@babel/runtime/helpers/toArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/createForOfIteratorHelper';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { invariant as invariant$1 } from '@onflow/util-invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport { config } from '@onflow/config';\nexport { config } from '@onflow/config';\nimport { Buffer, encode } from '@onflow/rlp';\nimport { send as send$1 } from '@onflow/transport-http';\nimport { sansPrefix, withPrefix } from '@onflow/util-address';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport { SHA3 } from 'sha3';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _createSuper from '@babel/runtime/helpers/createSuper';\nimport _wrapNativeSuper from '@babel/runtime/helpers/wrapNativeSuper';\nimport { template } from '@onflow/util-template';\nexport { template as cadence, template as cdc } from '@onflow/util-template';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nvar UNKNOWN\n/*                       */ = \"UNKNOWN\";\nvar SCRIPT\n/*                        */ = \"SCRIPT\";\nvar TRANSACTION\n/*                   */ = \"TRANSACTION\";\nvar GET_TRANSACTION_STATUS\n/*        */ = \"GET_TRANSACTION_STATUS\";\nvar GET_ACCOUNT\n/*                   */ = \"GET_ACCOUNT\";\nvar GET_EVENTS\n/*                    */ = \"GET_EVENTS\";\nvar PING\n/*                          */ = \"PING\";\nvar GET_TRANSACTION\n/*               */ = \"GET_TRANSACTION\";\nvar GET_BLOCK\n/*                     */ = \"GET_BLOCK\";\nvar GET_BLOCK_HEADER\n/*              */ = \"GET_BLOCK_HEADER\";\nvar GET_COLLECTION\n/*                */ = \"GET_COLLECTION\";\nvar BAD\n/* */ = \"BAD\";\nvar OK\n/*  */ = \"OK\";\nvar ACCOUNT\n/*  */ = \"ACCOUNT\";\nvar PARAM\n/*    */ = \"PARAM\";\nvar ARGUMENT\n/* */ = \"ARGUMENT\";\nvar AUTHORIZER\n/* */ = \"authorizer\";\nvar PAYER\n/*      */ = \"payer\";\nvar PROPOSER\n/*   */ = \"proposer\";\nvar ACCT = \"{\\n  \\\"kind\\\":\\\"\".concat(ACCOUNT, \"\\\",\\n  \\\"tempId\\\":null,\\n  \\\"addr\\\":null,\\n  \\\"keyId\\\":null,\\n  \\\"sequenceNum\\\":null,\\n  \\\"signature\\\":null,\\n  \\\"signingFunction\\\":null,\\n  \\\"resolve\\\":null,\\n  \\\"role\\\": {\\n    \\\"proposer\\\":false,\\n    \\\"authorizer\\\":false,\\n    \\\"payer\\\":false,\\n    \\\"param\\\":false\\n  }\\n}\");\nvar ARG = \"{\\n  \\\"kind\\\":\\\"\".concat(ARGUMENT, \"\\\",\\n  \\\"tempId\\\":null,\\n  \\\"value\\\":null,\\n  \\\"asArgument\\\":null,\\n  \\\"xform\\\":null,\\n  \\\"resolve\\\": null,\\n  \\\"resolveArgument\\\": null\\n}\");\nvar IX = \"{\\n  \\\"tag\\\":\\\"\".concat(UNKNOWN, \"\\\",\\n  \\\"assigns\\\":{},\\n  \\\"status\\\":\\\"\").concat(OK, \"\\\",\\n  \\\"reason\\\":null,\\n  \\\"accounts\\\":{},\\n  \\\"params\\\":{},\\n  \\\"arguments\\\":{},\\n  \\\"message\\\": {\\n    \\\"cadence\\\":null,\\n    \\\"refBlock\\\":null,\\n    \\\"computeLimit\\\":null,\\n    \\\"proposer\\\":null,\\n    \\\"payer\\\":null,\\n    \\\"authorizations\\\":[],\\n    \\\"params\\\":[],\\n    \\\"arguments\\\":[]\\n  },\\n  \\\"proposer\\\":null,\\n  \\\"authorizations\\\":[],\\n  \\\"payer\\\":[],\\n  \\\"events\\\": {\\n    \\\"eventType\\\":null,\\n    \\\"start\\\":null,\\n    \\\"end\\\":null,\\n    \\\"blockIds\\\":[]\\n  },\\n  \\\"transaction\\\": {\\n    \\\"id\\\":null\\n  },\\n  \\\"block\\\": {\\n    \\\"id\\\":null,\\n    \\\"height\\\":null,\\n    \\\"isSealed\\\":null\\n  },\\n  \\\"account\\\": {\\n    \\\"addr\\\":null\\n  },\\n  \\\"collection\\\": {\\n    \\\"id\\\":null\\n  }\\n}\");\nvar KEYS = new Set(Object.keys(JSON.parse(IX)));\nvar interaction = function interaction() {\n  return JSON.parse(IX);\n};\nvar CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\");\nvar randChar = function randChar() {\n  return CHARS[~~(Math.random() * CHARS.length)];\n};\nvar uuid = function uuid() {\n  return Array.from({\n    length: 10\n  }, randChar).join(\"\");\n};\nvar isNumber$1 = function isNumber(d) {\n  return typeof d === \"number\";\n};\nvar isArray$1 = function isArray(d) {\n  return Array.isArray(d);\n};\nvar isObj = function isObj(d) {\n  return d !== null && _typeof(d) === \"object\";\n};\nvar isNull = function isNull(d) {\n  return d == null;\n};\nvar isFn$3 = function isFn(d) {\n  return typeof d === \"function\";\n};\nvar isInteraction = function isInteraction(ix) {\n  if (!isObj(ix) || isNull(ix) || isNumber$1(ix)) return false;\n  var _iterator = _createForOfIteratorHelper(KEYS),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      if (!ix.hasOwnProperty(key)) return false;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return true;\n};\nvar Ok = function Ok(ix) {\n  ix.status = OK;\n  return ix;\n};\nvar Bad = function Bad(ix, reason) {\n  ix.status = BAD;\n  ix.reason = reason;\n  return ix;\n};\nvar makeIx = function makeIx(wat) {\n  return function (ix) {\n    ix.tag = wat;\n    return Ok(ix);\n  };\n};\nvar prepAccountKeyId = function prepAccountKeyId(acct) {\n  if (acct.keyId == null) return acct;\n  invariant$1(!isNaN(parseInt(acct.keyId)), \"account.keyId must be an integer\");\n  return _objectSpread(_objectSpread({}, acct), {}, {\n    keyId: parseInt(acct.keyId)\n  });\n};\nvar prepAccount = function prepAccount(acct) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (ix) {\n    invariant$1(typeof acct === \"function\" || _typeof(acct) === \"object\", \"prepAccount must be passed an authorization function or an account object\");\n    invariant$1(opts.role != null, \"Account must have a role\");\n    var ACCOUNT = JSON.parse(ACCT);\n    var role = opts.role;\n    var tempId = uuid();\n    if (acct.authorization && isFn$3(acct.authorization)) acct = {\n      resolve: acct.authorization\n    };\n    if (!acct.authorization && isFn$3(acct)) acct = {\n      resolve: acct\n    };\n    var resolve = acct.resolve;\n    if (resolve) acct.resolve = function (acct) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n      return [resolve, prepAccountKeyId].reduce( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(d, fn) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.t0 = fn;\n                  _context.t1 = void 0;\n                  _context.next = 4;\n                  return d;\n                case 4:\n                  _context.t2 = _context.sent;\n                  _context.t3 = [_context.t2].concat(rest);\n                  return _context.abrupt(\"return\", _context.t0.apply.call(_context.t0, _context.t1, _context.t3));\n                case 7:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }(), acct);\n    };\n    acct = prepAccountKeyId(acct);\n    ix.accounts[tempId] = _objectSpread(_objectSpread(_objectSpread({}, ACCOUNT), {}, {\n      tempId: tempId\n    }, acct), {}, {\n      role: _objectSpread(_objectSpread(_objectSpread({}, ACCOUNT.role), _typeof(acct.role) === \"object\" ? acct.role : {}), {}, _defineProperty({}, role, true))\n    });\n    if (role === AUTHORIZER) {\n      ix.authorizations.push(tempId);\n    } else if (role === PAYER) {\n      ix.payer.push(tempId);\n    } else {\n      ix[role] = tempId;\n    }\n    return ix;\n  };\n};\nvar makeArgument = function makeArgument(arg) {\n  return function (ix) {\n    var tempId = uuid();\n    ix.message.arguments.push(tempId);\n    ix.arguments[tempId] = JSON.parse(ARG);\n    ix.arguments[tempId].tempId = tempId;\n    ix.arguments[tempId].value = arg.value;\n    ix.arguments[tempId].asArgument = arg.asArgument;\n    ix.arguments[tempId].xform = arg.xform;\n    ix.arguments[tempId].resolve = arg.resolve;\n    ix.arguments[tempId].resolveArgument = isFn$3(arg.resolveArgument) ? arg.resolveArgument.bind(arg) : arg.resolveArgument;\n    return Ok(ix);\n  };\n};\nvar makeUnknown\n/*                 */ = makeIx(UNKNOWN);\nvar makeScript\n/*                  */ = makeIx(SCRIPT);\nvar makeTransaction\n/*             */ = makeIx(TRANSACTION);\nvar makeGetTransactionStatus\n/*    */ = makeIx(GET_TRANSACTION_STATUS);\nvar makeGetTransaction\n/*          */ = makeIx(GET_TRANSACTION);\nvar makeGetAccount\n/*              */ = makeIx(GET_ACCOUNT);\nvar makeGetEvents\n/*               */ = makeIx(GET_EVENTS);\nvar makePing\n/*                    */ = makeIx(PING);\nvar makeGetBlock\n/*                */ = makeIx(GET_BLOCK);\nvar makeGetBlockHeader\n/*          */ = makeIx(GET_BLOCK_HEADER);\nvar makeGetCollection\n/*           */ = makeIx(GET_COLLECTION);\nvar is = function is(wat) {\n  return function (ix) {\n    return ix.tag === wat;\n  };\n};\nvar isUnknown\n/*                 */ = is(UNKNOWN);\nvar isScript\n/*                  */ = is(SCRIPT);\nvar isTransaction\n/*             */ = is(TRANSACTION);\nvar isGetTransactionStatus\n/*    */ = is(GET_TRANSACTION_STATUS);\nvar isGetTransaction\n/*          */ = is(GET_TRANSACTION);\nvar isGetAccount\n/*              */ = is(GET_ACCOUNT);\nvar isGetEvents\n/*               */ = is(GET_EVENTS);\nvar isPing\n/*                    */ = is(PING);\nvar isGetBlock\n/*                */ = is(GET_BLOCK);\nvar isGetBlockHeader\n/*          */ = is(GET_BLOCK_HEADER);\nvar isGetCollection\n/*           */ = is(GET_COLLECTION);\nvar isOk\n/*  */ = function isOk\n/*  */(ix) {\n  return ix.status === OK;\n};\nvar isBad\n/* */ = function isBad\n/* */(ix) {\n  return ix.status === BAD;\n};\nvar why\n/*   */ = function why\n/*   */(ix) {\n  return ix.reason;\n};\nvar isAccount\n/*  */ = function isAccount\n/*  */(account) {\n  return account.kind === ACCOUNT;\n};\nvar isParam\n/*    */ = function isParam\n/*    */(param) {\n  return param.kind === PARAM;\n};\nvar isArgument\n/* */ = function isArgument\n/* */(argument) {\n  return argument.kind === ARGUMENT;\n};\nvar hardMode = function hardMode(ix) {\n  for (var _i = 0, _Object$keys = Object.keys(ix); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    if (!KEYS.has(key)) throw new Error(\"\\\"\".concat(key, \"\\\" is an invalid root level Interaction property.\"));\n  }\n  return ix;\n};\nvar recPipe = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var fns,\n      _fns,\n      hd,\n      rest,\n      cur,\n      _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            fns = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : [];\n            _context2.prev = 1;\n            _context2.t0 = hardMode;\n            _context2.next = 5;\n            return ix;\n          case 5:\n            _context2.t1 = _context2.sent;\n            ix = (0, _context2.t0)(_context2.t1);\n            if (!isBad(ix)) {\n              _context2.next = 9;\n              break;\n            }\n            throw new Error(\"Interaction Error: \".concat(ix.reason));\n          case 9:\n            if (fns.length) {\n              _context2.next = 11;\n              break;\n            }\n            return _context2.abrupt(\"return\", ix);\n          case 11:\n            _fns = _toArray(fns), hd = _fns[0], rest = _fns.slice(1);\n            _context2.next = 14;\n            return hd;\n          case 14:\n            cur = _context2.sent;\n            if (!isFn$3(cur)) {\n              _context2.next = 17;\n              break;\n            }\n            return _context2.abrupt(\"return\", recPipe(cur(ix), rest));\n          case 17:\n            if (!(isNull(cur) || !cur)) {\n              _context2.next = 19;\n              break;\n            }\n            return _context2.abrupt(\"return\", recPipe(ix, rest));\n          case 19:\n            if (!isInteraction(cur)) {\n              _context2.next = 21;\n              break;\n            }\n            return _context2.abrupt(\"return\", recPipe(cur, rest));\n          case 21:\n            throw new Error(\"Invalid Interaction Composition\");\n          case 24:\n            _context2.prev = 24;\n            _context2.t2 = _context2[\"catch\"](1);\n            throw _context2.t2;\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 24]]);\n  }));\n  return function recPipe(_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar pipe = function pipe() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  var arg1 = args[0],\n    arg2 = args[1];\n  if (isArray$1(arg1) && arg2 == null) return function (d) {\n    return pipe(d, arg1);\n  };\n  return recPipe(arg1, arg2);\n};\nvar identity$1 = function identity(v) {\n  return v;\n};\nvar get = function get(ix, key, fallback) {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key];\n};\nvar put = function put(key, value) {\n  return function (ix) {\n    ix.assigns[key] = value;\n    return Ok(ix);\n  };\n};\nvar update = function update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity$1;\n  return function (ix) {\n    ix.assigns[key] = fn(ix.assigns[key], ix);\n    return Ok(ix);\n  };\n};\nvar destroy = function destroy(key) {\n  return function (ix) {\n    delete ix.assigns[key];\n    return Ok(ix);\n  };\n};\nvar ixModule = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  UNKNOWN: UNKNOWN,\n  SCRIPT: SCRIPT,\n  TRANSACTION: TRANSACTION,\n  GET_TRANSACTION_STATUS: GET_TRANSACTION_STATUS,\n  GET_ACCOUNT: GET_ACCOUNT,\n  GET_EVENTS: GET_EVENTS,\n  PING: PING,\n  GET_TRANSACTION: GET_TRANSACTION,\n  GET_BLOCK: GET_BLOCK,\n  GET_BLOCK_HEADER: GET_BLOCK_HEADER,\n  GET_COLLECTION: GET_COLLECTION,\n  BAD: BAD,\n  OK: OK,\n  ACCOUNT: ACCOUNT,\n  PARAM: PARAM,\n  ARGUMENT: ARGUMENT,\n  AUTHORIZER: AUTHORIZER,\n  PAYER: PAYER,\n  PROPOSER: PROPOSER,\n  interaction: interaction,\n  uuid: uuid,\n  isNumber: isNumber$1,\n  isArray: isArray$1,\n  isObj: isObj,\n  isNull: isNull,\n  isFn: isFn$3,\n  isInteraction: isInteraction,\n  Ok: Ok,\n  Bad: Bad,\n  prepAccount: prepAccount,\n  makeArgument: makeArgument,\n  makeUnknown: makeUnknown,\n  makeScript: makeScript,\n  makeTransaction: makeTransaction,\n  makeGetTransactionStatus: makeGetTransactionStatus,\n  makeGetTransaction: makeGetTransaction,\n  makeGetAccount: makeGetAccount,\n  makeGetEvents: makeGetEvents,\n  makePing: makePing,\n  makeGetBlock: makeGetBlock,\n  makeGetBlockHeader: makeGetBlockHeader,\n  makeGetCollection: makeGetCollection,\n  isUnknown: isUnknown,\n  isScript: isScript,\n  isTransaction: isTransaction,\n  isGetTransactionStatus: isGetTransactionStatus,\n  isGetTransaction: isGetTransaction,\n  isGetAccount: isGetAccount,\n  isGetEvents: isGetEvents,\n  isPing: isPing,\n  isGetBlock: isGetBlock,\n  isGetBlockHeader: isGetBlockHeader,\n  isGetCollection: isGetCollection,\n  isOk: isOk,\n  isBad: isBad,\n  why: why,\n  isAccount: isAccount,\n  isParam: isParam,\n  isArgument: isArgument,\n  pipe: pipe,\n  get: get,\n  put: put,\n  update: update,\n  destroy: destroy\n});\nfunction build() {\n  var fns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(interaction(), fns);\n}\nvar DEFAULT_RESPONSE = \"{\\n    \\\"tag\\\":null,\\n    \\\"transaction\\\":null,\\n    \\\"transactionStatus\\\":null,\\n    \\\"transactionId\\\":null,\\n    \\\"encodedData\\\":null,\\n    \\\"events\\\":null,\\n    \\\"account\\\":null,\\n    \\\"block\\\":null,\\n    \\\"blockHeader\\\":null,\\n    \\\"latestBlock\\\":null,\\n    \\\"collection\\\":null\\n}\";\nvar response = function response() {\n  return JSON.parse(DEFAULT_RESPONSE);\n};\nfunction getBlock() {\n  var isSealed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetBlock, function (ix) {\n    ix.block.isSealed = isSealed;\n    return Ok(ix);\n  }]);\n}\nfunction getAccount(addr) {\n  return pipe([makeGetAccount, function (ix) {\n    ix.account.addr = sansPrefix(addr);\n    return Ok(ix);\n  }]);\n}\nvar latestBlockDeprecationNotice = function latestBlockDeprecationNotice() {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject: \"Operating upon data of the latestBlock field of the response object\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\"\n  });\n};\nvar decodeImplicit = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(i) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", i);\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return function decodeImplicit(_x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar decodeVoid = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", null);\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return function decodeVoid() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar decodeType = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(type) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", type.staticType);\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return function decodeType(_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar decodePath = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(path) {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", {\n              domain: path.domain,\n              identifier: path.identifier\n            });\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return function decodePath(_x6) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar decodeCapability = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(cap) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt(\"return\", {\n              path: cap.path,\n              address: cap.address,\n              borrowType: cap.borrowType\n            });\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return function decodeCapability(_x7) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar decodeOptional = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(optional, decoders, stack) {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!optional) {\n              _context7.next = 6;\n              break;\n            }\n            _context7.next = 3;\n            return recurseDecode(optional, decoders, stack);\n          case 3:\n            _context7.t0 = _context7.sent;\n            _context7.next = 7;\n            break;\n          case 6:\n            _context7.t0 = null;\n          case 7:\n            return _context7.abrupt(\"return\", _context7.t0);\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return function decodeOptional(_x8, _x9, _x10) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar decodeReference = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(v) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            return _context8.abrupt(\"return\", {\n              address: v.address,\n              type: v.type\n            });\n          case 1:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return function decodeReference(_x11) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar decodeArray = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(array, decoders, stack) {\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.next = 2;\n            return Promise.all(array.map(function (v) {\n              return new Promise( /*#__PURE__*/function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(res) {\n                  return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                    while (1) {\n                      switch (_context9.prev = _context9.next) {\n                        case 0:\n                          _context9.t0 = res;\n                          _context9.next = 3;\n                          return recurseDecode(v, decoders, [].concat(_toConsumableArray(stack), [v.type]));\n                        case 3:\n                          _context9.t1 = _context9.sent;\n                          return _context9.abrupt(\"return\", (0, _context9.t0)(_context9.t1));\n                        case 5:\n                        case \"end\":\n                          return _context9.stop();\n                      }\n                    }\n                  }, _callee9);\n                }));\n                return function (_x15) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n            }));\n          case 2:\n            return _context10.abrupt(\"return\", _context10.sent);\n          case 3:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return function decodeArray(_x12, _x13, _x14) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar decodeDictionary = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dictionary, decoders, stack) {\n    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            _context12.next = 2;\n            return dictionary.reduce( /*#__PURE__*/function () {\n              var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(acc, v) {\n                return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                  while (1) {\n                    switch (_context11.prev = _context11.next) {\n                      case 0:\n                        _context11.next = 2;\n                        return acc;\n                      case 2:\n                        acc = _context11.sent;\n                        _context11.next = 5;\n                        return recurseDecode(v.key, decoders, [].concat(_toConsumableArray(stack), [v.key]));\n                      case 5:\n                        _context11.t0 = _context11.sent;\n                        _context11.next = 8;\n                        return recurseDecode(v.value, decoders, [].concat(_toConsumableArray(stack), [v.key]));\n                      case 8:\n                        acc[_context11.t0] = _context11.sent;\n                        return _context11.abrupt(\"return\", acc);\n                      case 10:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }\n                }, _callee11);\n              }));\n              return function (_x19, _x20) {\n                return _ref12.apply(this, arguments);\n              };\n            }(), Promise.resolve({}));\n          case 2:\n            return _context12.abrupt(\"return\", _context12.sent);\n          case 3:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12);\n  }));\n  return function decodeDictionary(_x16, _x17, _x18) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar decodeComposite = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(composite, decoders, stack) {\n    var decoded, decoder;\n    return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            _context14.next = 2;\n            return composite.fields.reduce( /*#__PURE__*/function () {\n              var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(acc, v) {\n                return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n                  while (1) {\n                    switch (_context13.prev = _context13.next) {\n                      case 0:\n                        _context13.next = 2;\n                        return acc;\n                      case 2:\n                        acc = _context13.sent;\n                        _context13.next = 5;\n                        return recurseDecode(v.value, decoders, [].concat(_toConsumableArray(stack), [v.name]));\n                      case 5:\n                        acc[v.name] = _context13.sent;\n                        return _context13.abrupt(\"return\", acc);\n                      case 7:\n                      case \"end\":\n                        return _context13.stop();\n                    }\n                  }\n                }, _callee13);\n              }));\n              return function (_x24, _x25) {\n                return _ref14.apply(this, arguments);\n              };\n            }(), Promise.resolve({}));\n          case 2:\n            decoded = _context14.sent;\n            decoder = composite.id && decoderLookup(decoders, composite.id);\n            if (!decoder) {\n              _context14.next = 10;\n              break;\n            }\n            _context14.next = 7;\n            return decoder(decoded);\n          case 7:\n            _context14.t0 = _context14.sent;\n            _context14.next = 11;\n            break;\n          case 10:\n            _context14.t0 = decoded;\n          case 11:\n            return _context14.abrupt(\"return\", _context14.t0);\n          case 12:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee14);\n  }));\n  return function decodeComposite(_x21, _x22, _x23) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability\n};\nvar decoderLookup = function decoderLookup(decoders, lookup) {\n  var found = Object.keys(decoders).find(function (decoder) {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      var reg = new RegExp(decoder.substring(1, decoder.length - 1));\n      return reg.test(lookup);\n    }\n    return decoder === lookup;\n  });\n  return lookup && found && decoders[found];\n};\nvar recurseDecode = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(decodeInstructions, decoders, stack) {\n    var decoder;\n    return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            decoder = decoderLookup(decoders, decodeInstructions.type);\n            if (decoder) {\n              _context15.next = 3;\n              break;\n            }\n            throw new Error(\"Undefined Decoder Error: \".concat(decodeInstructions.type, \"@\").concat(stack.join(\".\")));\n          case 3:\n            _context15.next = 5;\n            return decoder(decodeInstructions.value, decoders, stack);\n          case 5:\n            return _context15.abrupt(\"return\", _context15.sent);\n          case 6:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee15);\n  }));\n  return function recurseDecode(_x26, _x27, _x28) {\n    return _ref15.apply(this, arguments);\n  };\n}();\nvar decode$1 = /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(decodeInstructions) {\n    var customDecoders,\n      stack,\n      filteredDecoders,\n      decoders,\n      _args16 = arguments;\n    return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            customDecoders = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : {};\n            stack = _args16.length > 2 && _args16[2] !== undefined ? _args16[2] : [];\n            // Filter out all default decoders which are overridden by a custom decoder regex\n            filteredDecoders = Object.keys(defaultDecoders).filter(function (decoder) {\n              return !Object.keys(customDecoders).find(function (customDecoder) {\n                return new RegExp(customDecoder).test(decoder);\n              });\n            }).reduce(function (decoders, decoderKey) {\n              decoders[decoderKey] = defaultDecoders[decoderKey];\n              return decoders;\n            }, customDecoders);\n            decoders = _objectSpread(_objectSpread({}, filteredDecoders), customDecoders);\n            return _context16.abrupt(\"return\", recurseDecode(decodeInstructions, decoders, stack));\n          case 5:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16);\n  }));\n  return function decode(_x29) {\n    return _ref16.apply(this, arguments);\n  };\n}();\nvar decodeResponse = /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(response) {\n    var customDecoders,\n      _args19 = arguments;\n    return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            customDecoders = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : {};\n            if (!response.encodedData) {\n              _context19.next = 5;\n              break;\n            }\n            return _context19.abrupt(\"return\", decode$1(response.encodedData, customDecoders));\n          case 5:\n            if (!response.transactionStatus) {\n              _context19.next = 16;\n              break;\n            }\n            _context19.t0 = _objectSpread;\n            _context19.t1 = _objectSpread({}, response.transactionStatus);\n            _context19.t2 = {};\n            _context19.next = 11;\n            return Promise.all(response.transactionStatus.events.map( /*#__PURE__*/function () {\n              var _decodeEvents = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(e) {\n                return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n                  while (1) {\n                    switch (_context17.prev = _context17.next) {\n                      case 0:\n                        _context17.t0 = e.type;\n                        _context17.t1 = e.transactionId;\n                        _context17.t2 = e.transactionIndex;\n                        _context17.t3 = e.eventIndex;\n                        _context17.next = 6;\n                        return decode$1(e.payload, customDecoders);\n                      case 6:\n                        _context17.t4 = _context17.sent;\n                        return _context17.abrupt(\"return\", {\n                          type: _context17.t0,\n                          transactionId: _context17.t1,\n                          transactionIndex: _context17.t2,\n                          eventIndex: _context17.t3,\n                          data: _context17.t4\n                        });\n                      case 8:\n                      case \"end\":\n                        return _context17.stop();\n                    }\n                  }\n                }, _callee17);\n              }));\n              function decodeEvents(_x31) {\n                return _decodeEvents.apply(this, arguments);\n              }\n              return decodeEvents;\n            }()));\n          case 11:\n            _context19.t3 = _context19.sent;\n            _context19.t4 = {\n              events: _context19.t3\n            };\n            return _context19.abrupt(\"return\", (0, _context19.t0)(_context19.t1, _context19.t2, _context19.t4));\n          case 16:\n            if (!response.transaction) {\n              _context19.next = 20;\n              break;\n            }\n            return _context19.abrupt(\"return\", response.transaction);\n          case 20:\n            if (!response.events) {\n              _context19.next = 26;\n              break;\n            }\n            _context19.next = 23;\n            return Promise.all(response.events.map( /*#__PURE__*/function () {\n              var _decodeEvents2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(e) {\n                return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n                  while (1) {\n                    switch (_context18.prev = _context18.next) {\n                      case 0:\n                        _context18.t0 = e.blockId;\n                        _context18.t1 = e.blockHeight;\n                        _context18.t2 = e.blockTimestamp;\n                        _context18.t3 = e.type;\n                        _context18.t4 = e.transactionId;\n                        _context18.t5 = e.transactionIndex;\n                        _context18.t6 = e.eventIndex;\n                        _context18.next = 9;\n                        return decode$1(e.payload, customDecoders);\n                      case 9:\n                        _context18.t7 = _context18.sent;\n                        return _context18.abrupt(\"return\", {\n                          blockId: _context18.t0,\n                          blockHeight: _context18.t1,\n                          blockTimestamp: _context18.t2,\n                          type: _context18.t3,\n                          transactionId: _context18.t4,\n                          transactionIndex: _context18.t5,\n                          eventIndex: _context18.t6,\n                          data: _context18.t7\n                        });\n                      case 11:\n                      case \"end\":\n                        return _context18.stop();\n                    }\n                  }\n                }, _callee18);\n              }));\n              function decodeEvents(_x32) {\n                return _decodeEvents2.apply(this, arguments);\n              }\n              return decodeEvents;\n            }()));\n          case 23:\n            return _context19.abrupt(\"return\", _context19.sent);\n          case 26:\n            if (!response.account) {\n              _context19.next = 30;\n              break;\n            }\n            return _context19.abrupt(\"return\", response.account);\n          case 30:\n            if (!response.block) {\n              _context19.next = 34;\n              break;\n            }\n            return _context19.abrupt(\"return\", response.block);\n          case 34:\n            if (!response.blockHeader) {\n              _context19.next = 38;\n              break;\n            }\n            return _context19.abrupt(\"return\", response.blockHeader);\n          case 38:\n            if (!response.latestBlock) {\n              _context19.next = 43;\n              break;\n            }\n            latestBlockDeprecationNotice();\n            return _context19.abrupt(\"return\", response.latestBlock);\n          case 43:\n            if (!response.transactionId) {\n              _context19.next = 47;\n              break;\n            }\n            return _context19.abrupt(\"return\", response.transactionId);\n          case 47:\n            if (!response.collection) {\n              _context19.next = 49;\n              break;\n            }\n            return _context19.abrupt(\"return\", response.collection);\n          case 49:\n            return _context19.abrupt(\"return\", null);\n          case 50:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee19);\n  }));\n  return function decodeResponse(_x30) {\n    return _ref17.apply(this, arguments);\n  };\n}();\nfunction getRefId(_x) {\n  return _getRefId.apply(this, arguments);\n}\nfunction _getRefId() {\n  _getRefId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(opts) {\n    var node, sendFn, ix;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return config().get(\"accessNode.api\");\n          case 2:\n            node = _context2.sent;\n            _context2.next = 5;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n          case 5:\n            sendFn = _context2.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context2.next = 9;\n            return pipe(interaction(), [getBlock()]);\n          case 9:\n            ix = _context2.sent;\n            _context2.next = 12;\n            return sendFn(ix, {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            }, {\n              node: node\n            });\n          case 12:\n            ix = _context2.sent;\n            _context2.next = 15;\n            return decodeResponse(ix);\n          case 15:\n            ix = _context2.sent;\n            return _context2.abrupt(\"return\", ix.id);\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getRefId.apply(this, arguments);\n}\nfunction resolveRefBlockId(opts) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (isTransaction(ix)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\", Ok(ix));\n            case 2:\n              if (!ix.message.refBlock) {\n                _context.next = 4;\n                break;\n              }\n              return _context.abrupt(\"return\", Ok(ix));\n            case 4:\n              _context.next = 6;\n              return getRefId(opts);\n            case 6:\n              ix.message.refBlock = _context.sent;\n              return _context.abrupt(\"return\", Ok(ix));\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\nvar isFn$2 = function isFn(v) {\n  return typeof v === \"function\";\n};\nvar isString$1 = function isString(v) {\n  return typeof v === \"string\";\n};\nfunction resolveCadence(_x) {\n  return _resolveCadence.apply(this, arguments);\n}\nfunction _resolveCadence() {\n  _resolveCadence = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var cadence;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(isTransaction(ix) || isScript(ix))) {\n              _context.next = 11;\n              break;\n            }\n            cadence = get(ix, \"ix.cadence\");\n            invariant$1(isFn$2(cadence) || isString$1(cadence), \"Cadence needs to be a function or a string.\");\n            if (!isFn$2(cadence)) {\n              _context.next = 7;\n              break;\n            }\n            _context.next = 6;\n            return cadence({});\n          case 6:\n            cadence = _context.sent;\n          case 7:\n            invariant$1(isString$1(cadence), \"Cadence needs to be a string at this point.\");\n            _context.next = 10;\n            return config().where(/^0x/).then(function (d) {\n              return Object.entries(d).reduce(function (cadence, _ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                  key = _ref2[0],\n                  value = _ref2[1];\n                var regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\");\n                return cadence.replace(regex, value);\n              }, cadence);\n            });\n          case 10:\n            ix.message.cadence = _context.sent;\n          case 11:\n            return _context.abrupt(\"return\", ix);\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveCadence.apply(this, arguments);\n}\nvar isFn$1 = function isFn(v) {\n  return typeof v === \"function\";\n};\nfunction cast(arg) {\n  // prettier-ignore\n  invariant$1(_typeof(arg.xform) != null, \"No type specified for argument: \".concat(arg.value));\n  if (isFn$1(arg.xform)) return arg.xform(arg.value);\n  if (isFn$1(arg.xform.asArgument)) return arg.xform.asArgument(arg.value); // prettier-ignore\n\n  invariant$1(false, \"Invalid Argument\", arg);\n}\nfunction handleArgResolution(_x) {\n  return _handleArgResolution.apply(this, arguments);\n}\nfunction _handleArgResolution() {\n  _handleArgResolution = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(arg) {\n    var depth,\n      resolvedArg,\n      _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            depth = _args.length > 1 && _args[1] !== undefined ? _args[1] : 3;\n            invariant$1(depth > 0, \"Argument Resolve Recursion Limit Exceeded for Arg: \".concat(arg.tempId));\n            if (!isFn$1(arg.resolveArgument)) {\n              _context.next = 9;\n              break;\n            }\n            _context.next = 5;\n            return arg.resolveArgument();\n          case 5:\n            resolvedArg = _context.sent;\n            return _context.abrupt(\"return\", handleArgResolution(resolvedArg, depth - 1));\n          case 9:\n            return _context.abrupt(\"return\", arg);\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _handleArgResolution.apply(this, arguments);\n}\nfunction resolveArguments(_x2) {\n  return _resolveArguments.apply(this, arguments);\n}\nfunction _resolveArguments() {\n  _resolveArguments = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var _i, _Object$entries, _Object$entries$_i, id, arg, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(isTransaction(ix) || isScript(ix))) {\n              _context2.next = 11;\n              break;\n            }\n            _i = 0, _Object$entries = Object.entries(ix.arguments);\n          case 2:\n            if (!(_i < _Object$entries.length)) {\n              _context2.next = 11;\n              break;\n            }\n            _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), id = _Object$entries$_i[0], arg = _Object$entries$_i[1];\n            _context2.next = 6;\n            return handleArgResolution(arg);\n          case 6:\n            res = _context2.sent;\n            ix.arguments[id].asArgument = cast(res);\n          case 8:\n            _i++;\n            _context2.next = 2;\n            break;\n          case 11:\n            return _context2.abrupt(\"return\", ix);\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _resolveArguments.apply(this, arguments);\n}\nvar encodeTransactionPayload = function encodeTransactionPayload(tx) {\n  return prependTransactionDomainTag(rlpEncode(preparePayload(tx)));\n};\nvar encodeTransactionEnvelope = function encodeTransactionEnvelope(tx) {\n  return prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)));\n};\nvar encodeTxIdFromVoucher = function encodeTxIdFromVoucher(voucher) {\n  return sha3_256(rlpEncode(prepareVoucher(voucher)));\n};\nvar rightPaddedHexBuffer = function rightPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padEnd(pad * 2, 0), \"hex\");\n};\nvar leftPaddedHexBuffer = function leftPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padStart(pad * 2, 0), \"hex\");\n};\nvar TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\");\nvar prependTransactionDomainTag = function prependTransactionDomainTag(tx) {\n  return TRANSACTION_DOMAIN_TAG + tx;\n};\nvar addressBuffer = function addressBuffer(addr) {\n  return leftPaddedHexBuffer(addr, 8);\n};\nvar blockBuffer = function blockBuffer(block) {\n  return leftPaddedHexBuffer(block, 32);\n};\nvar argumentToString = function argumentToString(arg) {\n  return Buffer.from(JSON.stringify(arg), \"utf8\");\n};\nvar scriptBuffer = function scriptBuffer(script) {\n  return Buffer.from(script, \"utf8\");\n};\nvar signatureBuffer = function signatureBuffer(signature) {\n  return Buffer.from(signature, \"hex\");\n};\nvar rlpEncode = function rlpEncode(v) {\n  return encode(v).toString(\"hex\");\n};\nvar sha3_256 = function sha3_256(msg) {\n  var sha = new SHA3(256);\n  sha.update(Buffer.from(msg, \"hex\"));\n  return sha.digest().toString(\"hex\");\n};\nvar preparePayload = function preparePayload(tx) {\n  validatePayload(tx);\n  return [scriptBuffer(tx.cadence), tx.arguments.map(argumentToString), blockBuffer(tx.refBlock), tx.computeLimit, addressBuffer(sansPrefix(tx.proposalKey.address)), tx.proposalKey.keyId, tx.proposalKey.sequenceNum, addressBuffer(sansPrefix(tx.payer)), tx.authorizers.map(function (authorizer) {\n    return addressBuffer(sansPrefix(authorizer));\n  })];\n};\nvar prepareEnvelope = function prepareEnvelope(tx) {\n  validateEnvelope(tx);\n  return [preparePayload(tx), preparePayloadSignatures(tx)];\n};\nvar preparePayloadSignatures = function preparePayloadSignatures(tx) {\n  var signers = collectSigners(tx);\n  return tx.payloadSigs.map(function (sig) {\n    return {\n      signerIndex: signers.get(sig.address),\n      keyId: sig.keyId,\n      sig: sig.sig\n    };\n  }).sort(function (a, b) {\n    if (a.signerIndex > b.signerIndex) return 1;\n    if (a.signerIndex < b.signerIndex) return -1;\n    if (a.keyId > b.keyId) return 1;\n    if (a.keyId < b.keyId) return -1;\n  }).map(function (sig) {\n    return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)];\n  });\n};\nvar collectSigners = function collectSigners(tx) {\n  var signers = new Map();\n  var i = 0;\n  var addSigner = function addSigner(addr) {\n    if (!signers.has(addr)) {\n      signers.set(addr, i);\n      i++;\n    }\n  };\n  addSigner(tx.proposalKey.address);\n  addSigner(tx.payer);\n  tx.authorizers.forEach(addSigner);\n  return signers;\n};\nvar prepareVoucher = function prepareVoucher(voucher) {\n  validateVoucher(voucher);\n  var signers = collectSigners(voucher);\n  var prepareSigs = function prepareSigs(sigs) {\n    return sigs.map(function (_ref) {\n      var address = _ref.address,\n        keyId = _ref.keyId,\n        sig = _ref.sig;\n      return {\n        signerIndex: signers.get(address),\n        keyId: keyId,\n        sig: sig\n      };\n    }).sort(function (a, b) {\n      if (a.signerIndex > b.signerIndex) return 1;\n      if (a.signerIndex < b.signerIndex) return -1;\n      if (a.keyId > b.keyId) return 1;\n      if (a.keyId < b.keyId) return -1;\n    }).map(function (sig) {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)];\n    });\n  };\n  return [[scriptBuffer(voucher.cadence), voucher.arguments.map(argumentToString), blockBuffer(voucher.refBlock), voucher.computeLimit, addressBuffer(sansPrefix(voucher.proposalKey.address)), voucher.proposalKey.keyId, voucher.proposalKey.sequenceNum, addressBuffer(sansPrefix(voucher.payer)), voucher.authorizers.map(function (authorizer) {\n    return addressBuffer(sansPrefix(authorizer));\n  })], prepareSigs(voucher.payloadSigs), prepareSigs(voucher.envelopeSigs)];\n};\nvar validatePayload = function validatePayload(tx) {\n  payloadFields.forEach(function (field) {\n    return checkField(tx, field);\n  });\n  proposalKeyFields.forEach(function (field) {\n    return checkField(tx.proposalKey, field, \"proposalKey\");\n  });\n};\nvar validateEnvelope = function validateEnvelope(tx) {\n  payloadSigsFields.forEach(function (field) {\n    return checkField(tx, field);\n  });\n  tx.payloadSigs.forEach(function (sig, index) {\n    payloadSigFields.forEach(function (field) {\n      return checkField(sig, field, \"payloadSigs\", index);\n    });\n  });\n};\nvar validateVoucher = function validateVoucher(voucher) {\n  payloadFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  proposalKeyFields.forEach(function (field) {\n    return checkField(voucher.proposalKey, field, \"proposalKey\");\n  });\n  payloadSigsFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  voucher.payloadSigs.forEach(function (sig, index) {\n    payloadSigFields.forEach(function (field) {\n      return checkField(sig, field, \"payloadSigs\", index);\n    });\n  });\n  envelopeSigsFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  voucher.envelopeSigs.forEach(function (sig, index) {\n    envelopeSigFields.forEach(function (field) {\n      return checkField(sig, field, \"envelopeSigs\", index);\n    });\n  });\n};\nvar isNumber = function isNumber(v) {\n  return typeof v === \"number\";\n};\nvar isString = function isString(v) {\n  return typeof v === \"string\";\n};\nvar isObject = function isObject(v) {\n  return v !== null && _typeof(v) === \"object\";\n};\nvar isArray = function isArray(v) {\n  return isObject(v) && v instanceof Array;\n};\nvar payloadFields = [{\n  name: \"cadence\",\n  check: isString\n}, {\n  name: \"arguments\",\n  check: isArray\n}, {\n  name: \"refBlock\",\n  check: isString,\n  defaultVal: \"0\"\n}, {\n  name: \"computeLimit\",\n  check: isNumber\n}, {\n  name: \"proposalKey\",\n  check: isObject\n}, {\n  name: \"payer\",\n  check: isString\n}, {\n  name: \"authorizers\",\n  check: isArray\n}];\nvar proposalKeyFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sequenceNum\",\n  check: isNumber\n}];\nvar payloadSigsFields = [{\n  name: \"payloadSigs\",\n  check: isArray\n}];\nvar payloadSigFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sig\",\n  check: isString\n}];\nvar envelopeSigsFields = [{\n  name: \"envelopeSigs\",\n  check: isArray\n}];\nvar envelopeSigFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sig\",\n  check: isString\n}];\nvar checkField = function checkField(obj, field, base, index) {\n  var name = field.name,\n    check = field.check,\n    defaultVal = field.defaultVal;\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal;\n  if (obj[name] == null) throw missingFieldError(name, base, index);\n  if (!check(obj[name])) throw invalidFieldError(name, base, index);\n};\nvar printFieldName = function printFieldName(field, base, index) {\n  if (!!base) return index == null ? \"\".concat(base, \".\").concat(field) : \"\".concat(base, \".\").concat(index, \".\").concat(field);\n  return field;\n};\nvar missingFieldError = function missingFieldError(field, base, index) {\n  return new Error(\"Missing field \".concat(printFieldName(field, base, index)));\n};\nvar invalidFieldError = function invalidFieldError(field, base, index) {\n  return new Error(\"Invalid field \".concat(printFieldName(field, base, index)));\n};\nfunction findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  var inside = new Set(ix.authorizations);\n  inside.add(ix.proposer);\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(function (p) {\n      return inside[\"delete\"](p);\n    });\n  } else {\n    inside[\"delete\"](ix.payer);\n  }\n  return Array.from(inside);\n}\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  var outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer]);\n  return Array.from(outside);\n}\nvar createSignableVoucher = function createSignableVoucher(ix) {\n  var buildAuthorizers = function buildAuthorizers() {\n    var authorizations = ix.authorizations.map(function (cid) {\n      return withPrefix(ix.accounts[cid].addr);\n    }).reduce(function (prev, current) {\n      return prev.find(function (item) {\n        return item === current;\n      }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n    }, []);\n    return authorizations[0] ? authorizations : [];\n  };\n  var buildInsideSigners = function buildInsideSigners() {\n    return findInsideSigners(ix).map(function (id) {\n      return {\n        address: withPrefix(ix.accounts[id].addr),\n        keyId: ix.accounts[id].keyId,\n        sig: ix.accounts[id].signature\n      };\n    });\n  };\n  var buildOutsideSigners = function buildOutsideSigners() {\n    return findOutsideSigners(ix).map(function (id) {\n      return {\n        address: withPrefix(ix.accounts[id].addr),\n        keyId: ix.accounts[id].keyId,\n        sig: ix.accounts[id].signature\n      };\n    });\n  };\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(function (id) {\n      return ix.arguments[id].asArgument;\n    }),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum\n    },\n    payer: withPrefix(ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners()\n  };\n};\nvar voucherToTxId = function voucherToTxId(voucher) {\n  return encodeTxIdFromVoucher(voucher);\n};\nvar idof$1 = function idof(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\nvar isFn = function isFn(v) {\n  return typeof v === \"function\";\n};\nfunction buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(function (d) {\n        return ix.arguments[d].asArgument;\n      }),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix)\n    };\n  } catch (error) {\n    console.error(\"buildPreSignable\", error);\n    throw error;\n  }\n}\nfunction collectAccounts(_x, _x2, _x3) {\n  return _collectAccounts.apply(this, arguments);\n}\nfunction _collectAccounts() {\n  _collectAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix, accounts, last) {\n    var depth,\n      authorizations,\n      _iterator,\n      _step,\n      _loop,\n      old,\n      _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            depth = _args2.length > 3 && _args2[3] !== undefined ? _args2[3] : 3;\n            invariant$1(depth, \"Account Resolve Recursion Limit Exceeded\", {\n              ix: ix,\n              accounts: accounts\n            });\n            authorizations = [];\n            _iterator = _createForOfIteratorHelper(accounts);\n            _context2.prev = 4;\n            _loop = /*#__PURE__*/_regeneratorRuntime.mark(function _loop() {\n              var ax, resolve, dupList, payerAccts, multiAccts;\n              return _regeneratorRuntime.wrap(function _loop$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      ax = _step.value;\n                      resolve = ax.resolve;\n                      ax.resolve = null;\n                      old = last || ax;\n                      if (!isFn(resolve)) {\n                        _context.next = 8;\n                        break;\n                      }\n                      _context.next = 7;\n                      return resolve(ax, buildPreSignable(ax, ix));\n                    case 7:\n                      ax = _context.sent;\n                    case 8:\n                      if (!Array.isArray(ax)) {\n                        _context.next = 13;\n                        break;\n                      }\n                      _context.next = 11;\n                      return collectAccounts(ix, ax, old, depth - 1);\n                    case 11:\n                      _context.next = 30;\n                      break;\n                    case 13:\n                      if (ax.addr) {\n                        ax.addr = sansPrefix(ax.addr);\n                      }\n                      if (ax.addr != null && ax.keyId != null) {\n                        ax.tempId = idof$1(ax);\n                      }\n                      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax;\n                      ix.accounts[ax.tempId].role.proposer = ix.accounts[ax.tempId].role.proposer || ax.role.proposer;\n                      ix.accounts[ax.tempId].role.payer = ix.accounts[ax.tempId].role.payer || ax.role.payer;\n                      ix.accounts[ax.tempId].role.authorizer = ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer;\n                      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n                        ix.proposer = ax.tempId;\n                      }\n                      if (!ix.accounts[ax.tempId].role.payer) {\n                        _context.next = 29;\n                        break;\n                      }\n                      if (Array.isArray(ix.payer)) {\n                        ix.payer = Array.from(new Set([].concat(_toConsumableArray(ix.payer), [ax.tempId]).map(function (d) {\n                          return d === old.tempId ? ax.tempId : d;\n                        })));\n                      } else {\n                        ix.payer = Array.from(new Set([ix.payer, ax.tempId].map(function (d) {\n                          return d === old.tempId ? ax.tempId : d;\n                        })));\n                      }\n                      if (!(ix.payer.length > 1)) {\n                        _context.next = 29;\n                        break;\n                      }\n\n                      // remove payer dups based on addr and keyId\n                      dupList = [];\n                      payerAccts = [];\n                      ix.payer = ix.payer.reduce(function (g, tempId) {\n                        var addr = ix.accounts[tempId].addr;\n                        var key = idof$1(ix.accounts[tempId]);\n                        payerAccts.push(addr);\n                        if (dupList.includes(key)) return g;\n                        dupList.push(key);\n                        return [].concat(_toConsumableArray(g), [tempId]);\n                      }, []);\n                      multiAccts = Array.from(new Set(payerAccts));\n                      if (!(multiAccts.length > 1)) {\n                        _context.next = 29;\n                        break;\n                      }\n                      throw new Error(\"Payer can not be different accounts\");\n                    case 29:\n                      if (ix.accounts[ax.tempId].role.authorizer) {\n                        if (last) {\n                          // do group replacement\n                          authorizations = Array.from(new Set([].concat(_toConsumableArray(authorizations), [ax.tempId])));\n                        } else {\n                          // do 1-1 replacement\n                          ix.authorizations = ix.authorizations.map(function (d) {\n                            return d === old.tempId ? ax.tempId : d;\n                          });\n                        }\n                      }\n                    case 30:\n                      if (old.tempId != ax.tempId) delete ix.accounts[old.tempId];\n                    case 31:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _loop);\n            });\n            _iterator.s();\n          case 7:\n            if ((_step = _iterator.n()).done) {\n              _context2.next = 11;\n              break;\n            }\n            return _context2.delegateYield(_loop(), \"t0\", 9);\n          case 9:\n            _context2.next = 7;\n            break;\n          case 11:\n            _context2.next = 16;\n            break;\n          case 13:\n            _context2.prev = 13;\n            _context2.t1 = _context2[\"catch\"](4);\n            _iterator.e(_context2.t1);\n          case 16:\n            _context2.prev = 16;\n            _iterator.f();\n            return _context2.finish(16);\n          case 19:\n            if (last) {\n              // complete (flatmap) group replacement\n              ix.authorizations = ix.authorizations.map(function (d) {\n                return d === last.tempId ? authorizations : d;\n              }).reduce(function (prev, curr) {\n                return Array.isArray(curr) ? [].concat(_toConsumableArray(prev), _toConsumableArray(curr)) : [].concat(_toConsumableArray(prev), [curr]);\n              }, []);\n            }\n          case 20:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee, null, [[4, 13, 16, 19]]);\n  }));\n  return _collectAccounts.apply(this, arguments);\n}\nfunction resolveAccounts(_x4) {\n  return _resolveAccounts.apply(this, arguments);\n}\nfunction _resolveAccounts() {\n  _resolveAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context3.next = 13;\n              break;\n            }\n            if (!Array.isArray(ix.payer)) {\n              log.deprecate({\n                pkg: \"FCL\",\n                subject: '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n                message: \"See changelog for more info.\"\n              });\n            }\n            _context3.prev = 2;\n            _context3.next = 5;\n            return collectAccounts(ix, Object.values(ix.accounts));\n          case 5:\n            _context3.next = 7;\n            return collectAccounts(ix, Object.values(ix.accounts));\n          case 7:\n            _context3.next = 13;\n            break;\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](2);\n            console.error(\"=== SAD PANDA ===\\n\\n\", _context3.t0, \"\\n\\n=== SAD PANDA ===\");\n            throw _context3.t0;\n          case 13:\n            return _context3.abrupt(\"return\", ix);\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee2, null, [[2, 9]]);\n  }));\n  return _resolveAccounts.apply(this, arguments);\n}\nfunction resolveSignatures(_x) {\n  return _resolveSignatures.apply(this, arguments);\n}\nfunction _resolveSignatures() {\n  _resolveSignatures = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var insideSigners, insidePayload, outsideSigners, outsidePayload;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context2.next = 16;\n              break;\n            }\n            _context2.prev = 1;\n            insideSigners = findInsideSigners(ix);\n            insidePayload = encodeTransactionPayload(prepForEncoding(ix));\n            _context2.next = 6;\n            return Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)));\n          case 6:\n            outsideSigners = findOutsideSigners(ix);\n            outsidePayload = encodeTransactionEnvelope(_objectSpread(_objectSpread({}, prepForEncoding(ix)), {}, {\n              payloadSigs: insideSigners.map(function (id) {\n                return {\n                  address: ix.accounts[id].addr,\n                  keyId: ix.accounts[id].keyId,\n                  sig: ix.accounts[id].signature\n                };\n              })\n            }));\n            _context2.next = 10;\n            return Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)));\n          case 10:\n            _context2.next = 16;\n            break;\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.error(\"Signatures\", _context2.t0, {\n              ix: ix\n            });\n            throw _context2.t0;\n          case 16:\n            return _context2.abrupt(\"return\", ix);\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 12]]);\n  }));\n  return _resolveSignatures.apply(this, arguments);\n}\nfunction fetchSignature(ix, payload) {\n  return /*#__PURE__*/function () {\n    var _innerFetchSignature = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var acct, _yield$acct$signingFu, signature;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              acct = ix.accounts[id];\n              if (!(acct.signature != null)) {\n                _context.next = 3;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 3:\n              _context.next = 5;\n              return acct.signingFunction(buildSignable(acct, payload, ix));\n            case 5:\n              _yield$acct$signingFu = _context.sent;\n              signature = _yield$acct$signingFu.signature;\n              ix.accounts[id].signature = signature;\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function innerFetchSignature(_x2) {\n      return _innerFetchSignature.apply(this, arguments);\n    }\n    return innerFetchSignature;\n  }();\n}\nfunction buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message: message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(function (d) {\n        return ix.arguments[d].asArgument;\n      }),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix)\n    };\n  } catch (error) {\n    console.error(\"buildSignable\", error);\n    throw error;\n  }\n}\nfunction prepForEncoding(ix) {\n  var payerAddress = sansPrefix((Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer]).addr);\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(function (id) {\n      return ix.arguments[id].asArgument;\n    }),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations.map(function (cid) {\n      return sansPrefix(ix.accounts[cid].addr);\n    }).reduce(function (prev, current) {\n      return prev.find(function (item) {\n        return item === current;\n      }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n    }, [])\n  };\n}\nfunction resolveValidators(_x) {\n  return _resolveValidators.apply(this, arguments);\n}\nfunction _resolveValidators() {\n  _resolveValidators = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var validators;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            validators = get(ix, \"ix.validators\", []);\n            return _context.abrupt(\"return\", pipe(ix, validators.map(function (cb) {\n              return function (ix) {\n                return cb(ix, {\n                  Ok: Ok,\n                  Bad: Bad\n                });\n              };\n            })));\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveValidators.apply(this, arguments);\n}\nfunction resolveFinalNormalization(_x) {\n  return _resolveFinalNormalization.apply(this, arguments);\n}\nfunction _resolveFinalNormalization() {\n  _resolveFinalNormalization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var _i, _Object$keys, key;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            for (_i = 0, _Object$keys = Object.keys(ix.accounts); _i < _Object$keys.length; _i++) {\n              key = _Object$keys[_i];\n              ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr);\n            }\n            return _context.abrupt(\"return\", ix);\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveFinalNormalization.apply(this, arguments);\n}\nfunction resolveVoucherIntercept(_x) {\n  return _resolveVoucherIntercept.apply(this, arguments);\n}\nfunction _resolveVoucherIntercept() {\n  _resolveVoucherIntercept = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    var fn;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fn = get(ix, \"ix.voucher-intercept\");\n            if (!isFn$3(fn)) {\n              _context.next = 4;\n              break;\n            }\n            _context.next = 4;\n            return fn(createSignableVoucher(ix));\n          case 4:\n            return _context.abrupt(\"return\", ix);\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveVoucherIntercept.apply(this, arguments);\n}\nvar DEFAULT_COMPUTE_LIMIT = 100;\nfunction resolveComputeLimit(_x) {\n  return _resolveComputeLimit.apply(this, arguments);\n}\nfunction _resolveComputeLimit() {\n  _resolveComputeLimit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context.next = 8;\n              break;\n            }\n            _context.t0 = ix.message.computeLimit;\n            if (_context.t0) {\n              _context.next = 6;\n              break;\n            }\n            _context.next = 5;\n            return config.get(\"fcl.limit\");\n          case 5:\n            _context.t0 = _context.sent;\n          case 6:\n            ix.message.computeLimit = _context.t0;\n            if (!ix.message.computeLimit) {\n              logger.log.deprecate({\n                pkg: \"FCL/SDK\",\n                subject: \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n                transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\"\n              });\n              ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT;\n            }\n          case 8:\n            return _context.abrupt(\"return\", ix);\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resolveComputeLimit.apply(this, arguments);\n}\nvar noop = function noop(v) {\n  return v;\n};\nvar debug = function debug(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      var accts, log;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              accts = function accts(ix) {\n                return [\"\\nAccounts:\", {\n                  proposer: ix.proposer,\n                  authorizations: ix.authorizations,\n                  payer: ix.payer\n                }, \"\\n\\nDetails:\", ix.accounts].filter(Boolean);\n              };\n              log = function log() {\n                var _console;\n                for (var _len = arguments.length, msg = new Array(_len), _key = 0; _key < _len; _key++) {\n                  msg[_key] = arguments[_key];\n                }\n                (_console = console).log.apply(_console, [\"debug[\".concat(key, \"] ---\\n\")].concat(msg, [\"\\n\\n\\n---\"]));\n              };\n              _context.next = 5;\n              return config.get(\"debug.\".concat(key));\n            case 5:\n              if (!_context.sent) {\n                _context.next = 8;\n                break;\n              }\n              _context.next = 8;\n              return fn(ix, log, accts);\n            case 8:\n              return _context.abrupt(\"return\", ix);\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nvar resolve = pipe([resolveCadence, debug(\"cadence\", function (ix, log) {\n  return log(ix.message.cadence);\n}), resolveComputeLimit, debug(\"compute limit\", function (ix, log) {\n  return log(ix.message.computeLimit);\n}), resolveArguments, debug(\"arguments\", function (ix, log) {\n  return log(ix.message.arguments, ix.message);\n}), resolveAccounts, debug(\"accounts\", function (ix, log, accts) {\n  return log.apply(void 0, _toConsumableArray(accts(ix)));\n}), /* special */\nexecFetchRef, /* special */\nexecFetchSequenceNumber, resolveSignatures, debug(\"signatures\", function (ix, log, accts) {\n  return log.apply(void 0, _toConsumableArray(accts(ix)));\n}), resolveFinalNormalization, resolveValidators, resolveVoucherIntercept, debug(\"resolved\", function (ix, log) {\n  return log(ix);\n})]);\nfunction execFetchRef(_x2) {\n  return _execFetchRef.apply(this, arguments);\n}\nfunction _execFetchRef() {\n  _execFetchRef = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ix) {\n    var node, sendFn;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(isTransaction(ix) && ix.message.refBlock == null)) {\n              _context2.next = 11;\n              break;\n            }\n            _context2.next = 3;\n            return config().get(\"accessNode.api\");\n          case 3:\n            node = _context2.sent;\n            _context2.next = 6;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n          case 6:\n            sendFn = _context2.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context2.next = 10;\n            return sendFn(build([getBlock()]), {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            }, {\n              node: node\n            }).then(decodeResponse);\n          case 10:\n            ix.message.refBlock = _context2.sent.id;\n          case 11:\n            return _context2.abrupt(\"return\", ix);\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _execFetchRef.apply(this, arguments);\n}\nfunction execFetchSequenceNumber(_x3) {\n  return _execFetchSequenceNumber.apply(this, arguments);\n}\nfunction _execFetchSequenceNumber() {\n  _execFetchSequenceNumber = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ix) {\n    var acct, node, sendFn;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!isTransaction(ix)) {\n              _context3.next = 20;\n              break;\n            }\n            acct = Object.values(ix.accounts).find(function (a) {\n              return a.role.proposer;\n            });\n            invariant$1(acct, \"Transactions require a proposer\");\n            if (!(acct.sequenceNum == null)) {\n              _context3.next = 20;\n              break;\n            }\n            _context3.next = 6;\n            return config().get(\"accessNode.api\");\n          case 6:\n            node = _context3.sent;\n            _context3.next = 9;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n          case 9:\n            sendFn = _context3.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context3.t0 = sendFn;\n            _context3.next = 14;\n            return build([getAccount(acct.addr)]);\n          case 14:\n            _context3.t1 = _context3.sent;\n            _context3.t2 = {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            };\n            _context3.t3 = {\n              node: node\n            };\n            _context3.next = 19;\n            return (0, _context3.t0)(_context3.t1, _context3.t2, _context3.t3).then(decodeResponse).then(function (acct) {\n              return acct.keys;\n            }).then(function (keys) {\n              return keys.find(function (key) {\n                return key.index === acct.keyId;\n              });\n            }).then(function (key) {\n              return key.sequenceNumber;\n            });\n          case 19:\n            ix.accounts[acct.tempId].sequenceNum = _context3.sent;\n          case 20:\n            return _context3.abrupt(\"return\", ix);\n          case 21:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _execFetchSequenceNumber.apply(this, arguments);\n}\nfunction invariant() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (args.length > 1) {\n    var predicate = args[0],\n      message = args[1];\n    return invariant(function (ix, _ref) {\n      var Ok = _ref.Ok,\n        Bad = _ref.Bad;\n      return predicate ? Ok(ix) : Bad(ix, message);\n    });\n  }\n  var fn = args[0];\n  return function (ix) {\n    return fn(ix, {\n      Ok: Ok,\n      Bad: Bad\n    });\n  };\n}\nvar send = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var args,\n      opts,\n      sendFn,\n      resolveFn,\n      _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            args = _args.length > 0 && _args[0] !== undefined ? _args[0] : [];\n            opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            _context.next = 4;\n            return config.first([\"sdk.transport\", \"sdk.send\"], opts.send || send$1);\n          case 4:\n            sendFn = _context.sent;\n            invariant(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context.next = 8;\n            return config.first([\"sdk.resolve\"], opts.resolve || resolve);\n          case 8:\n            resolveFn = _context.sent;\n            _context.t0 = opts.node;\n            if (_context.t0) {\n              _context.next = 14;\n              break;\n            }\n            _context.next = 13;\n            return config().get(\"accessNode.api\");\n          case 13:\n            _context.t0 = _context.sent;\n          case 14:\n            opts.node = _context.t0;\n            if (Array.isArray(args)) args = pipe(interaction(), args);\n            _context.t1 = sendFn;\n            _context.next = 19;\n            return resolveFn(args);\n          case 19:\n            _context.t2 = _context.sent;\n            _context.t3 = {\n              config: config,\n              response: response,\n              ix: ixModule,\n              Buffer: Buffer\n            };\n            _context.t4 = opts;\n            return _context.abrupt(\"return\", (0, _context.t1)(_context.t2, _context.t3, _context.t4));\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function send() {\n    return _ref.apply(this, arguments);\n  };\n}();\nfunction decode(_x) {\n  return _decode.apply(this, arguments);\n}\nfunction _decode() {\n  _decode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n    var decodersFromConfig, decoders;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return config().where(/^decoder\\./);\n          case 2:\n            decodersFromConfig = _context.sent;\n            decoders = Object.entries(decodersFromConfig).map(function (_ref) {\n              var _ref2 = _slicedToArray(_ref, 2),\n                pattern = _ref2[0],\n                xform = _ref2[1];\n              pattern = \"/\".concat(pattern.replace(/^decoder\\./, \"\"), \"$/\");\n              return [pattern, xform];\n            });\n            return _context.abrupt(\"return\", decodeResponse(response, Object.fromEntries(decoders)));\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _decode.apply(this, arguments);\n}\nvar findPayloadSigners = function findPayloadSigners(voucher) {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  var payload = new Set(voucher.authorizers);\n  payload.add(voucher.proposalKey.address);\n  payload[\"delete\"](voucher.payer);\n  return Array.from(payload).map(withPrefix);\n};\nvar findEnvelopeSigners = function findEnvelopeSigners(voucher) {\n  // Envelope Signers Are: (payer)\n  var envelope = new Set([voucher.payer]);\n  return Array.from(envelope).map(withPrefix);\n};\nvar UnableToDetermineMessageEncodingTypeForSignerAddress = /*#__PURE__*/function (_Error) {\n  _inherits(UnableToDetermineMessageEncodingTypeForSignerAddress, _Error);\n  var _super = _createSuper(UnableToDetermineMessageEncodingTypeForSignerAddress);\n  function UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress) {\n    var _this;\n    _classCallCheck(this, UnableToDetermineMessageEncodingTypeForSignerAddress);\n    var msg = \"\\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: \".concat(signerAddress, \". \\n        Please ensure the address: \").concat(signerAddress, \" is intended to sign the given transaction as specified by the transaction signable.\\n      \").trim();\n    _this = _super.call(this, msg);\n    _this.name = \"Unable To Determine Message Encoding For Signer Addresss\";\n    return _this;\n  }\n  return _createClass(UnableToDetermineMessageEncodingTypeForSignerAddress);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar encodeMessageFromSignable = function encodeMessageFromSignable(signable, signerAddress) {\n  var payloadSigners = findPayloadSigners(signable.voucher);\n  var envelopeSigners = findEnvelopeSigners(signable.voucher);\n  var isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress));\n  var isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress));\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress);\n  }\n  var message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: _objectSpread(_objectSpread({}, signable.voucher.proposalKey), {}, {\n      address: sansPrefix(signable.voucher.proposalKey.address)\n    }),\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(function (ps) {\n      return _objectSpread(_objectSpread({}, ps), {}, {\n        address: sansPrefix(ps.address)\n      });\n    })\n  };\n  return isPayloadSigner ? encodeTransactionPayload(message) : encodeTransactionEnvelope(message);\n};\nfunction validator(cb) {\n  return update(\"ix.validators\", function (validators) {\n    return Array.isArray(validators) ? validators.push(cb) : [cb];\n  });\n}\nfunction atBlockHeight(height) {\n  return pipe([function (ix) {\n    ix.block.height = height;\n    return ix;\n  }, validator(function (ix) {\n    if (typeof ix.block.isSealed === \"boolean\") throw new Error(\"Unable to specify both block height and isSealed.\");\n    if (ix.block.id) throw new Error(\"Unable to specify both block height and block id.\");\n    return ix;\n  })]);\n}\nfunction atBlockId(id) {\n  return pipe([function (ix) {\n    ix.block.id = id;\n    return Ok(ix);\n  }, validator(function (ix, _ref) {\n    var Ok = _ref.Ok,\n      Bad = _ref.Bad;\n    if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\");\n    if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\");\n    if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\");\n    return Ok(ix);\n  })]);\n}\nfunction account(address) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    height = _ref.height,\n    id = _ref.id;\n  var opts = arguments.length > 2 ? arguments[2] : undefined;\n  invariant$1(!(id && height), \"Method: account -- Cannot pass \\\"id\\\" and \\\"height\\\" simultaneously\"); // Get account by ID\n\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decodeResponse); // Get account by height\n\n  if (height) return send([getAccount(address), atBlockHeight(height)], opts).then(decodeResponse);\n  return send([getAccount(address)], opts).then(decodeResponse);\n}\nfunction block() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$sealed = _ref.sealed,\n    sealed = _ref$sealed === void 0 ? false : _ref$sealed,\n    id = _ref.id,\n    height = _ref.height;\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  invariant$1(!(sealed && id || sealed && height), \"Method: block -- Cannot pass \\\"sealed\\\" with \\\"id\\\" or \\\"height\\\"\");\n  invariant$1(!(id && height), \"Method: block -- Cannot pass \\\"id\\\" and \\\"height\\\" simultaneously\"); // Get block by ID\n\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decodeResponse); // Get block by height\n\n  if (height) return send([getBlock(), atBlockHeight(height)], opts).then(decodeResponse); // Get latest block\n\n  return send([getBlock(sealed)], opts).then(decodeResponse);\n}\nfunction authorizations() {\n  var ax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(ax.map(function (authz) {\n    return prepAccount(authz, {\n      role: AUTHORIZER\n    });\n  }));\n}\nfunction authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {\n    addr: addr,\n    signingFunction: signingFunction,\n    keyId: keyId,\n    sequenceNum: sequenceNum\n  };\n}\nfunction getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\"\n    });\n  }\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.start = start;\n    ix.events.end = end;\n    return Ok(ix);\n  }]);\n}\nfunction getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.start = start;\n    ix.events.end = end;\n    return Ok(ix);\n  }]);\n}\nfunction getEventsAtBlockIds(eventType) {\n  var blockIds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.blockIds = blockIds;\n    return Ok(ix);\n  }]);\n}\nfunction getBlockHeader() {\n  var isSealed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetBlockHeader, function (ix) {\n    ix.block.isSealed = isSealed;\n    return Ok(ix);\n  }]);\n}\nfunction getCollection() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetCollection, function (ix) {\n    ix.collection.id = id;\n    return ix;\n  }]);\n}\nfunction getTransactionStatus(transactionId) {\n  return pipe([makeGetTransactionStatus, function (ix) {\n    ix.transaction.id = transactionId;\n    return Ok(ix);\n  }]);\n}\nfunction getTransaction(transactionId) {\n  return pipe([makeGetTransaction, function (ix) {\n    ix.transaction.id = transactionId;\n    return Ok(ix);\n  }]);\n}\nfunction limit(computeLimit) {\n  return function (ix) {\n    ix.message.computeLimit = computeLimit;\n    return ix;\n  };\n}\nfunction args() {\n  var ax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(ax.map(makeArgument));\n}\nfunction arg(value, xform) {\n  return {\n    value: value,\n    xform: xform\n  };\n}\nfunction proposer(_x) {\n  return _proposer.apply(this, arguments);\n}\nfunction _proposer() {\n  _proposer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(authz) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", prepAccount(authz, {\n              role: PROPOSER\n            }));\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _proposer.apply(this, arguments);\n}\nfunction payer(_x) {\n  return _payer.apply(this, arguments);\n}\nfunction _payer() {\n  _payer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(authz) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", prepAccount(authz, {\n              role: PAYER\n            }));\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _payer.apply(this, arguments);\n}\nfunction ping() {\n  return makePing;\n}\nfunction ref(refBlock) {\n  return pipe([function (ix) {\n    ix.message.refBlock = refBlock;\n    return Ok(ix);\n  }]);\n}\nfunction script() {\n  return pipe([makeScript, put(\"ix.cadence\", template.apply(void 0, arguments))]);\n}\nvar DEFAULT_SCRIPT_ACCOUNTS = [];\nvar DEFUALT_REF = null;\nfunction transaction() {\n  return pipe([makeTransaction, put(\"ix.cadence\", template.apply(void 0, arguments)), function (ix) {\n    ix.message.refBlock = ix.message.refBlock || DEFUALT_REF;\n    ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS;\n    return Ok(ix);\n  }]);\n}\nfunction voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn);\n}\nvar resolveProposerSequenceNumber = function resolveProposerSequenceNumber(_ref) {\n  var node = _ref.node;\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      var sendFn, response$1, decoded;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (isTransaction(ix)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\", Ok(ix));\n            case 2:\n              if (!ix.accounts[ix.proposer].sequenceNum) {\n                _context.next = 4;\n                break;\n              }\n              return _context.abrupt(\"return\", Ok(ix));\n            case 4:\n              _context.next = 6;\n              return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n            case 6:\n              sendFn = _context.sent;\n              invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n              _context.t0 = sendFn;\n              _context.next = 11;\n              return build([getAccount(ix.accounts[ix.proposer].addr)]);\n            case 11:\n              _context.t1 = _context.sent;\n              _context.t2 = {\n                config: config,\n                response: response,\n                Buffer: Buffer,\n                ix: ixModule\n              };\n              _context.t3 = {\n                node: node\n              };\n              _context.next = 16;\n              return (0, _context.t0)(_context.t1, _context.t2, _context.t3);\n            case 16:\n              response$1 = _context.sent;\n              _context.next = 19;\n              return decodeResponse(response$1);\n            case 19:\n              decoded = _context.sent;\n              ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber;\n              return _context.abrupt(\"return\", Ok(ix));\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nfunction mockAccountResponse(ix) {\n  var numberOfKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  // prettier-ignore\n  invariant$1(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix); // prettier-ignore\n\n  invariant$1(ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix);\n  var address = ix.account.addr;\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({\n        length: numberOfKeys\n      }, function (_, i) {\n        return {\n          index: i,\n          sequenceNumber: 42\n        };\n      })\n    }\n  };\n}\nfunction mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\"\n    }\n  };\n}\nvar identity = function identity(v) {\n  return v;\n};\nfunction mockSend() {\n  var fallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : identity;\n  return /*#__PURE__*/function () {\n    var _execSend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ix) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return ix;\n            case 2:\n              ix = _context.sent;\n              _context.t0 = true;\n              _context.next = _context.t0 === isGetAccount(ix) ? 6 : _context.t0 === isGetBlock(ix) ? 7 : 8;\n              break;\n            case 6:\n              return _context.abrupt(\"return\", mockAccountResponse(ix));\n            case 7:\n              return _context.abrupt(\"return\", mockGetBlockResponse());\n            case 8:\n              return _context.abrupt(\"return\", fallback(ix));\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function execSend(_x) {\n      return _execSend.apply(this, arguments);\n    }\n    return execSend;\n  }();\n}\nvar _excluded = [\"tempId\"];\nvar idof = function idof(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\nfunction sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\");\n}\nfunction authzFn() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var acct = _objectSpread(_objectSpread(_objectSpread({}, account), opts), {}, {\n      signingFunction: opts.signingFunction || account.signingFunction || fallbackSigningFunction\n    });\n    return acct;\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct)\n      };\n    }\n  };\n}\nfunction authzResolve() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var tempId = opts.tempId,\n      rest = _objectWithoutProperties(opts, _excluded);\n    return _objectSpread(_objectSpread({}, account), {}, {\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest)\n    });\n  };\n}\nvar ROLE = {\n  proposer: false,\n  authorizer: false,\n  payer: false\n};\nfunction authzResolveMany() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\";\n    return _objectSpread(_objectSpread({}, account), {}, {\n      tempId: tempId,\n      resolve: function resolve() {\n        return [opts.proposer && authzFn(opts.proposer)({\n          role: _objectSpread(_objectSpread({}, ROLE), {}, {\n            proposer: true\n          })\n        })].concat(_toConsumableArray(opts.authorizations.map(authzFn).map(function (d) {\n          return d({\n            role: _objectSpread(_objectSpread({}, ROLE), {}, {\n              authorizer: true\n            })\n          });\n        })), [opts.payer && authzFn(opts.payer)({\n          role: _objectSpread(_objectSpread({}, ROLE), {}, {\n            payer: true\n          })\n        })]).filter(Boolean);\n      }\n    });\n  };\n}\nvar run = function run() {\n  var fns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return build([ref(\"123\")].concat(_toConsumableArray(fns))).then(resolve);\n};\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  mockSend: mockSend,\n  authzFn: authzFn,\n  authzResolve: authzResolve,\n  authzResolveMany: authzResolveMany,\n  sig: sig,\n  idof: idof,\n  run: run\n});\nvar VERSION = \"1.1.2\";\nvar params = function params(_params) {\n  return logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: \"The params builder has been removed from the Flow JS-SDK/FCL.\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error\n  });\n};\nvar param = function param(params) {\n  return logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: \"The param builder has been removed from the Flow JS-SDK/FCL.\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error\n  });\n};\nexport { index as TestUtils, VERSION, account, arg, args, atBlockHeight, atBlockId, authorization, authorizations, block, build, createSignableVoucher, decode, destroy, encodeMessageFromSignable, encodeTransactionEnvelope, encodeTransactionPayload, encodeTxIdFromVoucher, get, getAccount, getBlock, getBlockHeader, getCollection, getEvents, getEventsAtBlockHeightRange, getEventsAtBlockIds, getTransaction, getTransactionStatus, interaction, invariant, isBad, isGetAccount, isGetBlock, isGetBlockHeader, isGetCollection, isGetEvents, isGetTransaction, isGetTransactionStatus, isOk, isPing, isScript, isTransaction, isUnknown, limit, param, params, payer, ping, pipe, proposer, put, ref, resolve, resolveAccounts, resolveArguments, resolveCadence, resolveFinalNormalization, resolveProposerSequenceNumber, resolveRefBlockId, resolveSignatures, resolveValidators, resolveVoucherIntercept, script, send, transaction, update, validator, voucherIntercept, voucherToTxId, why };","map":{"version":3,"names":["UNKNOWN","SCRIPT","TRANSACTION","GET_TRANSACTION_STATUS","GET_ACCOUNT","GET_EVENTS","PING","GET_TRANSACTION","GET_BLOCK","GET_BLOCK_HEADER","GET_COLLECTION","BAD","OK","ACCOUNT","PARAM","ARGUMENT","AUTHORIZER","PAYER","PROPOSER","ACCT","concat","ARG","IX","KEYS","Set","Object","keys","JSON","parse","interaction","CHARS","split","randChar","Math","random","length","uuid","Array","from","join","isNumber$1","isNumber","d","isArray$1","isArray","isObj","_typeof","isNull","isFn$3","isFn","isInteraction","ix","_iterator","_createForOfIteratorHelper","_step","s","n","done","key","value","hasOwnProperty","err","e","f","Ok","status","Bad","reason","makeIx","wat","tag","prepAccountKeyId","acct","keyId","invariant$1","isNaN","parseInt","_objectSpread","prepAccount","opts","arguments","undefined","role","tempId","authorization","resolve","_len","rest","_key","reduce","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fn","wrap","_callee$","_context","prev","next","t0","t1","t2","sent","t3","abrupt","apply","call","stop","_x","_x2","accounts","_defineProperty","authorizations","push","payer","makeArgument","arg","message","asArgument","xform","resolveArgument","bind","makeUnknown","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isOk","isBad","why","isAccount","account","kind","isParam","param","isArgument","argument","hardMode","_i","_Object$keys","has","Error","recPipe","_ref2","_callee2","fns","_fns","hd","cur","_args2","_callee2$","_context2","_toArray","slice","_x3","pipe","_len2","args","_key2","arg1","arg2","identity$1","identity","v","get","fallback","assigns","put","update","destroy","build","DEFAULT_RESPONSE","response","getBlock","isSealed","block","getAccount","addr","sansPrefix","latestBlockDeprecationNotice","log","deprecate","pkg","subject","transition","decodeImplicit","i","_x4","decodeVoid","_ref3","_callee3","_callee3$","_context3","decodeType","_ref4","_callee4","type","_callee4$","_context4","staticType","_x5","decodePath","_ref5","_callee5","path","_callee5$","_context5","domain","identifier","_x6","decodeCapability","_ref6","_callee6","cap","_callee6$","_context6","address","borrowType","_x7","decodeOptional","_ref7","_callee7","optional","decoders","stack","_callee7$","_context7","recurseDecode","_x8","_x9","_x10","decodeReference","_ref8","_callee8","_callee8$","_context8","_x11","decodeArray","_ref9","_callee10","array","_callee10$","_context10","Promise","all","map","_ref10","_callee9","res","_callee9$","_context9","_toConsumableArray","_x15","_x12","_x13","_x14","decodeDictionary","_ref11","_callee12","dictionary","_callee12$","_context12","_ref12","_callee11","acc","_callee11$","_context11","_x19","_x20","_x16","_x17","_x18","decodeComposite","_ref13","_callee14","composite","decoded","decoder","_callee14$","_context14","fields","_ref14","_callee13","_callee13$","_context13","name","_x24","_x25","id","decoderLookup","_x21","_x22","_x23","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","Reference","Dictionary","Event","Resource","Struct","Enum","Type","Path","Capability","lookup","found","find","test","reg","RegExp","substring","_ref15","_callee15","decodeInstructions","_callee15$","_context15","_x26","_x27","_x28","decode$1","_ref16","_callee16","customDecoders","filteredDecoders","_args16","_callee16$","_context16","filter","customDecoder","decoderKey","decode","_x29","decodeResponse","_ref17","_callee19","_args19","_callee19$","_context19","encodedData","transactionStatus","events","_decodeEvents","_callee17","_callee17$","_context17","transactionId","transactionIndex","eventIndex","payload","t4","data","decodeEvents","_x31","transaction","_decodeEvents2","_callee18","_callee18$","_context18","blockId","blockHeight","blockTimestamp","t5","t6","t7","_x32","blockHeader","latestBlock","collection","_x30","getRefId","_getRefId","node","sendFn","config","first","send$1","Buffer","ixModule","resolveRefBlockId","refBlock","isFn$2","isString$1","isString","resolveCadence","_resolveCadence","cadence","where","then","entries","_slicedToArray","regex","replace","isFn$1","cast","handleArgResolution","_handleArgResolution","depth","resolvedArg","_args","resolveArguments","_resolveArguments","_Object$entries","_Object$entries$_i","encodeTransactionPayload","tx","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","encodeTxIdFromVoucher","voucher","sha3_256","prepareVoucher","rightPaddedHexBuffer","pad","padEnd","leftPaddedHexBuffer","padStart","TRANSACTION_DOMAIN_TAG","toString","addressBuffer","blockBuffer","argumentToString","stringify","scriptBuffer","script","signatureBuffer","signature","encode","msg","sha","SHA3","digest","validatePayload","computeLimit","proposalKey","sequenceNum","authorizers","authorizer","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","sig","signerIndex","sort","a","b","Map","addSigner","set","forEach","validateVoucher","prepareSigs","sigs","envelopeSigs","payloadFields","field","checkField","proposalKeyFields","payloadSigsFields","index","payloadSigFields","envelopeSigsFields","envelopeSigFields","isObject","check","defaultVal","obj","base","missingFieldError","invalidFieldError","printFieldName","findInsideSigners","inside","add","proposer","p","findOutsideSigners","outside","createSignableVoucher","buildAuthorizers","cid","withPrefix","current","item","buildInsideSigners","buildOutsideSigners","voucherToTxId","idof$1","idof","buildPreSignable","f_type","f_vsn","roles","error","console","collectAccounts","_collectAccounts","last","_loop","old","ax","dupList","payerAccts","multiAccts","_loop$","g","includes","delegateYield","finish","curr","resolveAccounts","_resolveAccounts","values","resolveSignatures","_resolveSignatures","insideSigners","insidePayload","outsideSigners","outsidePayload","prepForEncoding","fetchSignature","_innerFetchSignature","_yield$acct$signingFu","signingFunction","buildSignable","innerFetchSignature","payerAddress","resolveValidators","_resolveValidators","validators","cb","resolveFinalNormalization","_resolveFinalNormalization","resolveVoucherIntercept","_resolveVoucherIntercept","DEFAULT_COMPUTE_LIMIT","resolveComputeLimit","_resolveComputeLimit","logger","noop","debug","accts","Boolean","_console","execFetchRef","execFetchSequenceNumber","_execFetchRef","_execFetchSequenceNumber","sequenceNumber","invariant","predicate","send","resolveFn","_decode","decodersFromConfig","pattern","fromEntries","findPayloadSigners","findEnvelopeSigners","envelope","UnableToDetermineMessageEncodingTypeForSignerAddress","_Error","_inherits","_super","_createSuper","signerAddress","_this","_classCallCheck","trim","_createClass","_wrapNativeSuper","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","isPayloadSigner","isEnvelopeSigner","ps","validator","atBlockHeight","height","atBlockId","_ref$sealed","sealed","authz","getEvents","eventType","start","end","getEventsAtBlockHeightRange","getEventsAtBlockIds","blockIds","getBlockHeader","getCollection","getTransactionStatus","getTransaction","limit","_proposer","_payer","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","DEFUALT_REF","voucherIntercept","resolveProposerSequenceNumber","response$1","mockAccountResponse","numberOfKeys","_","mockGetBlockResponse","mockSend","_execSend","execSend","authzFn","fallbackSigningFunction","authzResolve","_objectWithoutProperties","_excluded","ROLE","authzResolveMany","run","VERSION","params","_params","level","LEVELS"],"sources":["C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\interaction\\interaction.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\response\\response.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-block.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-account.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\decode\\decode.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-ref-block-id.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-cadence.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-arguments.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\encode\\encode.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\voucher.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-accounts.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-signatures.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-validators.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-final-normalization.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-voucher-intercept.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-compute-limit.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-invariant.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\send\\send.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\decode\\sdk-decode.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\wallet-utils\\encode-signable.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-validator.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-at-block-height.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-at-block-id.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\account\\account.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\block\\block.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-authorizations.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-events.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-events-at-block-height-range.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-events-at-block-ids.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-block-header.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-collection.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-transaction-status.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-get-transaction.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-limit.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-arguments.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-proposer.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-payer.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-ping.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-ref.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-script.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-transaction.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\build\\build-voucher-intercept.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\resolve\\resolve-proposer-sequence-number.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\test-utils\\mock-send.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\test-utils\\authz-fn.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\test-utils\\run.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\VERSION.js","C:\\Users\\gugan\\node_modules\\@onflow\\sdk\\src\\sdk.js"],"sourcesContent":["import {invariant} from \"@onflow/util-invariant\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null,\n  \"resolveArgument\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":[],\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nconst CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\")\nconst randChar = () => CHARS[~~(Math.random() * CHARS.length)]\nexport const uuid = () => Array.from({length: 10}, randChar).join(\"\")\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nconst prepAccountKeyId = acct => {\n  if (acct.keyId == null) return acct\n\n  invariant(!isNaN(parseInt(acct.keyId)), \"account.keyId must be an integer\")\n  return {\n    ...acct,\n    keyId: parseInt(acct.keyId),\n  }\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuid()\n\n  if (acct.authorization && isFn(acct.authorization))\n    acct = {resolve: acct.authorization}\n  if (!acct.authorization && isFn(acct)) acct = {resolve: acct}\n\n  const resolve = acct.resolve\n  if (resolve)\n    acct.resolve = (acct, ...rest) =>\n      [resolve, prepAccountKeyId].reduce(\n        async (d, fn) => fn(await d, ...rest),\n        acct\n      )\n  acct = prepAccountKeyId(acct)\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else if (role === PAYER) {\n    ix.payer.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuid()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  ix.arguments[tempId].resolveArgument = isFn(arg.resolveArgument)\n    ? arg.resolveArgument.bind(arg)\n    : arg.resolveArgument\n\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    },\n  ])\n}\n","import {log, LEVELS} from \"@onflow/util-logger\"\n\nconst latestBlockDeprecationNotice = () => {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject:\n      \"Operating upon data of the latestBlock field of the response object\",\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\",\n  })\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async i => i\n\nconst decodeVoid = async () => null\n\nconst decodeType = async type => {\n  return type.staticType\n}\n\nconst decodePath = async path => {\n  return {\n    domain: path.domain,\n    identifier: path.identifier,\n  }\n}\n\nconst decodeCapability = async cap => {\n  return {\n    path: cap.path,\n    address: cap.address,\n    borrowType: cap.borrowType,\n  }\n}\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async v => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      v =>\n        new Promise(async res =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[await recurseDecode(v.key, decoders, [...stack, v.key])] =\n      await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find(decoder => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  // Filter out all default decoders which are overridden by a custom decoder regex\n  const filteredDecoders = Object.keys(defaultDecoders)\n    .filter(\n      decoder =>\n        !Object.keys(customDecoders).find(customDecoder =>\n          new RegExp(customDecoder).test(decoder)\n        )\n    )\n    .reduce((decoders, decoderKey) => {\n      decoders[decoderKey] = defaultDecoders[decoderKey]\n      return decoders\n    }, customDecoders)\n\n  const decoders = {\n    ...filteredDecoders,\n    ...customDecoders,\n  }\n  return recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  if (response.encodedData) {\n    return decode(response.encodedData, customDecoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, customDecoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, customDecoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  }\n\n  return null\n}\n","import {\n  isTransaction,\n  Ok,\n  interaction,\n  pipe,\n} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nasync function getRefId(opts) {\n  const node = await config().get(\"accessNode.api\")\n  const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], defaultSend)\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await sendFn(ix, {config, response, Buffer, ix: ixModule}, {node})\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nexport async function resolveCadence(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    var cadence = get(ix, \"ix.cadence\")\n    invariant(\n      isFn(cadence) || isString(cadence),\n      \"Cadence needs to be a function or a string.\"\n    )\n    if (isFn(cadence)) cadence = await cadence({})\n    invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n    ix.message.cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce((cadence, [key, value]) => {\n          const regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\")\n          return cadence.replace(regex, value)\n        }, cadence)\n      )\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nasync function handleArgResolution(arg, depth = 3) {\n  invariant(\n    depth > 0,\n    `Argument Resolve Recursion Limit Exceeded for Arg: ${arg.tempId}`\n  )\n\n  if (isFn(arg.resolveArgument)) {\n    const resolvedArg = await arg.resolveArgument()\n    return handleArgResolution(resolvedArg, depth - 1)\n  } else {\n    return arg\n  }\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      const res = await handleArgResolution(arg)\n      ix.arguments[id].asArgument = cast(res)\n    }\n  }\n\n  return ix\n}\n","import {SHA3} from \"sha3\"\nimport {encode, Buffer} from \"@onflow/rlp\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport const encodeTransactionPayload = tx =>\n  prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx =>\n  prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\nexport const encodeTxIdFromVoucher = voucher =>\n  sha3_256(rlpEncode(prepareVoucher(voucher)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(\n  Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"),\n  32\n).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst sha3_256 = msg => {\n  const sha = new SHA3(256)\n  sha.update(Buffer.from(msg, \"hex\"))\n  return sha.digest().toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(sansPrefix(tx.proposalKey.address)),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(sansPrefix(tx.payer)),\n    tx.authorizers.map(authorizer => addressBuffer(sansPrefix(authorizer))),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst prepareVoucher = voucher => {\n  validateVoucher(voucher)\n\n  const signers = collectSigners(voucher)\n\n  const prepareSigs = sigs => {\n    return sigs\n      .map(({address, keyId, sig}) => {\n        return {signerIndex: signers.get(address), keyId, sig}\n      })\n      .sort((a, b) => {\n        if (a.signerIndex > b.signerIndex) return 1\n        if (a.signerIndex < b.signerIndex) return -1\n        if (a.keyId > b.keyId) return 1\n        if (a.keyId < b.keyId) return -1\n      })\n      .map(sig => {\n        return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n      })\n  }\n\n  return [\n    [\n      scriptBuffer(voucher.cadence),\n      voucher.arguments.map(argumentToString),\n      blockBuffer(voucher.refBlock),\n      voucher.computeLimit,\n      addressBuffer(sansPrefix(voucher.proposalKey.address)),\n      voucher.proposalKey.keyId,\n      voucher.proposalKey.sequenceNum,\n      addressBuffer(sansPrefix(voucher.payer)),\n      voucher.authorizers.map(authorizer =>\n        addressBuffer(sansPrefix(authorizer))\n      ),\n    ],\n    prepareSigs(voucher.payloadSigs),\n    prepareSigs(voucher.envelopeSigs),\n  ]\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  payloadSigsFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst validateVoucher = voucher => {\n  payloadFields.forEach(field => checkField(voucher, field))\n  proposalKeyFields.forEach(field =>\n    checkField(voucher.proposalKey, field, \"proposalKey\")\n  )\n  payloadSigsFields.forEach(field => checkField(voucher, field))\n  voucher.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n  envelopeSigsFields.forEach(field => checkField(voucher, field))\n  voucher.envelopeSigs.forEach((sig, index) => {\n    envelopeSigFields.forEach(field =>\n      checkField(sig, field, \"envelopeSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst payloadSigsFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst envelopeSigsFields = [{name: \"envelopeSigs\", check: isArray}]\n\nconst envelopeSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {withPrefix} from \"@onflow/util-address\"\nimport {encodeTxIdFromVoucher} from \"../encode/encode.js\"\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(p => inside.delete(p))\n  } else {\n    inside.delete(ix.payer)\n  }\n  return Array.from(inside)\n}\n\nexport function findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer])\n  return Array.from(outside)\n}\n\nexport const createSignableVoucher = ix => {\n  const buildAuthorizers = () => {\n    const authorizations = ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, [])\n    return authorizations[0] ? authorizations : []\n  }\n\n  const buildInsideSigners = () =>\n    findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  const buildOutsideSigners = () =>\n    findOutsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(\n      ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr\n    ),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners(),\n  }\n}\n\nexport const voucherToTxId = voucher => {\n  return encodeTxIdFromVoucher(voucher)\n}\n","import {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {log} from \"@onflow/util-logger\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nconst idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`\nconst isFn = v => typeof v === \"function\"\n\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    let resolve = ax.resolve\n    ax.resolve = null\n    var old = last || ax\n    if (isFn(resolve)) ax = await resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      if (ax.addr) {\n        ax.addr = sansPrefix(ax.addr)\n      }\n      if (ax.addr != null && ax.keyId != null) {\n        ax.tempId = idof(ax)\n      }\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer) {\n        if (Array.isArray(ix.payer)) {\n          ix.payer = Array.from(\n            new Set(\n              [...ix.payer, ax.tempId].map(d =>\n                d === old.tempId ? ax.tempId : d\n              )\n            )\n          )\n        } else {\n          ix.payer = Array.from(\n            new Set(\n              [ix.payer, ax.tempId].map(d => (d === old.tempId ? ax.tempId : d))\n            )\n          )\n        }\n        if (ix.payer.length > 1) {\n          // remove payer dups based on addr and keyId\n          const dupList = []\n          const payerAccts = []\n          ix.payer = ix.payer.reduce((g, tempId) => {\n            const {addr} = ix.accounts[tempId]\n            const key = idof(ix.accounts[tempId])\n            payerAccts.push(addr)\n            if (dupList.includes(key)) return g\n            dupList.push(key)\n            return [...g, tempId]\n          }, [])\n          const multiAccts = Array.from(new Set(payerAccts))\n          if (multiAccts.length > 1) {\n            throw new Error(\"Payer can not be different accounts\")\n          }\n        }\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = Array.from(new Set([...authorizations, ax.tempId]))\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    if (!Array.isArray(ix.payer)) {\n      log.deprecate({\n        pkg: \"FCL\",\n        subject:\n          '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n        message: \"See changelog for more info.\",\n      })\n    }\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\nimport {\n  createSignableVoucher,\n  findInsideSigners,\n  findOutsideSigners,\n} from \"./voucher.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  const payerAddress = sansPrefix(\n    (Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer])\n      .addr\n  )\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {get, pipe, Ok, Bad} from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, \"ix.validators\", [])\n  return pipe(\n    ix,\n    validators.map(cb => ix => cb(ix, {Ok, Bad}))\n  )\n}\n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {get, isFn} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nexport async function resolveVoucherIntercept(ix) {\n  const fn = get(ix, \"ix.voucher-intercept\")\n  if (isFn(fn)) {\n    await fn(createSignableVoucher(ix))\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\n\nconst DEFAULT_COMPUTE_LIMIT = 100\n\nexport async function resolveComputeLimit(ix) {\n  if (isTransaction(ix)) {\n    ix.message.computeLimit =\n      ix.message.computeLimit || (await config.get(\"fcl.limit\"))\n\n    if (!ix.message.computeLimit) {\n      logger.log.deprecate({\n        pkg: \"FCL/SDK\",\n        subject:\n          \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n        transition:\n          \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\",\n      })\n      ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT\n    }\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveRefBlockId} from \"./resolve-ref-block-id.js\"\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\nimport {resolveVoucherIntercept} from \"./resolve-voucher-intercept.js\"\nimport {resolveComputeLimit} from \"./resolve-compute-limit.js\"\n\nconst noop = v => v\nconst debug =\n  (key, fn = noop) =>\n  async ix => {\n    const take = (obj, keys = []) => {\n      if (typeof keys === \"string\") keys = keys.split(\" \")\n      keys.reduce((acc, key) => ({...acc, [key]: obj[key]}), {})\n    }\n\n    const accts = ix =>\n      [\n        \"\\nAccounts:\",\n        {\n          proposer: ix.proposer,\n          authorizations: ix.authorizations,\n          payer: ix.payer,\n        },\n        \"\\n\\nDetails:\",\n        ix.accounts,\n      ].filter(Boolean)\n\n    const log = (...msg) => {\n      console.log(`debug[${key}] ---\\n`, ...msg, \"\\n\\n\\n---\")\n    }\n\n    if (await config.get(`debug.${key}`)) await fn(ix, log, accts)\n    return ix\n  }\n\nexport const resolve = pipe([\n  resolveCadence,\n  debug(\"cadence\", (ix, log) => log(ix.message.cadence)),\n  resolveComputeLimit,\n  debug(\"compute limit\", (ix, log) => log(ix.message.computeLimit)),\n  resolveArguments,\n  debug(\"arguments\", (ix, log) => log(ix.message.arguments, ix.message)),\n  resolveAccounts,\n  debug(\"accounts\", (ix, log, accts) => log(...accts(ix))),\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  debug(\"signatures\", (ix, log, accts) => log(...accts(ix))),\n  resolveFinalNormalization,\n  resolveValidators,\n  resolveVoucherIntercept,\n  debug(\"resolved\", (ix, log) => log(ix)),\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    const node = await config().get(\"accessNode.api\")\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    ix.message.refBlock = (\n      await sendFn(\n        build([getBlock()]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      ).then(decode)\n    ).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      const node = await config().get(\"accessNode.api\")\n      const sendFn = await config.first(\n        [\"sdk.transport\", \"sdk.send\"],\n        defaultSend\n      )\n\n      invariant(\n        sendFn,\n        `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n      )\n\n      ix.accounts[acct.tempId].sequenceNum = await sendFn(\n        await build([getAccount(acct.addr)]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}\n","import {Ok, Bad} from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, {Ok, Bad}) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport {interaction, pipe} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {invariant} from \"../build/build-invariant.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\n\nexport const send = async (args = [], opts = {}) => {\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    opts.send || defaultSend\n  )\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  const resolveFn = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFn(\n    await resolveFn(args),\n    {config, response, ix: ixModule, Buffer},\n    opts\n  )\n}\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"@onflow/config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n} from \"../encode/encode.js\"\n\nconst findPayloadSigners = voucher => {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  let payload = new Set(voucher.authorizers)\n  payload.add(voucher.proposalKey.address)\n  payload.delete(voucher.payer)\n  return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = voucher => {\n  // Envelope Signers Are: (payer)\n  let envelope = new Set([voucher.payer])\n  return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n  constructor(signerAddress) {\n    const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n    super(msg)\n    this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n  }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n  let payloadSigners = findPayloadSigners(signable.voucher)\n  let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n  const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n  const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(\n      signerAddress\n    )\n  }\n\n  const message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: {\n      ...signable.voucher.proposalKey,\n      address: sansPrefix(signable.voucher.proposalKey.address),\n    },\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n      ...ps,\n      address: sansPrefix(ps.address),\n    })),\n  }\n\n  return isPayloadSigner\n    ? encodeTransactionPayload(message)\n    : encodeTransactionEnvelope(message)\n}\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n  return update(\"ix.validators\", validators =>\n    Array.isArray(validators) ? validators.push(cb) : [cb]\n  )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix))\n        return Bad(\n          ix,\n          \"Unable to specify a block id with a Get Account interaction.\"\n        )\n      if (typeof ix.block.isSealed === \"boolean\")\n        return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height)\n        return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\nexport function account(address, {height, id} = {}, opts) {\n  invariant(\n    !(id && height),\n    `Method: account -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get account by ID\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decode)\n\n  // Get account by height\n  if (height)\n    return send([getAccount(address), atBlockHeight(height)], opts).then(decode)\n\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {invariant} from \"@onflow/util-invariant\"\n\nexport function block({sealed = false, id, height} = {}, opts = {}) {\n  invariant(\n    !((sealed && id) || (sealed && height)),\n    `Method: block -- Cannot pass \"sealed\" with \"id\" or \"height\"`\n  )\n\n  invariant(\n    !(id && height),\n    `Method: block -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get block by ID\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decode)\n\n  // Get block by height\n  if (height)\n    return send([getBlock(), atBlockHeight(height)], opts).then(decode)\n\n  // Get latest block\n  return send([getBlock(sealed)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\nimport * as logger from \"@onflow/util-logger\"\n\nexport function getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition:\n        \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\",\n    })\n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockIds(eventType, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport async function payer(authz) {\n  return prepAccount(authz, {role: PAYER})\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([makeScript, put(\"ix.cadence\", template(...args))])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import {put} from \"../interaction/interaction.js\"\n\nexport function voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn)\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response as responseModule} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nexport const resolveProposerSequenceNumber =\n  ({node}) =>\n  async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    const response = await sendFn(\n      await build([getAccount(ix.accounts[ix.proposer].addr)]),\n      {config, response: responseModule, Buffer, ix: ixModule},\n      {node}\n    )\n    const decoded = await decodeResponse(response)\n\n    ix.accounts[ix.proposer].sequenceNum =\n      decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n    return Ok(ix)\n  }\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isGetAccount, isGetBlock} from \"../interaction/interaction\"\n\nexport function mockAccountResponse(ix, numberOfKeys = 5) {\n  // prettier-ignore\n  invariant(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix)\n  // prettier-ignore\n  invariant( ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix)\n\n  const address = ix.account.addr\n\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({length: numberOfKeys}, (_, i) => ({\n        index: i,\n        sequenceNumber: 42,\n      })),\n    },\n  }\n}\n\nexport function mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\",\n    },\n  }\n}\n\nconst identity = v => v\n\nexport function mockSend(fallback = identity) {\n  return async function execSend(ix) {\n    ix = await ix\n    switch (true) {\n      case isGetAccount(ix):\n        return mockAccountResponse(ix)\n\n      case isGetBlock(ix):\n        return mockGetBlockResponse(ix)\n\n      default:\n        return fallback(ix)\n    }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\n\nexport const idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`\n\nexport function sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\")\n}\n\nexport function authzFn(opts = {}) {\n  return function (account) {\n    const acct = {\n      ...account,\n      ...opts,\n      signingFunction:\n        opts.signingFunction ||\n        account.signingFunction ||\n        fallbackSigningFunction,\n    }\n\n    return acct\n\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct),\n      }\n    }\n  }\n}\n\nexport function authzResolve(opts = {}) {\n  return function (account) {\n    const {tempId, ...rest} = opts\n    return {\n      ...account,\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest),\n    }\n  }\n}\n\nconst ROLE = {proposer: false, authorizer: false, payer: false}\nconst noop = () => {}\n\nexport function authzResolveMany(opts = {}) {\n  return function (account) {\n    const tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve: () =>\n        [\n          opts.proposer &&\n            authzFn(opts.proposer)({role: {...ROLE, proposer: true}}),\n          ...opts.authorizations\n            .map(authzFn)\n            .map(d => d({role: {...ROLE, authorizer: true}})),\n          opts.payer && authzFn(opts.payer)({role: {...ROLE, payer: true}}),\n        ].filter(Boolean),\n    }\n  }\n}\n","import {build} from \"../build/build\"\nimport {resolve} from \"../resolve/resolve\"\nimport {ref} from \"../build/build-ref\"\n\nexport const run = (fns = []) => build([ref(\"123\"), ...fns]).then(resolve)\n","export const VERSION = PACKAGE_CURRENT_VERSION || \"TESTVERSION\"\n","import * as logger from \"@onflow/util-logger\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\nexport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n  encodeTxIdFromVoucher,\n} from \"./encode/encode\"\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher, voucherToTxId} from \"./resolve/voucher.js\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {account} from \"./account/account.js\"\nexport {block} from \"./block/block.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\nexport {voucherIntercept} from \"./build/build-voucher-intercept.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\nexport {resolveVoucherIntercept} from \"./resolve/resolve-voucher-intercept.js\"\n\nexport {config} from \"@onflow/config\"\n\n// Deprecated\nexport const params = params =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The params builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\nexport const param = params =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The param builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\n\nimport * as TestUtils from \"./test-utils\"\nexport {TestUtils}\n\nexport {VERSION} from \"./VERSION\"\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA;AAAQ,8BAA8B,SAA5C;AACA,IAAMC;AAAO,+BAA+B,QAA5C;AACA,IAAMC;AAAY,0BAA0B,aAA5C;AACA,IAAMC;AAAuB,eAAe,wBAA5C;AACA,IAAMC;AAAY,0BAA0B,aAA5C;AACA,IAAMC;AAAW,2BAA2B,YAA5C;AACA,IAAMC;AAAK,iCAAiC,MAA5C;AACA,IAAMC;AAAgB,sBAAsB,iBAA5C;AACA,IAAMC;AAAU,4BAA4B,WAA5C;AACA,IAAMC;AAAiB,qBAAqB,kBAA5C;AACA,IAAMC;AAAe,uBAAuB,gBAA5C;AAEA,IAAMC;AAAI,QAAQ,KAAlB;AACA,IAAMC;AAAG,SAAS,IAAlB;AAEA,IAAMC;AAAQ,SAAS,SAAvB;AACA,IAAMC;AAAM,WAAW,OAAvB;AACA,IAAMC;AAAS,QAAQ,UAAvB;AAEA,IAAMC;AAAW,QAAQ,YAAzB;AACA,IAAMC;AAAM,aAAa,OAAzB;AACA,IAAMC;AAAS,UAAU,UAAzB;AAEP,IAAMC,IAAI,GACE,mBAAAC,MAAA,CAAAP,OADF,EAAV;AA2BA,IAAMQ,GAAG,GACG,mBAAAD,MAAA,CAAAL,QADH,EAAT;AAUA,IAAMO,EAAE,qBAAAF,MAAA,CACGpB,OADH,6CAAAoB,MAAA,CAGMR,EAHN,EAAR;AA2CA,IAAMW,IAAI,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,IAAP,CAAYC,IAAI,CAACC,KAAL,CAAWN,EAAX,CAAZ,CAAR,CAAb;AAEa,IAAAO,WAAW,GAAG,SAAdA,WAAcA,CAAA;EAAA,OAAMF,IAAI,CAACC,KAAL,CAAWN,EAAX,CAAN;AAAA;AAE3B,IAAMQ,KAAK,GAAG,uCAAuCC,KAAvC,CAA6C,EAA7C,CAAd;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAWA,CAAA;EAAA,OAAMF,KAAK,CAAC,CAAC,EAAEG,IAAI,CAACC,MAAL,KAAgBJ,KAAK,CAACK,MAAxB,CAAF,CAAX;AAAA,CAAjB;AACO,IAAMC,IAAI,GAAG,SAAPA,IAAOA,CAAA;EAAA,OAAMC,KAAK,CAACC,IAAN,CAAW;IAACH,MAAM,EAAE;EAAT,CAAX,EAAyBH,QAAzB,EAAmCO,IAAnC,CAAwC,EAAxC,CAAN;AAAA,CAAb;AACA,IAAMC,UAAQ,GAAG,SAAXC,QAAWA,CAAAC,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,QAAjB;AAAA,CAAlB;AACA,IAAMC,SAAO,GAAG,SAAVC,OAAUA,CAAAF,CAAC;EAAA,OAAIL,KAAK,CAACO,OAAN,CAAcF,CAAd,CAAJ;AAAA,CAAjB;AACA,IAAMG,KAAK,GAAG,SAARA,KAAQA,CAAAH,CAAC;EAAA,OAAIA,CAAC,KAAK,IAAN,IAAcI,OAAO,CAAAJ,CAAP,MAAa,QAA/B;AAAA,CAAf;AACA,IAAMK,MAAM,GAAG,SAATA,MAASA,CAAAL,CAAC;EAAA,OAAIA,CAAC,IAAI,IAAT;AAAA,CAAhB;AACA,IAAMM,MAAI,GAAG,SAAPC,IAAOA,CAAAP,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,UAAjB;AAAA,CAAd;AAEA,IAAMQ,aAAa,GAAG,SAAhBA,aAAgBA,CAAAC,EAAE,EAAI;EACjC,IAAI,CAACN,KAAK,CAACM,EAAD,CAAN,IAAcJ,MAAM,CAACI,EAAD,CAApB,IAA4BX,UAAQ,CAACW,EAAD,CAAxC,EAA8C,OAAO,KAAP;EADb,IAAAC,SAAA,GAAAC,0BAAA,CAEjB9B,IAFiB;IAAA+B,KAAA;EAAA;IAEjC,KAAsBF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA;MAAA,IAAbC,GAAa,GAAAJ,KAAA,CAAAK,KAAA;MAAA,IAAI,CAACR,EAAE,CAACS,cAAH,CAAkBF,GAAlB,CAAL,EAA6B,OAAO,KAAP;IAAY;EAF9B,SAAAG,GAAA;IAAAT,SAAA,CAAAU,CAAA,CAAAD,GAAA;EAAA;IAAAT,SAAA,CAAAW,CAAA;EAAA;EAGjC,OAAO,IAAP;AACD,CAJM;AAMA,IAAMC,EAAE,GAAG,SAALA,EAAKA,CAAAb,EAAE,EAAI;EACtBA,EAAE,CAACc,MAAH,GAAYrD,EAAZ;EACA,OAAOuC,EAAP;AACD,CAHM;AAKA,IAAMe,GAAG,GAAG,SAANA,GAAMA,CAACf,EAAD,EAAKgB,MAAL,EAAgB;EACjChB,EAAE,CAACc,MAAH,GAAYtD,GAAZ;EACAwC,EAAE,CAACgB,MAAH,GAAYA,MAAZ;EACA,OAAOhB,EAAP;AACD,CAJM;AAMP,IAAMiB,MAAM,GAAG,SAATA,MAASA,CAAAC,GAAG;EAAA,OAAI,UAAAlB,EAAE,EAAI;IAC1BA,EAAE,CAACmB,GAAH,GAASD,GAAT;IACA,OAAOL,EAAE,CAACb,EAAD,CAAT;GAFgB;AAAA,CAAlB;AAKA,IAAMoB,gBAAgB,GAAG,SAAnBA,gBAAmBA,CAAAC,IAAI,EAAI;EAC/B,IAAIA,IAAI,CAACC,KAAL,IAAc,IAAlB,EAAwB,OAAOD,IAAP;EAExBE,WAAS,CAAC,CAACC,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACC,KAAN,CAAT,CAAP,EAA+B,kCAA/B,CAAT;EACA,OAAAI,aAAA,CAAAA,aAAA,KACKL,IADL;IAEEC,KAAK,EAAEG,QAAQ,CAACJ,IAAI,CAACC,KAAN;EAFjB;AAID,CARD;AAUO,IAAMK,WAAW,GAAG,SAAdA,WAAcA,CAACN,IAAD;EAAA,IAAOO,IAAP,GAAAC,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAc,EAAd;EAAA,OAAqB,UAAA7B,EAAE,EAAI;IACpDuB,WAAS,CACP,OAAOF,IAAP,KAAgB,UAAhB,IAA8B1B,OAAO,CAAA0B,IAAP,CAAgB,aADvC,EAEP,2EAFO,CAAT;IAIAE,WAAS,CAACK,IAAI,CAACG,IAAL,IAAa,IAAd,EAAoB,0BAApB,CAAT;IAEA,IAAMrE,OAAO,GAAGc,IAAI,CAACC,KAAL,CAAWT,IAAX,CAAhB;IACA,IAAM+D,IAAI,GAAGH,IAAI,CAACG,IAAlB;IACA,IAAMC,MAAM,GAAG/C,IAAI,EAAnB;IAEA,IAAIoC,IAAI,CAACY,aAAL,IAAsBpC,MAAI,CAACwB,IAAI,CAACY,aAAN,CAA9B,EACEZ,IAAI,GAAG;MAACa,OAAO,EAAEb,IAAI,CAACY;KAAtB;IACF,IAAI,CAACZ,IAAI,CAACY,aAAN,IAAuBpC,MAAI,CAACwB,IAAD,CAA/B,EAAuCA,IAAI,GAAG;MAACa,OAAO,EAAEb;KAAjB;IAEvC,IAAMa,OAAO,GAAGb,IAAI,CAACa,OAArB;IACA,IAAIA,OAAJ,EACEb,IAAI,CAACa,OAAL,GAAe,UAACb,IAAD;MAAA,SAAAc,IAAA,GAAAN,SAAA,CAAA7C,MAAA,EAAUoD,IAAV,OAAAlD,KAAA,CAAAiD,IAAA,OAAAA,IAAA,WAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;QAAUD,IAAV,CAAAC,IAAA,QAAAR,SAAA,CAAAQ,IAAA;MAAA;MAAA,OACb,CAACH,OAAD,EAAUd,gBAAV,EAA4BkB,MAA5B;QAAA,IACEC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAOpD,CAAP,EAAUqD,EAAV;UAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;YAAA;cAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;kBAAAF,QAAA,CAAAG,EAAA,GAAiBN,EAAjB;kBAAAG,QAAA,CAAAI,EAAA;kBAAAJ,QAAA,CAAAE,IAAA;kBAAA,OAA0B1D,CAA1B;gBAAA;kBAAAwD,QAAA,CAAAK,EAAA,GAAAL,QAAA,CAAAM,IAAA;kBAAAN,QAAA,CAAAO,EAAA,IAAAP,QAAA,CAAAK,EAAA,EAAAnF,MAAA,CAAgCmE,IAAhC;kBAAA,OAAAW,QAAA,CAAAQ,MAAA,WAAAR,QAAA,CAAAG,EAAA,CAAAM,KAAA,CAAAC,IAAA,CAAAV,QAAA,CAAAG,EAAA,EAAAH,QAAA,CAAAI,EAAA,EAAAJ,QAAA,CAAAO,EAAA;gBAAA;gBAAA;kBAAA,OAAAP,QAAA,CAAAW,IAAA;cAAA;YAAA;UAAA,GAAAf,OAAA;SADF;QAAA,iBAAAgB,EAAA,EAAAC,GAAA;UAAA,OAAArB,IAAA,CAAAiB,KAAA,OAAA3B,SAAA;QAAA;MAAA,KAEER,IAFF,CADa;KAAf;IAKFA,IAAI,GAAGD,gBAAgB,CAACC,IAAD,CAAvB;IAEArB,EAAE,CAAC6D,QAAH,CAAY7B,MAAZ,IAAAN,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACKhE,OADL;MAEEsE,MAAM,EAANA;IAFF,GAGKX,IAHL;MAIEU,IAAI,EAAAL,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACChE,OAAO,CAACqE,IADT,GAEEpC,OAAO,CAAA0B,IAAI,CAACU,IAAZ,MAAqB,QAArB,GAAgCV,IAAI,CAACU,IAArC,GAA4C,EAF9C,CAGD,MAAA+B,eAAA,KAAA/B,IAHC,EAGM,IAHN;IAJN;IAWA,IAAIA,IAAI,KAAKlE,UAAb,EAAyB;MACvBmC,EAAE,CAAC+D,cAAH,CAAkBC,IAAlB,CAAuBhC,MAAvB;IACD,CAFD,MAEO,IAAID,IAAI,KAAKjE,KAAb,EAAoB;MACzBkC,EAAE,CAACiE,KAAH,CAASD,IAAT,CAAchC,MAAd;IACD,CAFM,MAEA;MACLhC,EAAE,CAAC+B,IAAD,CAAF,GAAWC,MAAX;IACD;IAED,OAAOhC,EAAP;GA3CyB;AAAA,CAApB;AA8CA,IAAMkE,YAAY,GAAG,SAAfA,YAAeA,CAAAC,GAAG;EAAA,OAAI,UAAAnE,EAAE,EAAI;IACvC,IAAIgC,MAAM,GAAG/C,IAAI,EAAjB;IACAe,EAAE,CAACoE,OAAH,CAAWvC,SAAX,CAAqBmC,IAArB,CAA0BhC,MAA1B;IAEAhC,EAAE,CAAC6B,SAAH,CAAaG,MAAb,IAAuBxD,IAAI,CAACC,KAAL,CAAWP,GAAX,CAAvB;IACA8B,EAAE,CAAC6B,SAAH,CAAaG,MAAb,CAAqB,CAAAA,MAArB,GAA8BA,MAA9B;IACAhC,EAAE,CAAC6B,SAAH,CAAaG,MAAb,EAAqBxB,KAArB,GAA6B2D,GAAG,CAAC3D,KAAjC;IACAR,EAAE,CAAC6B,SAAH,CAAaG,MAAb,EAAqBqC,UAArB,GAAkCF,GAAG,CAACE,UAAtC;IACArE,EAAE,CAAC6B,SAAH,CAAaG,MAAb,EAAqBsC,KAArB,GAA6BH,GAAG,CAACG,KAAjC;IACAtE,EAAE,CAAC6B,SAAH,CAAaG,MAAb,EAAqBE,OAArB,GAA+BiC,GAAG,CAACjC,OAAnC;IACAlC,EAAE,CAAC6B,SAAH,CAAaG,MAAb,EAAqBuC,eAArB,GAAuC1E,MAAI,CAACsE,GAAG,CAACI,eAAL,CAAJ,GACnCJ,GAAG,CAACI,eAAJ,CAAoBC,IAApB,CAAyBL,GAAzB,CADmC,GAEnCA,GAAG,CAACI,eAFR;IAIA,OAAO1D,EAAE,CAACb,EAAD,CAAT;GAd6B;AAAA,CAAxB;AAiBA,IAAMyE;AAAY,wBAAwBxD,MAAM,CAACpE,OAAD,CAAhD;AACA,IAAM6H;AAAW,yBAAyBzD,MAAM,CAACnE,MAAD,CAAhD;AACA,IAAM6H;AAAgB,oBAAoB1D,MAAM,CAAClE,WAAD,CAAhD;AACA,IAAM6H;AAAyB,WAAW3D,MAAM,CAACjE,sBAAD,CAAhD;AACA,IAAM6H;AAAmB,iBAAiB5D,MAAM,CAAC7D,eAAD,CAAhD;AACA,IAAM0H;AAAe,qBAAqB7D,MAAM,CAAChE,WAAD,CAAhD;AACA,IAAM8H;AAAc,sBAAsB9D,MAAM,CAAC/D,UAAD,CAAhD;AACA,IAAM8H;AAAS,2BAA2B/D,MAAM,CAAC9D,IAAD,CAAhD;AACA,IAAM8H;AAAa,uBAAuBhE,MAAM,CAAC5D,SAAD,CAAhD;AACA,IAAM6H;AAAmB,iBAAiBjE,MAAM,CAAC3D,gBAAD,CAAhD;AACA,IAAM6H;AAAkB,kBAAkBlE,MAAM,CAAC1D,cAAD,CAAhD;AAEP,IAAM6H,EAAE,GAAG,SAALA,EAAKA,CAAAlE,GAAG;EAAA,OAAI,UAAAlB,EAAE;IAAA,OAAIA,EAAE,CAACmB,GAAH,KAAWD,GAAf;GAAN;AAAA,CAAd;AAEa,IAAAmE;AAAU,wBAAwBD,EAAE,CAACvI,OAAD;AACpC,IAAAyI;AAAS,yBAAyBF,EAAE,CAACtI,MAAD;AACpC,IAAAyI;AAAc,oBAAoBH,EAAE,CAACrI,WAAD;AACpC,IAAAyI;AAAuB,WAAWJ,EAAE,CAACpI,sBAAD;AACpC,IAAAyI;AAAiB,iBAAiBL,EAAE,CAAChI,eAAD;AACpC,IAAAsI;AAAa,qBAAqBN,EAAE,CAACnI,WAAD;AACpC,IAAA0I;AAAY,sBAAsBP,EAAE,CAAClI,UAAD;AACpC,IAAA0I;AAAO,2BAA2BR,EAAE,CAACjI,IAAD;AACpC,IAAA0I;AAAW,uBAAuBT,EAAE,CAAC/H,SAAD;AACpC,IAAAyI;AAAiB,iBAAiBV,EAAE,CAAC9H,gBAAD;AACpC,IAAAyI;AAAgB,kBAAkBX,EAAE,CAAC7H,cAAD;AAEpC,IAAAyI;AAAK,SAAS,SAAdA;AAAK,MAAAA,CAAShG,EAAE;EAAA,OAAIA,EAAE,CAACc,MAAH,KAAcrD,EAAlB;AAAA;AAChB,IAAAwI;AAAM,QAAQ,SAAdA;AAAM,KAAAA,CAAQjG,EAAE;EAAA,OAAIA,EAAE,CAACc,MAAH,KAActD,GAAlB;AAAA;AAChB,IAAA0I;AAAI,UAAU,SAAdA;AAAI,OAAAA,CAAUlG,EAAE;EAAA,OAAIA,EAAE,CAACgB,MAAP;AAAA;AAEtB,IAAMmF;AAAU,SAAS,SAAnBA;AAAU,MAAAA,CAASC,OAAO;EAAA,OAAIA,OAAO,CAACC,IAAR,KAAiB3I,OAArB;AAAA,CAAhC;AACA,IAAM4I;AAAQ,WAAW,SAAnBA;AAAQ,QAAAA,CAAWC,KAAK;EAAA,OAAIA,KAAK,CAACF,IAAN,KAAe1I,KAAnB;AAAA,CAA9B;AACA,IAAM6I;AAAW,QAAQ,SAAnBA;AAAW,KAAAA,CAAQC,QAAQ;EAAA,OAAIA,QAAQ,CAACJ,IAAT,KAAkBzI,QAAtB;AAAA,CAAjC;AAEP,IAAM8I,QAAQ,GAAG,SAAXA,QAAWA,CAAA1G,EAAE,EAAI;EACrB,SAAA2G,EAAA,MAAAC,YAAA,GAAgBtI,MAAM,CAACC,IAAP,CAAYyB,EAAZ,CAAhB,EAAiC2G,EAAA,GAAAC,YAAA,CAAA5H,MAAA,EAAA2H,EAAA;IAA5B,IAAIpG,GAAG,GAAPqG,YAAA,CAAAD,EAAA;IACH,IAAI,CAACvI,IAAI,CAACyI,GAAL,CAAStG,GAAT,CAAL,EACE,MAAM,IAAIuG,KAAJ,MAAA7I,MAAA,CAAcsC,GAAd,EAAN;EACH;EACD,OAAOP,EAAP;AACD,CAND;AAQA,IAAM+G,OAAO;EAAA,IAAAC,KAAA,GAAAxE,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAuE,SAAOjH,EAAP;IAAA,IAAAkH,GAAA;MAAAC,IAAA;MAAAC,EAAA;MAAAhF,IAAA;MAAAiF,GAAA;MAAAC,MAAA,GAAAzF,SAAA;IAAA,OAAAY,mBAAA,CAAAI,IAAA,UAAA0E,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAWiE,GAAX,GAAAI,MAAA,CAAAtI,MAAA,QAAAsI,MAAA,QAAAxF,SAAA,GAAAwF,MAAA,MAAiB,EAAjB;YAAAE,SAAA,CAAAxE,IAAA;YAAAwE,SAAA,CAAAtE,EAAA,GAEPwD,QAFO;YAAAc,SAAA,CAAAvE,IAAA;YAAA,OAEQjD,EAFR;UAAA;YAAAwH,SAAA,CAAArE,EAAA,GAAAqE,SAAA,CAAAnE,IAAA;YAEZrD,EAFY,OAAAwH,SAAA,CAAAtE,EAAA,EAAAsE,SAAA,CAAArE,EAAA;YAAA,IAGR,CAAA8C,KAAK,CAACjG,EAAD,CAHG;cAAAwH,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA,MAGS,IAAI6D,KAAJ,uBAAA7I,MAAA,CAAgC+B,EAAE,CAACgB,MAAnC,CAHT;UAAA;YAAA,IAIPkG,GAAG,CAAClI,MAJG;cAAAwI,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA,OAAAuE,SAAA,CAAAjE,MAAA,WAIYvD,EAJZ;UAAA;YAAAmH,IAAA,GAAAM,QAAA,CAKUP,GALV,GAKLE,EALK,GAAAD,IAAA,KAKE/E,IALF,GAAA+E,IAAA,CAAAO,KAAA;YAAAF,SAAA,CAAAvE,IAAA;YAAA,OAMMmE,EANN;UAAA;YAMNC,GANM,GAAAG,SAAA,CAAAnE,IAAA;YAAA,IAOR,CAAAxD,MAAI,CAACwH,GAAD,CAPI;cAAAG,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA,OAOUuE,SAAA,CAAAjE,MAAA,WAAAwD,OAAO,CAACM,GAAG,CAACrH,EAAD,CAAJ,EAAUoC,IAAV,CAPjB;UAAA;YAAA,MAQRxC,MAAM,CAACyH,GAAD,CAAN,IAAe,CAACA,GARR;cAAAG,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA,OAAAuE,SAAA,CAAAjE,MAAA,WAQoBwD,OAAO,CAAC/G,EAAD,EAAKoC,IAAL,CAR3B;UAAA;YAAA,IASR,CAAArC,aAAa,CAACsH,GAAD,CATL;cAAAG,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA,OAAAuE,SAAA,CAAAjE,MAAA,WASmBwD,OAAO,CAACM,GAAD,EAAMjF,IAAN,CAT1B;UAAA;YAAA,MAUN,IAAI0E,KAAJ,CAAU,iCAAV,CAVM;UAAA;YAAAU,SAAA,CAAAxE,IAAA;YAAAwE,SAAA,CAAApE,EAAA,GAAAoE,SAAA;YAAA,MAAAA,SAAA,CAAApE,EAAA;UAAA;UAAA;YAAA,OAAAoE,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;GAAH;EAAA,gBAAPF,OAAOA,CAAAY,GAAA;IAAA,OAAAX,KAAA,CAAAxD,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAb;AAgBa,IAAA+F,IAAI,GAAG,SAAPA,IAAOA,CAAA,EAAa;EAAA,SAAAC,KAAA,GAAAhG,SAAA,CAAA7C,MAAA,EAAT8I,IAAS,OAAA5I,KAAA,CAAA2I,KAAA,GAAAE,KAAA,MAAAA,KAAA,GAAAF,KAAA,EAAAE,KAAA;IAATD,IAAS,CAAAC,KAAA,IAAAlG,SAAA,CAAAkG,KAAA;EAAA;EAC/B,IAAOC,IAAP,GAAqBF,IAArB;IAAaG,IAAb,GAAqBH,IAArB;EACA,IAAItI,SAAO,CAACwI,IAAD,CAAP,IAAiBC,IAAI,IAAI,IAA7B,EAAmC,OAAO,UAAA1I,CAAC;IAAA,OAAIqI,IAAI,CAACrI,CAAD,EAAIyI,IAAJ,CAAR;GAAR;EACnC,OAAOjB,OAAO,CAACiB,IAAD,EAAOC,IAAP,CAAd;AACD;AAED,IAAMC,UAAQ,GAAG,SAAXC,QAAWA,CAAAC,CAAC;EAAA,OAAIA,CAAJ;AAAA,CAAlB;AAEO,IAAMC,GAAG,GAAG,SAANA,GAAMA,CAACrI,EAAD,EAAKO,GAAL,EAAU+H,QAAV,EAAuB;EACxC,OAAOtI,EAAE,CAACuI,OAAH,CAAWhI,GAAX,CAAmB,QAAnB,GAA0B+H,QAA1B,GAAqCtI,EAAE,CAACuI,OAAH,CAAWhI,GAAX,CAA5C;AACD;AAEM,IAAMiI,GAAG,GAAG,SAANA,GAAMA,CAACjI,GAAD,EAAMC,KAAN;EAAA,OAAgB,UAAAR,EAAE,EAAI;IACvCA,EAAE,CAACuI,OAAH,CAAWhI,GAAX,IAAkBC,KAAlB;IACA,OAAOK,EAAE,CAACb,EAAD,CAAT;GAFiB;AAAA;IAKNyI,MAAM,GAAG,SAATA,MAASA,CAAClI,GAAD;EAAA,IAAMqC,EAAN,GAAAf,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAWqG,UAAX;EAAA,OAAwB,UAAAlI,EAAE,EAAI;IAClDA,EAAE,CAACuI,OAAH,CAAWhI,GAAX,IAAkBqC,EAAE,CAAC5C,EAAE,CAACuI,OAAH,CAAWhI,GAAX,CAAD,EAAkBP,EAAlB,CAApB;IACA,OAAOa,EAAE,CAACb,EAAD,CAAT;GAFoB;AAAA;IAKT0I,OAAO,GAAG,SAAVA,OAAUA,CAAAnI,GAAG;EAAA,OAAI,UAAAP,EAAE,EAAI;IAClC,OAAOA,EAAE,CAACuI,OAAH,CAAWhI,GAAX,CAAP;IACA,OAAOM,EAAE,CAACb,EAAD,CAAT;GAFwB;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnSnB,SAAS2I,KAATA,CAAA,EAAyB;EAAA,IAAVzB,GAAU,GAAArF,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAC9B,OAAO+F,IAAI,CAAClJ,WAAW,EAAZ,EAAgBwI,GAAhB,CAAX;AACD;ACJD,IAAM0B,gBAAgB,GAAtB;AAcO,IAAMC,QAAQ,GAAG,SAAXA,QAAWA,CAAA;EAAA,OAAMrK,IAAI,CAACC,KAAL,CAAWmK,gBAAX,CAAN;AAAA,CAAjB;ACZA,SAASE,QAATA,CAAA,EAAmC;EAAA,IAAjBC,QAAiB,GAAAlH,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAN,IAAM;EACxC,OAAO+F,IAAI,CAAC,CACV3C,YADU,EAEV,UAAAjF,EAAE,EAAI;IACJA,EAAE,CAACgJ,KAAH,CAASD,QAAT,GAAoBA,QAApB;IACA,OAAOlI,EAAE,CAACb,EAAD,CAAT;EACD,CALS,CAAD,CAAX;AAOD;ACPM,SAASiJ,UAATA,CAAoBC,IAApB,EAA0B;EAC/B,OAAOtB,IAAI,CAAC,CACV9C,cADU,EAEV,UAAA9E,EAAE,EAAI;IACJA,EAAE,CAACoG,OAAH,CAAW8C,IAAX,GAAkBC,UAAU,CAACD,IAAD,CAA5B;IACA,OAAOrI,EAAE,CAACb,EAAD,CAAT;EACD,CALS,CAAD,CAAX;AAOD;ACTD,IAAMoJ,4BAA4B,GAAG,SAA/BA,4BAA+BA,CAAA,EAAM;EACzCC,GAAG,CAACC,SAAJ,CAAc;IACZC,GAAG,EAAE,gBADO;IAEZC,OAAO,EACL,qEAHU;IAIZC,UAAU,EACR;GALJ;AAOD,CARD;AAkBA,IAAMC,cAAc;EAAA,IAAA1C,KAAA,GAAAxE,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAuE,SAAM0C,CAAN;IAAA,OAAAlH,mBAAA,CAAAI,IAAA,UAAA0E,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAA,OAAAuE,SAAA,CAAAjE,MAAA,WAAWoG,CAAX;UAAA;UAAA;YAAA,OAAAnC,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;GAAH;EAAA,gBAAdyC,cAAcA,CAAAE,GAAA;IAAA,OAAA5C,KAAA,CAAAxD,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAApB;AAEA,IAAMgI,UAAU;EAAA,IAAGC,KAAA,GAAAtH,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAqH,SAAA;IAAA,OAAAtH,mBAAA,CAAAI,IAAA,UAAAmH,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAjH,IAAA,GAAAiH,SAAA,CAAAhH,IAAA;UAAA;YAAA,OAAAgH,SAAA,CAAA1G,MAAA,WAAY,IAAZ;UAAA;UAAA;YAAA,OAAA0G,SAAA,CAAAvG,IAAA;QAAA;MAAA;IAAA,GAAAqG,QAAA;GAAH;EAAA,gBAAVF,UAAUA,CAAA;IAAA,OAAAC,KAAA,CAAAtG,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAhB;AAEA,IAAMqI,UAAU;EAAA,IAAAC,KAAA,GAAA3H,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAA0H,SAAMC,IAAN;IAAA,OAAA5H,mBAAA,CAAAI,IAAA,UAAAyH,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAvH,IAAA,GAAAuH,SAAA,CAAAtH,IAAA;UAAA;YAAA,OACVsH,SAAA,CAAAhH,MAAA,WAAA8G,IAAI,CAACG,UADK;UAAA;UAAA;YAAA,OAAAD,SAAA,CAAA7G,IAAA;QAAA;MAAA;IAAA,GAAA0G,QAAA;GAAH;EAAA,gBAAVF,UAAUA,CAAAO,GAAA;IAAA,OAAAN,KAAA,CAAA3G,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAhB;AAIA,IAAM6I,UAAU;EAAA,IAAAC,KAAA,GAAAnI,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAkI,SAAMC,IAAN;IAAA,OAAApI,mBAAA,CAAAI,IAAA,UAAAiI,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAA/H,IAAA,GAAA+H,SAAA,CAAA9H,IAAA;UAAA;YAAA,OACV8H,SAAA,CAAAxH,MAAA;cACLyH,MAAM,EAAEH,IAAI,CAACG,MADR;cAELC,UAAU,EAAEJ,IAAI,CAACI;aAHF;UAAA;UAAA;YAAA,OAAAF,SAAA,CAAArH,IAAA;QAAA;MAAA;IAAA,GAAAkH,QAAA;GAAH;EAAA,gBAAVF,UAAUA,CAAAQ,GAAA;IAAA,OAAAP,KAAA,CAAAnH,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAhB;AAOA,IAAMsJ,gBAAgB;EAAA,IAAAC,KAAA,GAAA5I,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAA2I,SAAMC,GAAN;IAAA,OAAA7I,mBAAA,CAAAI,IAAA,UAAA0I,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxI,IAAA,GAAAwI,SAAA,CAAAvI,IAAA;UAAA;YAAA,OAChBuI,SAAA,CAAAjI,MAAA;cACLsH,IAAI,EAAES,GAAG,CAACT,IADL;cAELY,OAAO,EAAEH,GAAG,CAACG,OAFR;cAGLC,UAAU,EAAEJ,GAAG,CAACI;aAJK;UAAA;UAAA;YAAA,OAAAF,SAAA,CAAA9H,IAAA;QAAA;MAAA;IAAA,GAAA2H,QAAA;GAAH;EAAA,gBAAhBF,gBAAgBA,CAAAQ,GAAA;IAAA,OAAAP,KAAA,CAAA5H,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAtB;AAQA,IAAM+J,cAAc;EAAA,IAAAC,KAAA,GAAArJ,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAOoJ,SAAAC,QAAP,EAAiBC,QAAjB,EAA2BC,KAA3B;IAAA,OAAAxJ,mBAAA,CAAAI,IAAA,UAAAqJ,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAnJ,IAAA,GAAAmJ,SAAA,CAAAlJ,IAAA;UAAA;YAAA,KACrB8I,QADqB;cAAAI,SAAA,CAAAlJ,IAAA;cAAA;YAAA;YAAAkJ,SAAA,CAAAlJ,IAAA;YAAA,OACJmJ,aAAa,CAACL,QAAD,EAAWC,QAAX,EAAqBC,KAArB,CADT;UAAA;YAAAE,SAAA,CAAAjJ,EAAA,GAAAiJ,SAAA,CAAA9I,IAAA;YAAA8I,SAAA,CAAAlJ,IAAA;YAAA;UAAA;YAAAkJ,SAAA,CAAAjJ,EAAA,GACuC,IADvC;UAAA;YAAA,OAAAiJ,SAAA,CAAA5I,MAAA,WAAA4I,SAAA,CAAAjJ,EAAA;UAAA;UAAA;YAAA,OAAAiJ,SAAA,CAAAzI,IAAA;QAAA;MAAA;IAAA,GAAAoI,QAAA;GAAH;EAAA,gBAAdF,cAAcA,CAAAS,GAAA,EAAAC,GAAA,EAAAC,IAAA;IAAA,OAAAV,KAAA,CAAArI,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAApB;AAGA,IAAM2K,eAAe;EAAA,IAAAC,KAAA,GAAAjK,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAgK,SAAMtE,CAAN;IAAA,OAAA3F,mBAAA,CAAAI,IAAA,UAAA8J,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAA5J,IAAA,GAAA4J,SAAA,CAAA3J,IAAA;UAAA;YAAA,OAAY2J,SAAA,CAAArJ,MAAA;cAACkI,OAAO,EAAErD,CAAC,CAACqD,OAAZ;cAAqBpB,IAAI,EAAEjC,CAAC,CAACiC;aAAzC;UAAA;UAAA;YAAA,OAAAuC,SAAA,CAAAlJ,IAAA;QAAA;MAAA;IAAA,GAAAgJ,QAAA;GAAH;EAAA,gBAAfF,eAAeA,CAAAK,IAAA;IAAA,OAAAJ,KAAA,CAAAjJ,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAArB;AAEA,IAAMiL,WAAW;EAAA,IAAAC,KAAA,GAAAvK,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAOsK,UAAAC,KAAP,EAAcjB,QAAd,EAAwBC,KAAxB;IAAA,OAAAxJ,mBAAA,CAAAI,IAAA,UAAAqK,WAAAC,UAAA;MAAA;QAAA,QAAAA,UAAA,CAAAnK,IAAA,GAAAmK,UAAA,CAAAlK,IAAA;UAAA;YAAAkK,UAAA,CAAAlK,IAAA;YAAA,OACZmK,OAAO,CAACC,GAAR,CACJJ,KAAK,CAACK,GAAN,CACE,UAAAlF,CAAC;cAAA,OACC,IAAIgF,OAAJ;gBAAA,IAAAG,MAAA,GAAA/K,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAY,SAAA8K,SAAMC,GAAN;kBAAA,OAAAhL,mBAAA,CAAAI,IAAA,UAAA6K,UAAAC,SAAA;oBAAA;sBAAA,QAAAA,SAAA,CAAA3K,IAAA,GAAA2K,SAAA,CAAA1K,IAAA;wBAAA;0BAAA0K,SAAA,CAAAzK,EAAA,GACVuK,GADU;0BAAAE,SAAA,CAAA1K,IAAA;0BAAA,OACAmJ,aAAa,CAAChE,CAAD,EAAI4D,QAAJ,EAAkB,GAAA/N,MAAA,CAAA2P,kBAAA,CAAA3B,KAAlB,CAAyB,GAAA7D,CAAC,CAACiC,IAA3B,CADb;wBAAA;0BAAAsD,SAAA,CAAAxK,EAAA,GAAAwK,SAAA,CAAAtK,IAAA;0BAAA,OAAAsK,SAAA,CAAApK,MAAA,eAAAoK,SAAA,CAAAzK,EAAA,EAAAyK,SAAA,CAAAxK,EAAA;wBAAA;wBAAA;0BAAA,OAAAwK,SAAA,CAAAjK,IAAA;sBAAA;oBAAA;kBAAA,GAAA8J,QAAA;iBAAZ;gBAAA,iBAAAK,IAAA;kBAAA,OAAAN,MAAA,CAAA/J,KAAA,OAAA3B,SAAA;gBAAA;eADD;YAAA,CADH,CADI,CADY;UAAA;YAAA,OAAAsL,UAAA,CAAA5J,MAAA,WAAA4J,UAAA,CAAA9J,IAAA;UAAA;UAAA;YAAA,OAAA8J,UAAA,CAAAzJ,IAAA;QAAA;MAAA;IAAA,GAAAsJ,SAAA;GAAH;EAAA,gBAAXF,WAAWA,CAAAgB,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAjB,KAAA,CAAAvJ,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAjB;AAUA,IAAMoM,gBAAgB;EAAA,IAAAC,MAAA,GAAA1L,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAOyL,UAAAC,UAAP,EAAmBpC,QAAnB,EAA6BC,KAA7B;IAAA,OAAAxJ,mBAAA,CAAAI,IAAA,UAAAwL,WAAAC,UAAA;MAAA;QAAA,QAAAA,UAAA,CAAAtL,IAAA,GAAAsL,UAAA,CAAArL,IAAA;UAAA;YAAAqL,UAAA,CAAArL,IAAA;YAAA,OACjBmL,UAAU,CAAC9L,MAAX;cAAA,IAAkBiM,MAAA,GAAA/L,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAA8L,UAAOC,GAAP,EAAYrG,CAAZ;gBAAA,OAAA3F,mBAAA,CAAAI,IAAA,UAAA6L,WAAAC,UAAA;kBAAA;oBAAA,QAAAA,UAAA,CAAA3L,IAAA,GAAA2L,UAAA,CAAA1L,IAAA;sBAAA;wBAAA0L,UAAA,CAAA1L,IAAA;wBAAA,OACVwL,GADU;sBAAA;wBACtBA,GADsB,GAAAE,UAAA,CAAAtL,IAAA;wBAAAsL,UAAA,CAAA1L,IAAA;wBAAA,OAEZmJ,aAAa,CAAChE,CAAC,CAAC7H,GAAH,EAAQyL,QAAR,KAAA/N,MAAA,CAAA2P,kBAAA,CAAsB3B,KAAtB,IAA6B7D,CAAC,CAAC7H,GAA/B,CAFD;sBAAA;wBAAAoO,UAAA,CAAAzL,EAAA,GAAAyL,UAAA,CAAAtL,IAAA;wBAAAsL,UAAA,CAAA1L,IAAA;wBAAA,OAGdmJ,aAAa,CAAChE,CAAC,CAAC5H,KAAH,EAAUwL,QAAV,KAAA/N,MAAA,CAAA2P,kBAAA,CAAwB3B,KAAxB,IAA+B7D,CAAC,CAAC7H,GAAjC,CAHC;sBAAA;wBAEtBkO,GAFsB,CAAAE,UAAA,CAAAzL,EAAA,IAAAyL,UAAA,CAAAtL,IAAA;wBAAA,OAAAsL,UAAA,CAAApL,MAAA,WAIfkL,GAJe;sBAAA;sBAAA;wBAAA,OAAAE,UAAA,CAAAjL,IAAA;oBAAA;kBAAA;gBAAA,GAAA8K,SAAA;eAAlB;cAAA,iBAAAI,IAAA,EAAAC,IAAA;gBAAA,OAAAN,MAAA,CAAA/K,KAAA,OAAA3B,SAAA;cAAA;YAAA,KAKHuL,OAAO,CAAClL,OAAR,CAAgB,EAAhB,CALG,CADiB;UAAA;YAAA,OAAAoM,UAAA,CAAA/K,MAAA,WAAA+K,UAAA,CAAAjL,IAAA;UAAA;UAAA;YAAA,OAAAiL,UAAA,CAAA5K,IAAA;QAAA;MAAA;IAAA,GAAAyK,SAAA;GAAH;EAAA,gBAAhBF,gBAAgBA,CAAAa,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAd,MAAA,CAAA1K,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAtB;AAQA,IAAMoN,eAAe;EAAA,IAAAC,MAAA,GAAA1M,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAOyM,UAAAC,SAAP,EAAkBpD,QAAlB,EAA4BC,KAA5B;IAAA,IAAAoD,OAAA,EAAAC,OAAA;IAAA,OAAA7M,mBAAA,CAAAI,IAAA,UAAA0M,WAAAC,UAAA;MAAA;QAAA,QAAAA,UAAA,CAAAxM,IAAA,GAAAwM,UAAA,CAAAvM,IAAA;UAAA;YAAAuM,UAAA,CAAAvM,IAAA;YAAA,OACAmM,SAAS,CAACK,MAAV,CAAiBnN,MAAjB;cAAA,IAAwBoN,MAAA,GAAAlN,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAiN,UAAOlB,GAAP,EAAYrG,CAAZ;gBAAA,OAAA3F,mBAAA,CAAAI,IAAA,UAAA+M,WAAAC,UAAA;kBAAA;oBAAA,QAAAA,UAAA,CAAA7M,IAAA,GAAA6M,UAAA,CAAA5M,IAAA;sBAAA;wBAAA4M,UAAA,CAAA5M,IAAA;wBAAA,OAChCwL,GADgC;sBAAA;wBAC5CA,GAD4C,GAAAoB,UAAA,CAAAxM,IAAA;wBAAAwM,UAAA,CAAA5M,IAAA;wBAAA,OAExBmJ,aAAa,CAAChE,CAAC,CAAC5H,KAAH,EAAUwL,QAAV,KAAA/N,MAAA,CAAA2P,kBAAA,CAAwB3B,KAAxB,IAA+B7D,CAAC,CAAC0H,IAAjC,CAFW;sBAAA;wBAE5CrB,GAAG,CAACrG,CAAC,CAAC0H,IAAH,CAFyC,GAAAD,UAAA,CAAAxM,IAAA;wBAAA,OAAAwM,UAAA,CAAAtM,MAAA,WAGrCkL,GAHqC;sBAAA;sBAAA;wBAAA,OAAAoB,UAAA,CAAAnM,IAAA;oBAAA;kBAAA;gBAAA,GAAAiM,SAAA;eAAxB;cAAA,iBAAAI,IAAA,EAAAC,IAAA;gBAAA,OAAAN,MAAA,CAAAlM,KAAA,OAAA3B,SAAA;cAAA;YAAA,KAInBuL,OAAO,CAAClL,OAAR,CAAgB,EAAhB,CAJmB,CADA;UAAA;YAChBmN,OADgB,GAAAG,UAAA,CAAAnM,IAAA;YAMhBiM,OANgB,GAMNF,SAAS,CAACa,EAAV,IAAgBC,aAAa,CAAClE,QAAD,EAAWoD,SAAS,CAACa,EAArB,CANvB;YAAA,KAOfX,OAPe;cAAAE,UAAA,CAAAvM,IAAA;cAAA;YAAA;YAAAuM,UAAA,CAAAvM,IAAA;YAAA,OAOCqM,OAAO,CAACD,OAAD,CAPR;UAAA;YAAAG,UAAA,CAAAtM,EAAA,GAAAsM,UAAA,CAAAnM,IAAA;YAAAmM,UAAA,CAAAvM,IAAA;YAAA;UAAA;YAAAuM,UAAA,CAAAtM,EAAA,GAOoBmM,OAPpB;UAAA;YAAA,OAAAG,UAAA,CAAAjM,MAAA,WAAAiM,UAAA,CAAAtM,EAAA;UAAA;UAAA;YAAA,OAAAsM,UAAA,CAAA9L,IAAA;QAAA;MAAA;IAAA,GAAAyL,SAAA;GAAH;EAAA,gBAAfF,eAAeA,CAAAkB,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAnB,MAAA,CAAA1L,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAArB;AAUA,IAAMyO,eAAe,GAAG;EACtBC,IAAI,EAAE7G,cADgB;EAEtB8G,GAAG,EAAE9G,cAFiB;EAGtB+G,KAAK,EAAE/G,cAHe;EAItBgH,IAAI,EAAEhH,cAJgB;EAKtBiH,MAAM,EAAEjH,cALc;EAMtBkH,KAAK,EAAElH,cANe;EAOtBmH,MAAM,EAAEnH,cAPc;EAQtBoH,KAAK,EAAEpH,cARe;EAStBqH,MAAM,EAAErH,cATc;EAUtBsH,KAAK,EAAEtH,cAVe;EAWtBuH,OAAO,EAAEvH,cAXa;EAYtBwH,MAAM,EAAExH,cAZc;EAatByH,OAAO,EAAEzH,cAba;EActB0H,MAAM,EAAE1H,cAdc;EAetB2H,KAAK,EAAE3H,cAfe;EAgBtB4H,MAAM,EAAE5H,cAhBc;EAiBtB6H,MAAM,EAAE7H,cAjBc;EAkBtB8H,MAAM,EAAE9H,cAlBc;EAmBtB+H,MAAM,EAAE/H,cAnBc;EAoBtBgI,KAAK,EAAEhI,cApBe;EAqBtBiI,MAAM,EAAEjI,cArBc;EAsBtBkI,SAAS,EAAElI,cAtBW;EAuBtBmI,IAAI,EAAEnI,cAvBgB;EAwBtBoI,OAAO,EAAEpI,cAxBa;EAyBtBqI,IAAI,EAAElI,UAzBgB;EA0BtBmI,QAAQ,EAAEpG,cA1BY;EA2BtBqG,SAAS,EAAEzF,eA3BW;EA4BtBtN,KAAK,EAAE4N,WA5Be;EA6BtBoF,UAAU,EAAEjE,gBA7BU;EA8BtBkE,KAAK,EAAElD,eA9Be;EA+BtBmD,QAAQ,EAAEnD,eA/BY;EAgCtBoD,MAAM,EAAEpD,eAhCc;EAiCtBqD,IAAI,EAAErD,eAjCgB;EAkCtBsD,IAAI,EAAErI,UAlCgB;EAmCtBsI,IAAI,EAAE9H,UAnCgB;EAoCtB+H,UAAU,EAAEtH;AApCU,CAAxB;AAuCA,IAAM+E,aAAa,GAAG,SAAhBA,aAAgBA,CAAClE,QAAD,EAAW0G,MAAX,EAAsB;EAC1C,IAAMC,KAAK,GAAGrU,MAAM,CAACC,IAAP,CAAYyN,QAAZ,EAAsB4G,IAAtB,CAA2B,UAAAtD,OAAO,EAAI;IAClD,IAAI,UAAW,CAAAuD,IAAX,CAAgBvD,OAAhB,CAAJ,EAA8B;MAC5B,IAAMwD,GAAG,GAAG,IAAIC,MAAJ,CAAWzD,OAAO,CAAC0D,SAAR,CAAkB,CAAlB,EAAqB1D,OAAO,CAACtQ,MAAR,GAAiB,CAAtC,CAAX,CAAZ;MACA,OAAO8T,GAAG,CAACD,IAAJ,CAASH,MAAT,CAAP;IACD;IACD,OAAOpD,OAAO,KAAKoD,MAAnB;EACD,CANa,CAAd;EAOA,OAAOA,MAAM,IAAIC,KAAV,IAAmB3G,QAAQ,CAAC2G,KAAD,CAAlC;AACD,CATD;AAWA,IAAMvG,aAAa;EAAA,IAAA6G,MAAA,GAAAzQ,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAOwQ,UAAAC,kBAAP,EAA2BnH,QAA3B,EAAqCC,KAArC;IAAA,IAAAqD,OAAA;IAAA,OAAA7M,mBAAA,CAAAI,IAAA,UAAAuQ,WAAAC,UAAA;MAAA;QAAA,QAAAA,UAAA,CAAArQ,IAAA,GAAAqQ,UAAA,CAAApQ,IAAA;UAAA;YAChBqM,OADgB,GACNY,aAAa,CAAClE,QAAD,EAAWmH,kBAAkB,CAAC9I,IAA9B,CADP;YAAA,IAEfiF,OAFe;cAAA+D,UAAA,CAAApQ,IAAA;cAAA;YAAA;YAAA,MAGZ,IAAI6D,KAAJ,CACwB,4BAAA7I,MAAA,CAAAkV,kBAAkB,CAAC9I,IAD3C,EACmD,KAAApM,MAAA,CAAAgO,KAAK,CAAC7M,IAAN,CAAW,GAAX,CADnD,CAHY;UAAA;YAAAiU,UAAA,CAAApQ,IAAA;YAAA,OAMPqM,OAAO,CAAC6D,kBAAkB,CAAC3S,KAApB,EAA2BwL,QAA3B,EAAqCC,KAArC,CANA;UAAA;YAAA,OAAAoH,UAAA,CAAA9P,MAAA,WAAA8P,UAAA,CAAAhQ,IAAA;UAAA;UAAA;YAAA,OAAAgQ,UAAA,CAAA3P,IAAA;QAAA;MAAA;IAAA,GAAAwP,SAAA;GAAH;EAAA,gBAAb9G,aAAaA,CAAAkH,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAP,MAAA,CAAAzP,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAnB;AASO,IAAM4R,QAAM;EAAA,IAAAC,MAAA,GAAAlR,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAiR,UACpBR,kBADoB;IAAA,IAAAS,cAAA;MAAA3H,KAAA;MAAA4H,gBAAA;MAAA7H,QAAA;MAAA8H,OAAA,GAAAjS,SAAA;IAAA,OAAAY,mBAAA,CAAAI,IAAA,UAAAkR,WAAAC,UAAA;MAAA;QAAA,QAAAA,UAAA,CAAAhR,IAAA,GAAAgR,UAAA,CAAA/Q,IAAA;UAAA;YAEpB2Q,cAFoB,GAAAE,OAAA,CAAA9U,MAAA,QAAA8U,OAAA,QAAAhS,SAAA,GAAAgS,OAAA,MAEH,EAFG;YAGpB7H,KAHoB,GAAA6H,OAAA,CAAA9U,MAAA,QAAA8U,OAAA,QAAAhS,SAAA,GAAAgS,OAAA,MAGZ,EAHY;YAKpB;YACMD,gBANc,GAMKvV,MAAM,CAACC,IAAP,CAAY+R,eAAZ,CACtB,CAAA2D,MADsB,CAErB,UAAA3E,OAAO;cAAA,OACL,CAAChR,MAAM,CAACC,IAAP,CAAYqV,cAAZ,CAA4B,CAAAhB,IAA5B,CAAiC,UAAAsB,aAAa;gBAAA,OAC7C,IAAInB,MAAJ,CAAWmB,aAAX,EAA0BrB,IAA1B,CAA+BvD,OAA/B,CAD6C;cAAA,CAA9C,CADI;YAAA,CAFc,EAOtBhN,MAPsB,CAOf,UAAC0J,QAAD,EAAWmI,UAAX,EAA0B;cAChCnI,QAAQ,CAACmI,UAAD,CAAR,GAAuB7D,eAAe,CAAC6D,UAAD,CAAtC;cACA,OAAOnI,QAAP;aATqB,EAUpB4H,cAVoB,CANL;YAkBd5H,QAlBc,GAAAtK,aAAA,CAAAA,aAAA,KAmBfmS,gBAnBe,GAoBfD,cApBe;YAAA,OAAAI,UAAA,CAAAzQ,MAAA,WAsBb6I,aAAa,CAAC+G,kBAAD,EAAqBnH,QAArB,EAA+BC,KAA/B,CAtBA;UAAA;UAAA;YAAA,OAAA+H,UAAA,CAAAtQ,IAAA;QAAA;MAAA;IAAA,GAAAiQ,SAAA;GAAH;EAAA,gBAANS,MAAMA,CAAAC,IAAA;IAAA,OAAAX,MAAA,CAAAlQ,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAZ;AAyBA,IAAMyS,cAAc;EAAA,IAAAC,MAAA,GAAA/R,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAA8R,UAAO3L,QAAP;IAAA,IAAA+K,cAAA;MAAAa,OAAA,GAAA5S,SAAA;IAAA,OAAAY,mBAAA,CAAAI,IAAA,UAAA6R,WAAAC,UAAA;MAAA;QAAA,QAAAA,UAAA,CAAA3R,IAAA,GAAA2R,UAAA,CAAA1R,IAAA;UAAA;YAAiB2Q,cAAjB,GAAAa,OAAA,CAAAzV,MAAA,QAAAyV,OAAA,QAAA3S,SAAA,GAAA2S,OAAA,MAAkC,EAAlC;YAAA,IACxB,CAAA5L,QAAQ,CAAC+L,WADe;cAAAD,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OAAA0R,UAAA,CAAApR,MAAA,WAEnBkQ,QAAM,CAAC5K,QAAQ,CAAC+L,WAAV,EAAuBhB,cAAvB,CAFa;UAAA;YAAA,IAGjB,CAAA/K,QAAQ,CAACgM,iBAHQ;cAAAF,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA0R,UAAA,CAAAzR,EAAA,GAAAxB,aAAA;YAAAiT,UAKrB,CAAAxR,EAAA,GAAAzB,aAAA,KAAAmH,QAAQ,CAACgM,iBALY;YAAAF,UAAA,CAAAvR,EAAA;YAAAuR,UAAA,CAAA1R,IAAA;YAAA,OAMVmK,OAAO,CAACC,GAAR,CACZxE,QAAQ,CAACgM,iBAAT,CAA2BC,MAA3B,CAAkCxH,GAAlC;cAAA,IAAAyH,aAAA,GAAAvS,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAsC,SAAAsS,UAA4BrU,CAA5B;gBAAA,OAAA8B,mBAAA,CAAAI,IAAA,UAAAoS,WAAAC,UAAA;kBAAA;oBAAA,QAAAA,UAAA,CAAAlS,IAAA,GAAAkS,UAAA,CAAAjS,IAAA;sBAAA;wBAAAiS,UAE5B,CAAAhS,EAAA,GAAAvC,CAAC,CAAC0J,IAF0B;wBAAA6K,UAGnB,CAAA/R,EAAA,GAAAxC,CAAC,CAACwU,aAHiB;wBAAAD,UAIhB,CAAA9R,EAAA,GAAAzC,CAAC,CAACyU,gBAJc;wBAAAF,UAKtB,CAAA5R,EAAA,GAAA3C,CAAC,CAAC0U,UALoB;wBAAAH,UAAA,CAAAjS,IAAA;wBAAA,OAMtBwQ,QAAM,CAAC9S,CAAC,CAAC2U,OAAH,EAAY1B,cAAZ,CANgB;sBAAA;wBAAAsB,UAAA,CAAAK,EAAA,GAAAL,UAAA,CAAA7R,IAAA;wBAAA,OAAA6R,UAAA,CAAA3R,MAAA;0BAElC8G,IAFkC,EAAA6K,UAAA,CAAAhS,EAAA;0BAGlCiS,aAHkC,EAAAD,UAAA,CAAA/R,EAAA;0BAIlCiS,gBAJkC,EAAAF,UAAA,CAAA9R,EAAA;0BAKlCiS,UALkC,EAAAH,UAAA,CAAA5R,EAAA;0BAMlCkS,IANkC,EAAAN,UAAA,CAAAK;wBAAA;sBAAA;sBAAA;wBAAA,OAAAL,UAAA,CAAAxR,IAAA;oBAAA;kBAAA;gBAAA,GAAAsR,SAAA;eAAtC;cAAA,SAAqDS,YAArDA,CAAAC,IAAA;gBAAA,OAAAX,aAAA,CAAAvR,KAAA,OAAA3B,SAAA;cAAA;cAAA,OAAqD4T,YAArD;YAAA,IADY,CANU;UAAA;YAAAd,UAAA,CAAArR,EAAA,GAAAqR,UAAA,CAAAtR,IAAA;YAAAsR,UAAA,CAAAY,EAAA;cAMxBT,MANwB,EAAAH,UAAA,CAAArR;YAAA;YAAA,OAAAqR,UAAA,CAAApR,MAAA,eAAAoR,UAAA,CAAAzR,EAAA,EAAAyR,UAAA,CAAAxR,EAAA,EAAAwR,UAAA,CAAAvR,EAAA,EAAAuR,UAAA,CAAAY,EAAA;UAAA;YAAA,IAkBjB,CAAA1M,QAAQ,CAAC8M,WAlBQ;cAAAhB,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OAmBnB0R,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAAC8M,WAnBU;UAAA;YAAA,IAoBjB,CAAA9M,QAAQ,CAACiM,MApBQ;cAAAH,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA0R,UAAA,CAAA1R,IAAA;YAAA,OAqBbmK,OAAO,CAACC,GAAR,CACXxE,QAAQ,CAACiM,MAAT,CAAgBxH,GAAhB;cAAA,IAAAsI,cAAA,GAAApT,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAoB,SAAAmT,UAA4BlV,CAA5B;gBAAA,OAAA8B,mBAAA,CAAAI,IAAA,UAAAiT,WAAAC,UAAA;kBAAA;oBAAA,QAAAA,UAAA,CAAA/S,IAAA,GAAA+S,UAAA,CAAA9S,IAAA;sBAAA;wBAAA8S,UAEP,CAAA7S,EAAA,GAAAvC,CAAC,CAACqV,OAFK;wBAAAD,UAGH,CAAA5S,EAAA,GAAAxC,CAAC,CAACsV,WAHC;wBAAAF,UAIA,CAAA3S,EAAA,GAAAzC,CAAC,CAACuV,cAJF;wBAAAH,UAKV,CAAAzS,EAAA,GAAA3C,CAAC,CAAC0J,IALQ;wBAAA0L,UAMD,CAAAR,EAAA,GAAA5U,CAAC,CAACwU,aAND;wBAAAY,UAOE,CAAAI,EAAA,GAAAxV,CAAC,CAACyU,gBAPJ;wBAAAW,UAQJ,CAAAK,EAAA,GAAAzV,CAAC,CAAC0U,UARE;wBAAAU,UAAA,CAAA9S,IAAA;wBAAA,OASJwQ,QAAM,CAAC9S,CAAC,CAAC2U,OAAH,EAAY1B,cAAZ,CATF;sBAAA;wBAAAmC,UAAA,CAAAM,EAAA,GAAAN,UAAA,CAAA1S,IAAA;wBAAA,OAAA0S,UAAA,CAAAxS,MAAA;0BAEhByS,OAFgB,EAAAD,UAAA,CAAA7S,EAAA;0BAGhB+S,WAHgB,EAAAF,UAAA,CAAA5S,EAAA;0BAIhB+S,cAJgB,EAAAH,UAAA,CAAA3S,EAAA;0BAKhBiH,IALgB,EAAA0L,UAAA,CAAAzS,EAAA;0BAMhB6R,aANgB,EAAAY,UAAA,CAAAR,EAAA;0BAOhBH,gBAPgB,EAAAW,UAAA,CAAAI,EAAA;0BAQhBd,UARgB,EAAAU,UAAA,CAAAK,EAAA;0BAShBZ,IATgB,EAAAO,UAAA,CAAAM;wBAAA;sBAAA;sBAAA;wBAAA,OAAAN,UAAA,CAAArS,IAAA;oBAAA;kBAAA;gBAAA,GAAAmS,SAAA;eAApB;cAAA,SAAmCJ,YAAnCA,CAAAa,IAAA;gBAAA,OAAAV,cAAA,CAAApS,KAAA,OAAA3B,SAAA;cAAA;cAAA,OAAmC4T,YAAnC;YAAA,IADW,CArBa;UAAA;YAAA,OAAAd,UAAA,CAAApR,MAAA,WAAAoR,UAAA,CAAAtR,IAAA;UAAA;YAAA,IAmCjB,CAAAwF,QAAQ,CAACzC,OAnCQ;cAAAuO,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OAoCnB0R,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAACzC,OApCU;UAAA;YAAA,IAqCjB,CAAAyC,QAAQ,CAACG,KArCQ;cAAA2L,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OAsCnB0R,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAACG,KAtCU;UAAA;YAAA,IAuCjB,CAAAH,QAAQ,CAAC0N,WAvCQ;cAAA5B,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OAwCnB0R,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAAC0N,WAxCU;UAAA;YAAA,IAyCjB,CAAA1N,QAAQ,CAAC2N,WAzCQ;cAAA7B,UAAA,CAAA1R,IAAA;cAAA;YAAA;YA0C1BmG,4BAA4B;YA1CF,OA2CnBuL,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAAC2N,WA3CU;UAAA;YAAA,IA4CjB,CAAA3N,QAAQ,CAACsM,aA5CQ;cAAAR,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OA6CnB0R,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAACsM,aA7CU;UAAA;YAAA,IA8CjB,CAAAtM,QAAQ,CAAC4N,UA9CQ;cAAA9B,UAAA,CAAA1R,IAAA;cAAA;YAAA;YAAA,OA+CnB0R,UAAA,CAAApR,MAAA,WAAAsF,QAAQ,CAAC4N,UA/CU;UAAA;YAAA,OAAA9B,UAAA,CAAApR,MAAA,WAkDrB,IAlDqB;UAAA;UAAA;YAAA,OAAAoR,UAAA,CAAAjR,IAAA;QAAA;MAAA;IAAA,GAAA8Q,SAAA;GAAH;EAAA,gBAAdF,cAAcA,CAAAoC,IAAA;IAAA,OAAAnC,MAAA,CAAA/Q,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAApB;SCjJQ8U,SAAAhT,EAAA;;;;EAAfiT,SAAA,GAAApU,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAuE,SAAwBrF,IAAxB;IAAA,IAAAiV,IAAA,EAAAC,MAAA,EAAA9W,EAAA;IAAA,OAAAyC,mBAAA,CAAAI,IAAA,UAAA0E,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAAuE,SAAA,CAAAvE,IAAA;YAAA,OACqB8T,MAAM,GAAG1O,GAAT,CAAa,gBAAb,CADrB;UAAA;YACQwO,IADR,GAAArP,SAAA,CAAAnE,IAAA;YAAAmE,SAAA,CAAAvE,IAAA;YAAA,OAEuB8T,MAAM,CAACC,KAAP,CAAa,CAAC,eAAD,EAAkB,UAAlB,CAAb,EAA4CC,MAA5C,CAFvB;UAAA;YAEQH,MAFR,GAAAtP,SAAA,CAAAnE,IAAA;YAIE9B,WAAS,CACPuV,MADO,EAE4D,mEAAA7Y,MAAA,mGAF5D,CAAT;YAJFuJ,SAAA,CAAAvE,IAAA;YAAA,OAUa2E,IAAI,CAAClJ,WAAW,EAAZ,EAAgB,CAACoK,QAAQ,EAAT,CAAhB,CAVjB;UAAA;YAUE9I,EAVF,GAAAwH,SAAA,CAAAnE,IAAA;YAAAmE,SAAA,CAAAvE,IAAA;YAAA,OAWa6T,MAAM,CAAC9W,EAAD,EAAK;cAAC+W,MAAM,EAANA,MAAD;cAASlO,QAAQ,EAARA,QAAT;cAAmBqO,MAAM,EAANA,MAAnB;cAA2BlX,EAAE,EAAEmX;YAA/B,CAAL,EAA+C;cAACN,IAAI,EAAJA;YAAD,CAA/C,CAXnB;UAAA;YAWE7W,EAXF,GAAAwH,SAAA,CAAAnE,IAAA;YAAAmE,SAAA,CAAAvE,IAAA;YAAA,OAYaqR,cAAc,CAACtU,EAAD,CAZ3B;UAAA;YAYEA,EAZF,GAAAwH,SAAA,CAAAnE,IAAA;YAAA,OAaSmE,SAAA,CAAAjE,MAAA,WAAAvD,EAAE,CAACiQ,EAbZ;UAAA;UAAA;YAAA,OAAAzI,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;;;;AAgBO,SAASmQ,iBAATA,CAA2BxV,IAA3B,EAAiC;EACtC;IAAA,IAAAW,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAO,SAAAC,QAAM3C,EAAN;MAAA,OAAAyC,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA;UAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,IACAsC,aAAa,CAACvF,EAAD,CADb;gBAAA+C,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAC0BF,QAAA,CAAAQ,MAAA,WAAA1C,EAAE,CAACb,EAAD,CAD5B;YAAA;cAAA,KAEDA,EAAE,CAACoE,OAAH,CAAWiT,QAFV;gBAAAtU,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAE2BF,QAAA,CAAAQ,MAAA,WAAA1C,EAAE,CAACb,EAAD,CAF7B;YAAA;cAAA+C,QAAA,CAAAE,IAAA;cAAA,OAIuB0T,QAAQ,CAAC/U,IAAD,CAJ/B;YAAA;cAIL5B,EAAE,CAACoE,OAAH,CAAWiT,QAJN,GAAAtU,QAAA,CAAAM,IAAA;cAAA,OAMEN,QAAA,CAAAQ,MAAA,WAAA1C,EAAE,CAACb,EAAD,CANJ;YAAA;YAAA;cAAA,OAAA+C,QAAA,CAAAW,IAAA;UAAA;QAAA;MAAA,GAAAf,OAAA;KAAP;IAAA,iBAAAiB,GAAA;MAAA,OAAArB,IAAA,CAAAiB,KAAA,OAAA3B,SAAA;IAAA;EAAA;AAQD;ACpCD,IAAMyV,MAAI,GAAG,SAAPxX,IAAOA,CAAAsI,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,UAAjB;AAAA,CAAd;AACA,IAAMmP,UAAQ,GAAG,SAAXC,QAAWA,CAAApP,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,QAAjB;AAAA,CAAlB;AAEA,SAAsBqP,cAAtBA,CAAA9T,EAAA;EAAA,OAAA+T,eAAA,CAAAlU,KAAA,OAAA3B,SAAA;AAAA;;EAAO6V,eAAA,GAAAlV,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAA8B3C,EAA9B;IAAA,IAAA2X,OAAA;IAAA,OAAAlV,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,IACD,EAAAsC,aAAa,CAACvF,EAAD,CAAb,IAAqBsF,QAAQ,CAACtF,EAAD,CAD5B;cAAA+C,QAAA,CAAAE,IAAA;cAAA;YAAA;YAEC0U,OAFD,GAEWtP,GAAG,CAACrI,EAAD,EAAK,YAAL,CAFd;YAGHuB,WAAS,CACP+V,MAAI,CAACK,OAAD,CAAJ,IAAiBJ,UAAQ,CAACI,OAAD,CADlB,EAEP,6CAFO,CAAT;YAHG,IAOC,CAAAL,MAAI,CAACK,OAAD,CAPL;cAAA5U,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAOgC0U,OAAO,CAAC,EAAD,CAPvC;UAAA;YAOgBA,OAPhB,GAAA5U,QAAA,CAAAM,IAAA;UAAA;YAQH9B,WAAS,CAACgW,UAAQ,CAACI,OAAD,CAAT,EAAoB,6CAApB,CAAT;YARG5U,QAAA,CAAAE,IAAA;YAAA,OASwB8T,MAAM,GAC9Ba,KADwB,CAClB,KADkB,CAExB,CAAAC,IAFwB,CAEnB,UAAAtY,CAAC;cAAA,OACLjB,MAAM,CAACwZ,OAAP,CAAevY,CAAf,EAAkB+C,MAAlB,CAAyB,UAACqV,OAAD,EAA2BpV,IAAA;gBAAA,IAAAyE,KAAA,GAAA+Q,cAAA,CAAAxV,IAAA;kBAAhBhC,GAAgB,GAAAyG,KAAA;kBAAXxG,KAAW,GAAAwG,KAAA;gBAClD,IAAMgR,KAAK,GAAG,IAAIjF,MAAJ,CAAW,MAAS,GAAAxS,GAAT,GAAe,MAA1B,EAAkC,GAAlC,CAAd;gBACA,OAAOoX,OAAO,CAACM,OAAR,CAAgBD,KAAhB,EAAuBxX,KAAvB,CAAP;eAFF,EAGGmX,OAHH,CADK;YAAA,CAFkB,CATxB;UAAA;YASH3X,EAAE,CAACoE,OAAH,CAAWuT,OATR,GAAA5U,QAAA,CAAAM,IAAA;UAAA;YAAA,OAAAN,QAAA,CAAAQ,MAAA,WAmBEvD,EAnBF;UAAA;UAAA;YAAA,OAAA+C,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACJP,IAAMuV,MAAI,GAAG,SAAPpY,IAAOA,CAAAsI,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,UAAjB;AAAA,CAAd;AAEA,SAAS+P,IAATA,CAAchU,GAAd,EAAmB;EACjB;EACA5C,WAAS,CAAC5B,OAAO,CAAAwE,GAAG,CAACG,KAAX,CAAoB,QAArB,EAA8D,mCAAArG,MAAA,CAAAkG,GAAG,CAAC3D,KAAlE,CAAT;EAEA,IAAI0X,MAAI,CAAC/T,GAAG,CAACG,KAAL,CAAR,EAAqB,OAAOH,GAAG,CAACG,KAAJ,CAAUH,GAAG,CAAC3D,KAAd,CAAP;EACrB,IAAI0X,MAAI,CAAC/T,GAAG,CAACG,KAAJ,CAAUD,UAAX,CAAR,EAAgC,OAAOF,GAAG,CAACG,KAAJ,CAAUD,UAAV,CAAqBF,GAAG,CAAC3D,KAAzB,CAAP,CALf;;EAQjBe,WAAS,CAAC,KAAD,EAA4B,oBAAA4C,GAA5B,CAAT;AACD;SAEciU,oBAAAzU,EAAA;;;;EAAf0U,oBAAA,GAAA7V,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAmCwB,GAAnC;IAAA,IAAAmU,KAAA;MAAAC,WAAA;MAAAC,KAAA,GAAA3W,SAAA;IAAA,OAAAY,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAwCqV,KAAxC,GAAAE,KAAA,CAAAxZ,MAAA,QAAAwZ,KAAA,QAAA1W,SAAA,GAAA0W,KAAA,MAAgD,CAAhD;YACEjX,WAAS,CACP+W,KAAK,GAAG,CADD,wDAAAra,MAAA,CAE+CkG,GAAG,CAACnC,MAFnD,CAAT;YADF,KAMMkW,MAAI,CAAC/T,GAAG,CAACI,eAAL,CANV;cAAAxB,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAO8BkB,GAAG,CAACI,eAAJ,EAP9B;UAAA;YAOUgU,WAPV,GAAAxV,QAAA,CAAAM,IAAA;YAAA,OAAAN,QAAA,CAAAQ,MAAA,WAQW6U,mBAAmB,CAACG,WAAD,EAAcD,KAAK,GAAG,CAAtB,CAR9B;UAAA;YAAA,OAAAvV,QAAA,CAAAQ,MAAA,WAUWY,GAVX;UAAA;UAAA;YAAA,OAAApB,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;AAcA,SAAsB8V,gBAAtBA,CAAA7U,GAAA;EAAA,OAAA8U,iBAAA,CAAAlV,KAAA,OAAA3B,SAAA;AAAA;;EAAO6W,iBAAA,GAAAlW,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAuE,SAAgCjH,EAAhC;IAAA,IAAA2G,EAAA,EAAAgS,eAAA,EAAAC,kBAAA,EAAA3I,EAAA,EAAA9L,GAAA,EAAAsJ,GAAA;IAAA,OAAAhL,mBAAA,CAAAI,IAAA,UAAA0E,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAA,IACD,EAAAsC,aAAa,CAACvF,EAAD,CAAb,IAAqBsF,QAAQ,CAACtF,EAAD,CAD5B;cAAAwH,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA0D,EAAA,MAAAgS,eAAA,GAEmBra,MAAM,CAACwZ,OAAP,CAAe9X,EAAE,CAAC6B,SAAlB,CAFnB;UAAA;YAAA,MAAA8E,EAAA,GAAAgS,eAAA,CAAA3Z,MAAA;cAAAwI,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA2V,kBAEO,GAAAb,cAAA,CAAAY,eAAA,CAAAhS,EAAA,OAAAsJ,EAFP,GAAA2I,kBAAA,KAEWzU,GAFX,GAAAyU,kBAAA;YAAApR,SAAA,CAAAvE,IAAA;YAAA,OAGiBmV,mBAAmB,CAACjU,GAAD,CAHpC;UAAA;YAGKsJ,GAHL,GAAAjG,SAAA,CAAAnE,IAAA;YAIDrD,EAAE,CAAC6B,SAAH,CAAaoO,EAAb,EAAiB5L,UAAjB,GAA8B8T,IAAI,CAAC1K,GAAD,CAAlC;UAJC;YAAA9G,EAAA;YAAAa,SAAA,CAAAvE,IAAA;YAAA;UAAA;YAAA,OAAAuE,SAAA,CAAAjE,MAAA,WAQEvD,EARF;UAAA;UAAA;YAAA,OAAAwH,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;;;;IC1BM4R,wBAAwB,GAAG,SAA3BA,wBAA2BA,CAAAC,EAAE;EAAA,OACxCC,2BAA2B,CAACC,SAAS,CAACC,cAAc,CAACH,EAAD,CAAf,CAAV,CADa;AAAA;IAE7BI,yBAAyB,GAAG,SAA5BA,yBAA4BA,CAAAJ,EAAE;EAAA,OACzCC,2BAA2B,CAACC,SAAS,CAACG,eAAe,CAACL,EAAD,CAAhB,CAAV,CADc;AAAA;IAE9BM,qBAAqB,GAAG,SAAxBA,qBAAwBA,CAAAC,OAAO;EAAA,OAC1CC,QAAQ,CAACN,SAAS,CAACO,cAAc,CAACF,OAAD,CAAf,CAAV,CADkC;AAAA;AAG5C,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAuBA,CAAChZ,KAAD,EAAQiZ,GAAR;EAAA,OAC3BvC,MAAM,CAAC/X,IAAP,CAAYqB,KAAK,CAACkZ,MAAN,CAAaD,GAAG,GAAG,CAAnB,EAAsB,CAAtB,CAAZ,EAAsC,KAAtC,CAD2B;AAAA,CAA7B;AAGA,IAAME,mBAAmB,GAAG,SAAtBA,mBAAsBA,CAACnZ,KAAD,EAAQiZ,GAAR;EAAA,OAC1BvC,MAAM,CAAC/X,IAAP,CAAYqB,KAAK,CAACoZ,QAAN,CAAeH,GAAG,GAAG,CAArB,EAAwB,CAAxB,CAAZ,EAAwC,KAAxC,CAD0B;AAAA,CAA5B;AAGA,IAAMI,sBAAsB,GAAGL,oBAAoB,CACjDtC,MAAM,CAAC/X,IAAP,CAAY,uBAAZ,EAAqC2a,QAArC,CAA8C,KAA9C,CADiD,EAEjD,EAFiD,CAApB,CAG7BA,QAH6B,CAGpB,KAHoB,CAA/B;AAIA,IAAMf,2BAA2B,GAAG,SAA9BA,2BAA8BA,CAAAD,EAAE;EAAA,OAAIe,sBAAsB,GAAGf,EAA7B;AAAA,CAAtC;AAEA,IAAMiB,aAAa,GAAG,SAAhBA,aAAgBA,CAAA7Q,IAAI;EAAA,OAAIyQ,mBAAmB,CAACzQ,IAAD,EAAO,CAAP,CAAvB;AAAA,CAA1B;AAEA,IAAM8Q,WAAW,GAAG,SAAdA,WAAcA,CAAAhR,KAAK;EAAA,OAAI2Q,mBAAmB,CAAC3Q,KAAD,EAAQ,EAAR,CAAvB;AAAA,CAAzB;AAEA,IAAMiR,gBAAgB,GAAG,SAAnBA,gBAAmBA,CAAA9V,GAAG;EAAA,OAAI+S,MAAM,CAAC/X,IAAP,CAAYX,IAAI,CAAC0b,SAAL,CAAe/V,GAAf,CAAZ,EAAiC,MAAjC,CAAJ;AAAA,CAA5B;AAEA,IAAMgW,YAAY,GAAG,SAAfA,YAAeA,CAAAC,MAAM;EAAA,OAAIlD,MAAM,CAAC/X,IAAP,CAAYib,MAAZ,EAAoB,MAApB,CAAJ;AAAA,CAA3B;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkBA,CAAAC,SAAS;EAAA,OAAIpD,MAAM,CAAC/X,IAAP,CAAYmb,SAAZ,EAAuB,KAAvB,CAAJ;AAAA,CAAjC;AAEA,IAAMtB,SAAS,GAAG,SAAZA,SAAYA,CAAA5Q,CAAC,EAAI;EACrB,OAAOmS,MAAM,CAACnS,CAAD,CAAN,CAAU0R,QAAV,CAAmB,KAAnB,CAAP;AACD,CAFD;AAIA,IAAMR,QAAQ,GAAG,SAAXA,QAAWA,CAAAkB,GAAG,EAAI;EACtB,IAAMC,GAAG,GAAG,IAAIC,IAAJ,CAAS,GAAT,CAAZ;EACAD,GAAG,CAAChS,MAAJ,CAAWyO,MAAM,CAAC/X,IAAP,CAAYqb,GAAZ,EAAiB,KAAjB,CAAX;EACA,OAAOC,GAAG,CAACE,MAAJ,GAAab,QAAb,CAAsB,KAAtB,CAAP;AACD,CAJD;AAMA,IAAMb,cAAc,GAAG,SAAjBA,cAAiBA,CAAAH,EAAE,EAAI;EAC3B8B,eAAe,CAAC9B,EAAD,CAAf;EAEA,OAAO,CACLqB,YAAY,CAACrB,EAAE,CAACnB,OAAJ,CADP,EAELmB,EAAE,CAACjX,SAAH,CAAayL,GAAb,CAAiB2M,gBAAjB,CAFK,EAGLD,WAAW,CAAClB,EAAE,CAACzB,QAAJ,CAHN,EAILyB,EAAE,CAAC+B,YAJE,EAKLd,aAAa,CAAC5Q,UAAU,CAAC2P,EAAE,CAACgC,WAAH,CAAerP,OAAhB,CAAX,CALR,EAMLqN,EAAE,CAACgC,WAAH,CAAexZ,KANV,EAOLwX,EAAE,CAACgC,WAAH,CAAeC,WAPV,EAQLhB,aAAa,CAAC5Q,UAAU,CAAC2P,EAAE,CAAC7U,KAAJ,CAAX,CARR,EASL6U,EAAE,CAACkC,WAAH,CAAe1N,GAAf,CAAmB,UAAA2N,UAAU;IAAA,OAAIlB,aAAa,CAAC5Q,UAAU,CAAC8R,UAAD,CAAX,CAAjB;EAAA,CAA7B,CATK,CAAP;AAWD,CAdD;AAgBA,IAAM9B,eAAe,GAAG,SAAlBA,eAAkBA,CAAAL,EAAE,EAAI;EAC5BoC,gBAAgB,CAACpC,EAAD,CAAhB;EAEA,OAAO,CAACG,cAAc,CAACH,EAAD,CAAf,EAAqBqC,wBAAwB,CAACrC,EAAD,CAA7C,CAAP;AACD,CAJD;AAMA,IAAMqC,wBAAwB,GAAG,SAA3BA,wBAA2BA,CAAArC,EAAE,EAAI;EACrC,IAAMsC,OAAO,GAAGC,cAAc,CAACvC,EAAD,CAA9B;EAEA,OAAOA,EAAE,CAACwC,WAAH,CACJhO,GADI,CACA,UAAAiO,GAAG,EAAI;IACV,OAAO;MACLC,WAAW,EAAEJ,OAAO,CAAC/S,GAAR,CAAYkT,GAAG,CAAC9P,OAAhB,CADR;MAELnK,KAAK,EAAEia,GAAG,CAACja,KAFN;MAGLia,GAAG,EAAEA,GAAG,CAACA;KAHX;EAKD,CAPI,EAQJE,IARI,CAQC,UAACC,CAAD,EAAIC,CAAJ,EAAU;IACd,IAAID,CAAC,CAACF,WAAF,GAAgBG,CAAC,CAACH,WAAtB,EAAmC,OAAO,CAAP;IACnC,IAAIE,CAAC,CAACF,WAAF,GAAgBG,CAAC,CAACH,WAAtB,EAAmC,OAAO,CAAC,CAAR;IAEnC,IAAIE,CAAC,CAACpa,KAAF,GAAUqa,CAAC,CAACra,KAAhB,EAAuB,OAAO,CAAP;IACvB,IAAIoa,CAAC,CAACpa,KAAF,GAAUqa,CAAC,CAACra,KAAhB,EAAuB,OAAO,CAAC,CAAR;EACxB,CAdI,CAeJ,CAAAgM,GAfI,CAeA,UAAAiO,GAAG,EAAI;IACV,OAAO,CAACA,GAAG,CAACC,WAAL,EAAkBD,GAAG,CAACja,KAAtB,EAA6B+Y,eAAe,CAACkB,GAAG,CAACA,GAAL,CAA5C,CAAP;EACD,CAjBI,CAAP;AAkBD,CArBD;AAuBA,IAAMF,cAAc,GAAG,SAAjBA,cAAiBA,CAAAvC,EAAE,EAAI;EAC3B,IAAMsC,OAAO,GAAG,IAAIQ,GAAJ,EAAhB;EACA,IAAIjS,CAAC,GAAG,CAAR;EAEA,IAAMkS,SAAS,GAAG,SAAZA,SAAYA,CAAA3S,IAAI,EAAI;IACxB,IAAI,CAACkS,OAAO,CAACvU,GAAR,CAAYqC,IAAZ,CAAL,EAAwB;MACtBkS,OAAO,CAACU,GAAR,CAAY5S,IAAZ,EAAkBS,CAAlB;MACAA,CAAC;IACF;GAJH;EAOAkS,SAAS,CAAC/C,EAAE,CAACgC,WAAH,CAAerP,OAAhB,CAAT;EACAoQ,SAAS,CAAC/C,EAAE,CAAC7U,KAAJ,CAAT;EACA6U,EAAE,CAACkC,WAAH,CAAee,OAAf,CAAuBF,SAAvB;EAEA,OAAOT,OAAP;AACD,CAhBD;AAkBA,IAAM7B,cAAc,GAAG,SAAjBA,cAAiBA,CAAAF,OAAO,EAAI;EAChC2C,eAAe,CAAC3C,OAAD,CAAf;EAEA,IAAM+B,OAAO,GAAGC,cAAc,CAAChC,OAAD,CAA9B;EAEA,IAAM4C,WAAW,GAAG,SAAdA,WAAcA,CAAAC,IAAI,EAAI;IAC1B,OAAOA,IAAI,CACR5O,GADI,CACA,UAA2B/K,IAAA;MAAA,IAAzBkJ,OAAyB,GAAAlJ,IAAA,CAAzBkJ,OAAyB;QAAhBnK,KAAgB,GAAAiB,IAAA,CAAhBjB,KAAgB;QAATia,GAAS,GAAAhZ,IAAA,CAATgZ,GAAS;MAC9B,OAAO;QAACC,WAAW,EAAEJ,OAAO,CAAC/S,GAAR,CAAYoD,OAAZ,CAAd;QAAoCnK,KAAK,EAALA,KAApC;QAA2Cia,GAAG,EAAHA;OAAlD;IACD,CAHI,EAIJE,IAJI,CAIC,UAACC,CAAD,EAAIC,CAAJ,EAAU;MACd,IAAID,CAAC,CAACF,WAAF,GAAgBG,CAAC,CAACH,WAAtB,EAAmC,OAAO,CAAP;MACnC,IAAIE,CAAC,CAACF,WAAF,GAAgBG,CAAC,CAACH,WAAtB,EAAmC,OAAO,CAAC,CAAR;MACnC,IAAIE,CAAC,CAACpa,KAAF,GAAUqa,CAAC,CAACra,KAAhB,EAAuB,OAAO,CAAP;MACvB,IAAIoa,CAAC,CAACpa,KAAF,GAAUqa,CAAC,CAACra,KAAhB,EAAuB,OAAO,CAAC,CAAR;IACxB,CATI,CAUJ,CAAAgM,GAVI,CAUA,UAAAiO,GAAG,EAAI;MACV,OAAO,CAACA,GAAG,CAACC,WAAL,EAAkBD,GAAG,CAACja,KAAtB,EAA6B+Y,eAAe,CAACkB,GAAG,CAACA,GAAL,CAA5C,CAAP;IACD,CAZI,CAAP;GADF;EAgBA,OAAO,CACL,CACEpB,YAAY,CAACd,OAAO,CAAC1B,OAAT,CADd,EAEE0B,OAAO,CAACxX,SAAR,CAAkByL,GAAlB,CAAsB2M,gBAAtB,CAFF,EAGED,WAAW,CAACX,OAAO,CAAChC,QAAT,CAHb,EAIEgC,OAAO,CAACwB,YAJV,EAKEd,aAAa,CAAC5Q,UAAU,CAACkQ,OAAO,CAACyB,WAAR,CAAoBrP,OAArB,CAAX,CALf,EAME4N,OAAO,CAACyB,WAAR,CAAoBxZ,KANtB,EAOE+X,OAAO,CAACyB,WAAR,CAAoBC,WAPtB,EAQEhB,aAAa,CAAC5Q,UAAU,CAACkQ,OAAO,CAACpV,KAAT,CAAX,CARf,EASEoV,OAAO,CAAC2B,WAAR,CAAoB1N,GAApB,CAAwB,UAAA2N,UAAU;IAAA,OAChClB,aAAa,CAAC5Q,UAAU,CAAC8R,UAAD,CAAX,CADmB;EAAA,CAAlC,CATF,CADK,EAcLgB,WAAW,CAAC5C,OAAO,CAACiC,WAAT,CAdN,EAeLW,WAAW,CAAC5C,OAAO,CAAC8C,YAAT,CAfN,CAAP;AAiBD,CAtCD;AAwCA,IAAMvB,eAAe,GAAG,SAAlBA,eAAkBA,CAAA9B,EAAE,EAAI;EAC5BsD,aAAa,CAACL,OAAd,CAAsB,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACxD,EAAD,EAAKuD,KAAL,CAAd;GAA3B;EACAE,iBAAiB,CAACR,OAAlB,CAA0B,UAAAM,KAAK;IAAA,OAC7BC,UAAU,CAACxD,EAAE,CAACgC,WAAJ,EAAiBuB,KAAjB,EAAwB,aAAxB,CADmB;GAA/B;AAGD,CALD;AAOA,IAAMnB,gBAAgB,GAAG,SAAnBA,gBAAmBA,CAAApC,EAAE,EAAI;EAC7B0D,iBAAiB,CAACT,OAAlB,CAA0B,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACxD,EAAD,EAAKuD,KAAL,CAAd;GAA/B;EACAvD,EAAE,CAACwC,WAAH,CAAeS,OAAf,CAAuB,UAACR,GAAD,EAAMkB,KAAN,EAAgB;IACrCC,gBAAgB,CAACX,OAAjB,CAAyB,UAAAM,KAAK;MAAA,OAC5BC,UAAU,CAACf,GAAD,EAAMc,KAAN,EAAa,aAAb,EAA4BI,KAA5B,CADkB;KAA9B;GADF;AAKD,CAPD;AASA,IAAMT,eAAe,GAAG,SAAlBA,eAAkBA,CAAA3C,OAAO,EAAI;EACjC+C,aAAa,CAACL,OAAd,CAAsB,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACjD,OAAD,EAAUgD,KAAV,CAAd;GAA3B;EACAE,iBAAiB,CAACR,OAAlB,CAA0B,UAAAM,KAAK;IAAA,OAC7BC,UAAU,CAACjD,OAAO,CAACyB,WAAT,EAAsBuB,KAAtB,EAA6B,aAA7B,CADmB;GAA/B;EAGAG,iBAAiB,CAACT,OAAlB,CAA0B,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACjD,OAAD,EAAUgD,KAAV,CAAd;GAA/B;EACAhD,OAAO,CAACiC,WAAR,CAAoBS,OAApB,CAA4B,UAACR,GAAD,EAAMkB,KAAN,EAAgB;IAC1CC,gBAAgB,CAACX,OAAjB,CAAyB,UAAAM,KAAK;MAAA,OAC5BC,UAAU,CAACf,GAAD,EAAMc,KAAN,EAAa,aAAb,EAA4BI,KAA5B,CADkB;KAA9B;GADF;EAKAE,kBAAkB,CAACZ,OAAnB,CAA2B,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACjD,OAAD,EAAUgD,KAAV,CAAd;GAAhC;EACAhD,OAAO,CAAC8C,YAAR,CAAqBJ,OAArB,CAA6B,UAACR,GAAD,EAAMkB,KAAN,EAAgB;IAC3CG,iBAAiB,CAACb,OAAlB,CAA0B,UAAAM,KAAK;MAAA,OAC7BC,UAAU,CAACf,GAAD,EAAMc,KAAN,EAAa,cAAb,EAA6BI,KAA7B,CADmB;KAA/B;GADF;AAKD,CAjBD;AAmBA,IAAMnd,QAAQ,GAAG,SAAXA,QAAWA,CAAA8I,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,QAAjB;AAAA,CAAlB;AACA,IAAMoP,QAAQ,GAAG,SAAXA,QAAWA,CAAApP,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,QAAjB;AAAA,CAAlB;AACA,IAAMyU,QAAQ,GAAG,SAAXA,QAAWA,CAAAzU,CAAC;EAAA,OAAIA,CAAC,KAAK,IAAN,IAAczI,OAAO,CAAAyI,CAAP,MAAa,QAA/B;AAAA,CAAlB;AACA,IAAM3I,OAAO,GAAG,SAAVA,OAAUA,CAAA2I,CAAC;EAAA,OAAIyU,QAAQ,CAACzU,CAAD,CAAR,IAAeA,CAAC,YAAYlJ,KAAhC;AAAA,CAAjB;AAEA,IAAMkd,aAAa,GAAG,CACpB;EAACtM,IAAI,EAAE,SAAP;EAAkBgN,KAAK,EAAEtF;AAAzB,CADoB,EAEpB;EAAC1H,IAAI,EAAE,WAAP;EAAoBgN,KAAK,EAAErd;AAA3B,CAFoB,EAGpB;EAACqQ,IAAI,EAAE,UAAP;EAAmBgN,KAAK,EAAEtF,QAA1B;EAAoCuF,UAAU,EAAE;AAAhD,CAHoB,EAIpB;EAACjN,IAAI,EAAE,cAAP;EAAuBgN,KAAK,EAAExd;AAA9B,CAJoB,EAKpB;EAACwQ,IAAI,EAAE,aAAP;EAAsBgN,KAAK,EAAED;AAA7B,CALoB,EAMpB;EAAC/M,IAAI,EAAE,OAAP;EAAgBgN,KAAK,EAAEtF;AAAvB,CANoB,EAOpB;EAAC1H,IAAI,EAAE,aAAP;EAAsBgN,KAAK,EAAErd;AAA7B,CAPoB,CAAtB;AAUA,IAAM8c,iBAAiB,GAAG,CACxB;EAACzM,IAAI,EAAE,SAAP;EAAkBgN,KAAK,EAAEtF;AAAzB,CADwB,EAExB;EAAC1H,IAAI,EAAE,OAAP;EAAgBgN,KAAK,EAAExd;AAAvB,CAFwB,EAGxB;EAACwQ,IAAI,EAAE,aAAP;EAAsBgN,KAAK,EAAExd;AAA7B,CAHwB,CAA1B;AAMA,IAAMkd,iBAAiB,GAAG,CAAC;EAAC1M,IAAI,EAAE,aAAP;EAAsBgN,KAAK,EAAErd;AAA7B,CAAD,CAA1B;AAEA,IAAMid,gBAAgB,GAAG,CACvB;EAAC5M,IAAI,EAAE,SAAP;EAAkBgN,KAAK,EAAEtF;AAAzB,CADuB,EAEvB;EAAC1H,IAAI,EAAE,OAAP;EAAgBgN,KAAK,EAAExd;AAAvB,CAFuB,EAGvB;EAACwQ,IAAI,EAAE,KAAP;EAAcgN,KAAK,EAAEtF;AAArB,CAHuB,CAAzB;AAMA,IAAMmF,kBAAkB,GAAG,CAAC;EAAC7M,IAAI,EAAE,cAAP;EAAuBgN,KAAK,EAAErd;AAA9B,CAAD,CAA3B;AAEA,IAAMmd,iBAAiB,GAAG,CACxB;EAAC9M,IAAI,EAAE,SAAP;EAAkBgN,KAAK,EAAEtF;AAAzB,CADwB,EAExB;EAAC1H,IAAI,EAAE,OAAP;EAAgBgN,KAAK,EAAExd;AAAvB,CAFwB,EAGxB;EAACwQ,IAAI,EAAE,KAAP;EAAcgN,KAAK,EAAEtF;AAArB,CAHwB,CAA1B;AAMA,IAAM8E,UAAU,GAAG,SAAbA,UAAaA,CAACU,GAAD,EAAMX,KAAN,EAAaY,IAAb,EAAmBR,KAAnB,EAA6B;EAC9C,IAAO3M,IAAP,GAAkCuM,KAAlC,CAAOvM,IAAP;IAAagN,KAAb,GAAkCT,KAAlC,CAAaS,KAAb;IAAoBC,UAApB,GAAkCV,KAAlC,CAAoBU,UAApB;EACA,IAAIC,GAAG,CAAClN,IAAD,CAAH,IAAa,IAAb,IAAqBiN,UAAU,IAAI,IAAvC,EAA6CC,GAAG,CAAClN,IAAD,CAAH,GAAYiN,UAAZ;EAC7C,IAAIC,GAAG,CAAClN,IAAD,CAAH,IAAa,IAAjB,EAAuB,MAAMoN,iBAAiB,CAACpN,IAAD,EAAOmN,IAAP,EAAaR,KAAb,CAAvB;EACvB,IAAI,CAACK,KAAK,CAACE,GAAG,CAAClN,IAAD,CAAJ,CAAV,EAAuB,MAAMqN,iBAAiB,CAACrN,IAAD,EAAOmN,IAAP,EAAaR,KAAb,CAAvB;AACxB,CALD;AAOA,IAAMW,cAAc,GAAG,SAAjBA,cAAiBA,CAACf,KAAD,EAAQY,IAAR,EAAcR,KAAd,EAAwB;EAC7C,IAAI,CAAC,CAACQ,IAAN,EACE,OAAOR,KAAK,IAAI,IAAT,MAAAxe,MAAA,CAAmBgf,IAAnB,OAAAhf,MAAA,CAA2Boe,KAA3B,CAAwC,MAAApe,MAAA,CAAAgf,IAAxC,OAAAhf,MAAA,CAAgDwe,KAAhD,OAAAxe,MAAA,CAAyDoe,KAAzD,CAAP;EACF,OAAOA,KAAP;AACD,CAJD;AAMA,IAAMa,iBAAiB,GAAG,SAApBA,iBAAoBA,CAACb,KAAD,EAAQY,IAAR,EAAcR,KAAd;EAAA,OACxB,IAAI3V,KAAJ,kBAAA7I,MAAA,CAA2Bmf,cAAc,CAACf,KAAD,EAAQY,IAAR,EAAcR,KAAd,CAAzC,CADwB;AAAA,CAA1B;AAEA,IAAMU,iBAAiB,GAAG,SAApBA,iBAAoBA,CAACd,KAAD,EAAQY,IAAR,EAAcR,KAAd;EAAA,OACxB,IAAI3V,KAAJ,kBAAA7I,MAAA,CAA2Bmf,cAAc,CAACf,KAAD,EAAQY,IAAR,EAAcR,KAAd,CAAzC,CADwB;AAAA,CAA1B;ACrOO,SAASY,iBAATA,CAA2Brd,EAA3B,EAA+B;EACpC;EACA,IAAIsd,MAAM,GAAG,IAAIjf,GAAJ,CAAQ2B,EAAE,CAAC+D,cAAX,CAAb;EACAuZ,MAAM,CAACC,GAAP,CAAWvd,EAAE,CAACwd,QAAd;EACA,IAAIte,KAAK,CAACO,OAAN,CAAcO,EAAE,CAACiE,KAAjB,CAAJ,EAA6B;IAC3BjE,EAAE,CAACiE,KAAH,CAAS8X,OAAT,CAAiB,UAAA0B,CAAC;MAAA,OAAIH,MAAM,UAAN,CAAcG,CAAd,CAAJ;KAAlB;EACD,CAFD,MAEO;IACLH,MAAM,CAAN,UAActd,EAAE,CAACiE,KAAjB;EACD;EACD,OAAO/E,KAAK,CAACC,IAAN,CAAWme,MAAX,CAAP;AACD;AAEM,SAASI,kBAATA,CAA4B1d,EAA5B,EAAgC;EACrC;EACA,IAAI2d,OAAO,GAAG,IAAItf,GAAJ,CAAQa,KAAK,CAACO,OAAN,CAAcO,EAAE,CAACiE,KAAjB,CAA0B,GAAAjE,EAAE,CAACiE,KAA7B,GAAqC,CAACjE,EAAE,CAACiE,KAAJ,CAA7C,CAAd;EACA,OAAO/E,KAAK,CAACC,IAAN,CAAWwe,OAAX,CAAP;AACD;IAEYC,qBAAqB,GAAG,SAAxBA,qBAAwBA,CAAA5d,EAAE,EAAI;EACzC,IAAM6d,gBAAgB,GAAG,SAAnBA,gBAAmBA,CAAA,EAAM;IAC7B,IAAM9Z,cAAc,GAAG/D,EAAE,CAAC+D,cAAH,CACpBuJ,GADoB,CAChB,UAAAwQ,GAAG;MAAA,OAAIC,UAAU,CAAC/d,EAAE,CAAC6D,QAAH,CAAYia,GAAZ,CAAiB,CAAA5U,IAAlB,CAAd;IAAA,CADa,EAEpB5G,MAFoB,CAEb,UAACU,IAAD,EAAOgb,OAAP,EAAmB;MACzB,OAAOhb,IAAI,CAAC4P,IAAL,CAAU,UAAAqL,IAAI;QAAA,OAAIA,IAAI,KAAKD,OAAb;MAAA,CAAd,IAAsChb,IAAtC,MAAA/E,MAAA,CAAA2P,kBAAA,CAAiD5K,IAAjD,IAAuDgb,OAAvD,CAAP;KAHmB,EAIlB,EAJkB,CAAvB;IAKA,OAAOja,cAAc,CAAC,CAAD,CAAd,GAAoBA,cAApB,GAAqC,EAA5C;GANF;EASA,IAAMma,kBAAkB,GAAG,SAArBA,kBAAqBA,CAAA;IAAA,OACzBb,iBAAiB,CAACrd,EAAD,CAAjB,CAAsBsN,GAAtB,CAA0B,UAAA2C,EAAE;MAAA,OAAK;QAC/BxE,OAAO,EAAEsS,UAAU,CAAC/d,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CAAgB,CAAA/G,IAAjB,CADY;QAE/B5H,KAAK,EAAEtB,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,EAAgB3O,KAFQ;QAG/Bia,GAAG,EAAEvb,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CAAgB,CAAAqK;OAHK;IAAA,CAA5B,CADyB;GAA3B;EAOA,IAAM6D,mBAAmB,GAAG,SAAtBA,mBAAsBA,CAAA;IAAA,OAC1BT,kBAAkB,CAAC1d,EAAD,CAAlB,CAAuBsN,GAAvB,CAA2B,UAAA2C,EAAE;MAAA,OAAK;QAChCxE,OAAO,EAAEsS,UAAU,CAAC/d,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CAAgB,CAAA/G,IAAjB,CADa;QAEhC5H,KAAK,EAAEtB,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,EAAgB3O,KAFS;QAGhCia,GAAG,EAAEvb,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CAAgB,CAAAqK;OAHM;IAAA,CAA7B,CAD0B;GAA5B;EAOA,OAAO;IACL3C,OAAO,EAAE3X,EAAE,CAACoE,OAAH,CAAWuT,OADf;IAELN,QAAQ,EAAErX,EAAE,CAACoE,OAAH,CAAWiT,QAAX,IAAuB,IAF5B;IAGLwD,YAAY,EAAE7a,EAAE,CAACoE,OAAH,CAAWyW,YAHpB;IAILhZ,SAAS,EAAE7B,EAAE,CAACoE,OAAH,CAAWvC,SAAX,CAAqByL,GAArB,CAAyB,UAAA2C,EAAE;MAAA,OAAIjQ,EAAE,CAAC6B,SAAH,CAAaoO,EAAb,EAAiB5L,UAArB;IAAA,CAA3B,CAJN;IAKLyW,WAAW,EAAE;MACXrP,OAAO,EAAEsS,UAAU,CAAC/d,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,CAAyB,CAAAtU,IAA1B,CADR;MAEX5H,KAAK,EAAEtB,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,EAAyBlc,KAFrB;MAGXyZ,WAAW,EAAE/a,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,CAAyB,CAAAzC;KARnC;IAUL9W,KAAK,EAAE8Z,UAAU,CACf/d,EAAE,CAAC6D,QAAH,CAAY3E,KAAK,CAACO,OAAN,CAAcO,EAAE,CAACiE,KAAjB,IAA0BjE,EAAE,CAACiE,KAAH,CAAS,CAAT,CAA1B,GAAwCjE,EAAE,CAACiE,KAAvD,CAA8D,CAAAiF,IAD/C,CAVZ;IAaL8R,WAAW,EAAE6C,gBAAgB,EAbxB;IAcLvC,WAAW,EAAE4C,kBAAkB,EAd1B;IAeL/B,YAAY,EAAEgC,mBAAmB;GAfnC;AAiBD;IAEYC,aAAa,GAAG,SAAhBA,aAAgBA,CAAA/E,OAAO,EAAI;EACtC,OAAOD,qBAAqB,CAACC,OAAD,CAA5B;AACD;AC5DD,IAAMgF,MAAI,GAAG,SAAPC,IAAOA,CAAAjd,IAAI;EAAA,OAAO,GAAApD,MAAA,CAAA8f,UAAU,CAAC1c,IAAI,CAAC6H,IAAN,CAAjB,OAAAjL,MAAA,CAAgCoD,IAAI,CAACC,KAArC;AAAA,CAAjB;AACA,IAAMxB,IAAI,GAAG,SAAPA,IAAOA,CAAAsI,CAAC;EAAA,OAAI,OAAOA,CAAP,KAAa,UAAjB;AAAA,CAAd;AAEO,SAASmW,gBAATA,CAA0Bld,IAA1B,EAAgCrB,EAAhC,EAAoC;EACzC,IAAI;IACF,OAAO;MACLwe,MAAM,EAAE,aADH;MAELC,KAAK,EAAE,OAFF;MAGLC,KAAK,EAAErd,IAAI,CAACU,IAHP;MAIL4V,OAAO,EAAE3X,EAAE,CAACoE,OAAH,CAAWuT,OAJf;MAKL7P,IAAI,EAAE9H,EAAE,CAACoE,OAAH,CAAWvC,SAAX,CAAqByL,GAArB,CAAyB,UAAA/N,CAAC;QAAA,OAAIS,EAAE,CAAC6B,SAAH,CAAatC,CAAb,EAAgB8E,UAApB;MAAA,CAA1B,CALD;MAMLmR,IAAI,EAAE,EAND;MAOL9W,WAAW,EAAEsB,EAPR;MAQLqZ,OAAO,EAAEuE,qBAAqB,CAAC5d,EAAD;KARhC;GADF,CAWE,OAAO2e,KAAP,EAAc;IACdC,OAAO,CAACD,KAAR,CAAc,kBAAd,EAAkCA,KAAlC;IACA,MAAMA,KAAN;EACD;AACF;SAEcE,gBAAAlb,EAAA,EAAAC,GAAA,EAAA+D,GAAA;;;;EAAfmX,gBAAA,GAAAtc,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAA+B3C,EAA/B,EAAmC6D,QAAnC,EAA6Ckb,IAA7C;IAAA,IAAAzG,KAAA;MAAAvU,cAAA;MAAA9D,SAAA;MAAAE,KAAA;MAAA6e,KAAA;MAAAC,GAAA;MAAA3X,MAAA,GAAAzF,SAAA;IAAA,OAAAY,mBAAA,CAAAI,IAAA,UAAAC,SAAA0E,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAmDqV,KAAnD,GAAAhR,MAAA,CAAAtI,MAAA,QAAAsI,MAAA,QAAAxF,SAAA,GAAAwF,MAAA,MAA2D,CAA3D;YACE/F,WAAS,CAAC+W,KAAD,EAAQ,0CAAR,EAAoD;cAACtY,EAAE,EAAFA,EAAD;cAAK6D,QAAQ,EAARA;YAAL,CAApD,CAAT;YAEIE,cAHN,GAGuB,EAHvB;YAAA9D,SAAA,GAAAC,0BAAA,CAIiB2D,QAJjB;YAAA2D,SAAA,CAAAxE,IAAA;YAAAgc,KAAA,gBAAAvc,mBAAA,CAAAC,IAAA,UAAAsc,MAAA;cAAA,IAAAE,EAAA,EAAAhd,OAAA,EAAAid,OAAA,EAAAC,UAAA,EAAAC,UAAA;cAAA,OAAA5c,mBAAA,CAAAI,IAAA,UAAAyc,OAAAvc,QAAA;gBAAA;kBAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;oBAAA;sBAIWic,EAJX,GAAA/e,KAAA,CAAAK,KAAA;sBAKQ0B,OALR,GAKkBgd,EAAE,CAAChd,OALrB;sBAMIgd,EAAE,CAAChd,OAAH,GAAa,IAAb;sBACI+c,GAAG,GAAGF,IAAI,IAAIG,EAPtB;sBAAA,IAQQ,CAAApf,IAAI,CAACoC,OAAD,CARZ;wBAAAa,QAAA,CAAAE,IAAA;wBAAA;sBAAA;sBAAAF,QAAA,CAAAE,IAAA;sBAAA,OAQkCf,OAAO,CAACgd,EAAD,EAAKX,gBAAgB,CAACW,EAAD,EAAKlf,EAAL,CAArB,CARzC;oBAAA;sBAQuBkf,EARvB,GAAAnc,QAAA,CAAAM,IAAA;oBAAA;sBAAA,KAUQnE,KAAK,CAACO,OAAN,CAAcyf,EAAd,CAVR;wBAAAnc,QAAA,CAAAE,IAAA;wBAAA;sBAAA;sBAAAF,QAAA,CAAAE,IAAA;sBAAA,OAWY4b,eAAe,CAAC7e,EAAD,EAAKkf,EAAL,EAASD,GAAT,EAAc3G,KAAK,GAAG,CAAtB,CAX3B;oBAAA;sBAAAvV,QAAA,CAAAE,IAAA;sBAAA;oBAAA;sBAaM,IAAIic,EAAE,CAAChW,IAAP,EAAa;wBACXgW,EAAE,CAAChW,IAAH,GAAUC,UAAU,CAAC+V,EAAE,CAAChW,IAAJ,CAApB;sBACD;sBACD,IAAIgW,EAAE,CAAChW,IAAH,IAAW,IAAX,IAAmBgW,EAAE,CAAC5d,KAAH,IAAY,IAAnC,EAAyC;wBACvC4d,EAAE,CAACld,MAAH,GAAYqc,MAAI,CAACa,EAAD,CAAhB;sBACD;sBACDlf,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,IAAyBhC,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,KAA0Bkd,EAAnD;sBACAlf,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4Byb,QAA5B,GACExd,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4Byb,QAA5B,IAAwC0B,EAAE,CAACnd,IAAH,CAAQyb,QADlD;sBAEAxd,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4BkC,KAA5B,GACEjE,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4BkC,KAA5B,IAAqCib,EAAE,CAACnd,IAAH,CAAQkC,KAD/C;sBAEAjE,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4BkZ,UAA5B,GACEjb,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4BkZ,UAA5B,IAA0CiE,EAAE,CAACnd,IAAH,CAAQkZ,UADpD;sBAGA,IAAIjb,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,CAAuB,CAAAD,IAAvB,CAA4Byb,QAA5B,IAAwCxd,EAAE,CAACwd,QAAH,KAAgByB,GAAG,CAACjd,MAAhE,EAAwE;wBACtEhC,EAAE,CAACwd,QAAH,GAAc0B,EAAE,CAACld,MAAjB;sBACD;sBA7BP,IA+BU,CAAAhC,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,EAAuBD,IAAvB,CAA4BkC,KA/BtC;wBAAAlB,QAAA,CAAAE,IAAA;wBAAA;sBAAA;sBAgCQ,IAAI/D,KAAK,CAACO,OAAN,CAAcO,EAAE,CAACiE,KAAjB,CAAJ,EAA6B;wBAC3BjE,EAAE,CAACiE,KAAH,GAAW/E,KAAK,CAACC,IAAN,CACT,IAAId,GAAJ,CACE,GAAAJ,MAAA,CAAA2P,kBAAA,CAAI5N,EAAE,CAACiE,KAAP,IAAcib,EAAE,CAACld,MAAjB,CAAyB,EAAAsL,GAAzB,CAA6B,UAAA/N,CAAC;0BAAA,OAC5BA,CAAC,KAAK0f,GAAG,CAACjd,MAAV,GAAmBkd,EAAE,CAACld,MAAtB,GAA+BzC,CADH;yBAA9B,CADF,CADS,CAAX;sBAOD,CARD,MAQO;wBACLS,EAAE,CAACiE,KAAH,GAAW/E,KAAK,CAACC,IAAN,CACT,IAAId,GAAJ,CACE,CAAC2B,EAAE,CAACiE,KAAJ,EAAWib,EAAE,CAACld,MAAd,CAAsB,CAAAsL,GAAtB,CAA0B,UAAA/N,CAAC;0BAAA,OAAKA,CAAC,KAAK0f,GAAG,CAACjd,MAAV,GAAmBkd,EAAE,CAACld,MAAtB,GAA+BzC,CAApC;yBAA3B,CADF,CADS,CAAX;sBAKD;sBA9CT,MA+CYS,EAAE,CAACiE,KAAH,CAASjF,MAAT,GAAkB,CA/C9B;wBAAA+D,QAAA,CAAAE,IAAA;wBAAA;sBAAA;;sBAgDU;sBACMkc,OAjDhB,GAiD0B,EAjD1B;sBAkDgBC,UAlDhB,GAkD6B,EAlD7B;sBAmDUpf,EAAE,CAACiE,KAAH,GAAWjE,EAAE,CAACiE,KAAH,CAAS3B,MAAT,CAAgB,UAACid,CAAD,EAAIvd,MAAJ,EAAe;wBACxC,IAAOkH,IAAP,GAAelJ,EAAE,CAAC6D,QAAH,CAAY7B,MAAZ,CAAf,CAAOkH,IAAP;wBACA,IAAM3I,GAAG,GAAG8d,MAAI,CAACre,EAAE,CAAC6D,QAAH,CAAY7B,MAAZ,CAAD,CAAhB;wBACAod,UAAU,CAACpb,IAAX,CAAgBkF,IAAhB;wBACA,IAAIiW,OAAO,CAACK,QAAR,CAAiBjf,GAAjB,CAAJ,EAA2B,OAAOgf,CAAP;wBAC3BJ,OAAO,CAACnb,IAAR,CAAazD,GAAb;wBACA,OAAW,GAAAtC,MAAA,CAAA2P,kBAAA,CAAA2R,CAAX,IAAcvd,MAAd;uBANS,EAOR,EAPQ,CAAX;sBAQMqd,UA3DhB,GA2D6BngB,KAAK,CAACC,IAAN,CAAW,IAAId,GAAJ,CAAQ+gB,UAAR,CAAX,CA3D7B;sBAAA,MA4DcC,UAAU,CAACrgB,MAAX,GAAoB,CA5DlC;wBAAA+D,QAAA,CAAAE,IAAA;wBAAA;sBAAA;sBAAA,MA6DkB,IAAI6D,KAAJ,CAAU,qCAAV,CA7DlB;oBAAA;sBAkEM,IAAI9G,EAAE,CAAC6D,QAAH,CAAYqb,EAAE,CAACld,MAAf,CAAuB,CAAAD,IAAvB,CAA4BkZ,UAAhC,EAA4C;wBAC1C,IAAI8D,IAAJ,EAAU;0BACR;0BACAhb,cAAc,GAAG7E,KAAK,CAACC,IAAN,CAAW,IAAId,GAAJ,CAAY,GAAAJ,MAAA,CAAA2P,kBAAA,CAAA7J,cAAZ,CAA4B,GAAAmb,EAAE,CAACld,MAA/B,GAAX,CAAjB;wBACD,CAHD,MAGO;0BACL;0BACAhC,EAAE,CAAC+D,cAAH,GAAoB/D,EAAE,CAAC+D,cAAH,CAAkBuJ,GAAlB,CAAsB,UAAA/N,CAAC;4BAAA,OACzCA,CAAC,KAAK0f,GAAG,CAACjd,MAAV,GAAmBkd,EAAE,CAACld,MAAtB,GAA+BzC,CADU;0BAAA,CAAvB,CAApB;wBAGD;sBACF;oBA5EP;sBA8EI,IAAI0f,GAAG,CAACjd,MAAJ,IAAckd,EAAE,CAACld,MAArB,EAA6B,OAAOhC,EAAE,CAAC6D,QAAH,CAAYob,GAAG,CAACjd,MAAhB,CAAP;oBA9EjC;oBAAA;sBAAA,OAAAe,QAAA,CAAAW,IAAA;kBAAA;gBAAA;cAAA,GAAAsb,KAAA;YAAA;YAAA/e,SAAA,CAAAG,CAAA;UAAA;YAAA,KAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA;cAAAkH,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAA,OAAAuE,SAAA,CAAAiY,aAAA,CAAAT,KAAA;UAAA;YAAAxX,SAAA,CAAAvE,IAAA;YAAA;UAAA;YAAAuE,SAAA,CAAAvE,IAAA;YAAA;UAAA;YAAAuE,SAAA,CAAAxE,IAAA;YAAAwE,SAAA,CAAArE,EAAA,GAAAqE,SAAA;YAAAvH,SAAA,CAAAU,CAAA,CAAA6G,SAAA,CAAArE,EAAA;UAAA;YAAAqE,SAAA,CAAAxE,IAAA;YAAA/C,SAAA,CAAAW,CAAA;YAAA,OAAA4G,SAAA,CAAAkY,MAAA;UAAA;YAiFE,IAAIX,IAAJ,EAAU;cACR;cACA/e,EAAE,CAAC+D,cAAH,GAAoB/D,EAAE,CAAC+D,cAAH,CACjBuJ,GADiB,CACb,UAAA/N,CAAC;gBAAA,OAAKA,CAAC,KAAKwf,IAAI,CAAC/c,MAAX,GAAoB+B,cAApB,GAAqCxE,CAA1C;cAAA,CADY,EAEjB+C,MAFiB,CAGhB,UAACU,IAAD,EAAO2c,IAAP;gBAAA,OACEzgB,KAAK,CAACO,OAAN,CAAckgB,IAAd,OAAA1hB,MAAA,CAAA2P,kBAAA,CAA0B5K,IAA1B,GAAA4K,kBAAA,CAAmC+R,IAAnC,QAAA1hB,MAAA,CAAA2P,kBAAA,CAA+C5K,IAA/C,IAAqD2c,IAArD,CADF;eAHgB,EAKhB,EALgB,CAApB;YAOD;UA1FH;UAAA;YAAA,OAAAnY,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;AA6FA,SAAsBid,eAAtBA,CAAAhW,GAAA;EAAA,OAAAiW,gBAAA,CAAArc,KAAA,OAAA3B,SAAA;AAAA;;EAAOge,gBAAA,GAAArd,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAuE,SAA+BjH,EAA/B;IAAA,OAAAyC,mBAAA,CAAAI,IAAA,UAAA0E,UAAA0C,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAjH,IAAA,GAAAiH,SAAA,CAAAhH,IAAA;UAAA;YAAA,IACD,CAAAsC,aAAa,CAACvF,EAAD,CADZ;cAAAiK,SAAA,CAAAhH,IAAA;cAAA;YAAA;YAEH,IAAI,CAAC/D,KAAK,CAACO,OAAN,CAAcO,EAAE,CAACiE,KAAjB,CAAL,EAA8B;cAC5BoF,GAAG,CAACC,SAAJ,CAAc;gBACZC,GAAG,EAAE,KADO;gBAEZC,OAAO,EACL,iEAHU;gBAIZpF,OAAO,EAAE;eAJX;YAMD;YATE6F,SAAA,CAAAjH,IAAA;YAAAiH,SAAA,CAAAhH,IAAA;YAAA,OAWK4b,eAAe,CAAC7e,EAAD,EAAK1B,MAAM,CAACwhB,MAAP,CAAc9f,EAAE,CAAC6D,QAAjB,CAAL,CAXpB;UAAA;YAAAoG,SAAA,CAAAhH,IAAA;YAAA,OAYK4b,eAAe,CAAC7e,EAAD,EAAK1B,MAAM,CAACwhB,MAAP,CAAc9f,EAAE,CAAC6D,QAAjB,CAAL,CAZpB;UAAA;YAAAoG,SAAA,CAAAhH,IAAA;YAAA;UAAA;YAAAgH,SAAA,CAAAjH,IAAA;YAAAiH,SAAA,CAAA/G,EAAA,GAAA+G,SAAA;YAcD2U,OAAO,CAACD,KAAR,CAAc,uBAAd,EAAA1U,SAAA,CAAA/G,EAAA,EAA8C,uBAA9C;YAdC,MAAA+G,SAAA,CAAA/G,EAAA;UAAA;YAAA,OAAA+G,SAAA,CAAA1G,MAAA,WAkBEvD,EAlBF;UAAA;UAAA;YAAA,OAAAiK,SAAA,CAAAvG,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;;;;AC5GP,SAAsB8Y,iBAAtBA,CAAApc,EAAA;EAAA,OAAAqc,kBAAA,CAAAxc,KAAA,OAAA3B,SAAA;AAAA;;EAAOme,kBAAA,GAAAxd,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAuE,SAAiCjH,EAAjC;IAAA,IAAAigB,aAAA,EAAAC,aAAA,EAAAC,cAAA,EAAAC,cAAA;IAAA,OAAA3d,mBAAA,CAAAI,IAAA,UAAA0E,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAA,IACD,CAAAsC,aAAa,CAACvF,EAAD,CADZ;cAAAwH,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAAuE,SAAA,CAAAxE,IAAA;YAGGid,aAHH,GAGmB5C,iBAAiB,CAACrd,EAAD,CAHpC;YAIKkgB,aAJL,GAIqBrH,wBAAmB,CAACwH,eAAe,CAACrgB,EAAD,CAAhB,CAJxC;YAAAwH,SAAA,CAAAvE,IAAA;YAAA,OAKKmK,OAAO,CAACC,GAAR,CAAY4S,aAAa,CAAC3S,GAAd,CAAkBgT,cAAc,CAACtgB,EAAD,EAAKkgB,aAAL,CAAhC,CAAZ,CALL;UAAA;YAOGC,cAPH,GAOoBzC,kBAAkB,CAAC1d,EAAD,CAPtC;YAQKogB,cARL,GAQsBlH,yBAAoB,CAAAxX,aAAA,CAAAA,aAAA,KACtC2e,eAAe,CAACrgB,EAAD,CADuB;cAEzCsb,WAAW,EAAE2E,aAAa,CAAC3S,GAAd,CAAkB,UAAA2C,EAAE;gBAAA,OAAK;kBACpCxE,OAAO,EAAEzL,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,EAAgB/G,IADW;kBAEpC5H,KAAK,EAAEtB,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,EAAgB3O,KAFa;kBAGpCia,GAAG,EAAEvb,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CAAgB,CAAAqK;iBAHU;eAApB;aAVd;YAAA9S,SAAA,CAAAvE,IAAA;YAAA,OAgBKmK,OAAO,CAACC,GAAR,CAAY8S,cAAc,CAAC7S,GAAf,CAAmBgT,cAAc,CAACtgB,EAAD,EAAKogB,cAAL,CAAjC,CAAZ,CAhBL;UAAA;YAAA5Y,SAAA,CAAAvE,IAAA;YAAA;UAAA;YAAAuE,SAAA,CAAAxE,IAAA;YAAAwE,SAAA,CAAAtE,EAAA,GAAAsE,SAAA;YAkBDoX,OAAO,CAACD,KAAR,CAAc,YAAd,EAAmCnX,SAAA,CAAAtE,EAAA;cAAClD,EAAE,EAAFA;aAApC;YAlBC,MAAAwH,SAAA,CAAAtE,EAAA;UAAA;YAAA,OAAAsE,SAAA,CAAAjE,MAAA,WAsBEvD,EAtBF;UAAA;UAAA;YAAA,OAAAwH,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;;;;AAyBP,SAASqZ,cAATA,CAAwBtgB,EAAxB,EAA4BsV,OAA5B,EAAqC;EACnC;IAAA,IAAAiL,oBAAA,GAAA/d,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAO,SAAAC,QAAmCsN,EAAnC;MAAA,IAAA5O,IAAA,EAAAmf,qBAAA,EAAAlG,SAAA;MAAA,OAAA7X,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA;UAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACC5B,IADD,GACQrB,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CADR;cAAA,MAED5O,IAAI,CAACiZ,SAAL,IAAkB,IAFjB;gBAAAvX,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAQ,MAAA;YAAA;cAAAR,QAAA,CAAAE,IAAA;cAAA,OAGqB5B,IAAI,CAACof,eAAL,CACxBC,aAAa,CAACrf,IAAD,EAAOiU,OAAP,EAAgBtV,EAAhB,CADW,CAHrB;YAAA;cAAAwgB,qBAAA,GAAAzd,QAAA,CAAAM,IAAA;cAGEiX,SAHF,GAAAkG,qBAAA,CAGElG,SAHF;cAMLta,EAAE,CAAC6D,QAAH,CAAYoM,EAAZ,CAAgB,CAAAqK,SAAhB,GAA4BA,SAA5B;YANK;YAAA;cAAA,OAAAvX,QAAA,CAAAW,IAAA;UAAA;QAAA;MAAA,GAAAf,OAAA;KAAP;IAAA,SAAsBge,mBAAtBA,CAAA/c,GAAA;MAAA,OAAA2c,oBAAA,CAAA/c,KAAA,OAAA3B,SAAA;IAAA;IAAA,OAAsB8e,mBAAtB;EAAA;AAQD;AAEM,SAASD,aAATA,CAAuBrf,IAAvB,EAA6B+C,OAA7B,EAAsCpE,EAAtC,EAA0C;EAC/C,IAAI;IACF,OAAO;MACLwe,MAAM,EAAE,UADH;MAELC,KAAK,EAAE,OAFF;MAGLra,OAAO,EAAPA,OAHK;MAIL8E,IAAI,EAAEC,UAAU,CAAC9H,IAAI,CAAC6H,IAAN,CAJX;MAKL5H,KAAK,EAAED,IAAI,CAACC,KALP;MAMLod,KAAK,EAAErd,IAAI,CAACU,IANP;MAOL4V,OAAO,EAAE3X,EAAE,CAACoE,OAAH,CAAWuT,OAPf;MAQL7P,IAAI,EAAE9H,EAAE,CAACoE,OAAH,CAAWvC,SAAX,CAAqByL,GAArB,CAAyB,UAAA/N,CAAC;QAAA,OAAIS,EAAE,CAAC6B,SAAH,CAAatC,CAAb,EAAgB8E,UAApB;MAAA,CAA1B,CARD;MASLmR,IAAI,EAAE,EATD;MAUL9W,WAAW,EAAEsB,EAVR;MAWLqZ,OAAO,EAAEuE,qBAAqB,CAAC5d,EAAD;KAXhC;GADF,CAcE,OAAO2e,KAAP,EAAc;IACdC,OAAO,CAACD,KAAR,CAAc,eAAd,EAA+BA,KAA/B;IACA,MAAMA,KAAN;EACD;AACF;AAED,SAAS0B,eAATA,CAAyBrgB,EAAzB,EAA6B;EAC3B,IAAM4gB,YAAY,GAAGzX,UAAU,CAC7B,CAACjK,KAAK,CAACO,OAAN,CAAcO,EAAE,CAACiE,KAAjB,CAA0B,GAAAjE,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACiE,KAAH,CAAS,CAAT,CAAZ,CAA1B,GAAqDjE,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACiE,KAAf,CAAtD,EACGiF,IAF0B,CAA/B;EAIA,OAAO;IACLyO,OAAO,EAAE3X,EAAE,CAACoE,OAAH,CAAWuT,OADf;IAELN,QAAQ,EAAErX,EAAE,CAACoE,OAAH,CAAWiT,QAAX,IAAuB,IAF5B;IAGLwD,YAAY,EAAE7a,EAAE,CAACoE,OAAH,CAAWyW,YAHpB;IAILhZ,SAAS,EAAE7B,EAAE,CAACoE,OAAH,CAAWvC,SAAX,CAAqByL,GAArB,CAAyB,UAAA2C,EAAE;MAAA,OAAIjQ,EAAE,CAAC6B,SAAH,CAAaoO,EAAb,EAAiB5L,UAArB;IAAA,CAA3B,CAJN;IAKLyW,WAAW,EAAE;MACXrP,OAAO,EAAEtC,UAAU,CAACnJ,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,CAAyB,CAAAtU,IAA1B,CADR;MAEX5H,KAAK,EAAEtB,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,EAAyBlc,KAFrB;MAGXyZ,WAAW,EAAE/a,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,CAAyB,CAAAzC;KARnC;IAUL9W,KAAK,EAAE2c,YAVF;IAWL5F,WAAW,EAAEhb,EAAE,CAAC+D,cAAH,CACVuJ,GADU,CACN,UAAAwQ,GAAG;MAAA,OAAI3U,UAAU,CAACnJ,EAAE,CAAC6D,QAAH,CAAYia,GAAZ,CAAiB,CAAA5U,IAAlB,CAAd;IAAA,CADG,EAEV5G,MAFU,CAEH,UAACU,IAAD,EAAOgb,OAAP,EAAmB;MACzB,OAAOhb,IAAI,CAAC4P,IAAL,CAAU,UAAAqL,IAAI;QAAA,OAAIA,IAAI,KAAKD,OAAb;MAAA,CAAd,IAAsChb,IAAtC,MAAA/E,MAAA,CAAA2P,kBAAA,CAAiD5K,IAAjD,IAAuDgb,OAAvD,CAAP;IACD,CAJU,EAIR,EAJQ;GAXf;AAiBD;ACzFD,SAAsB6C,iBAAtBA,CAAAld,EAAA;EAAA,OAAAmd,kBAAA,CAAAtd,KAAA,OAAA3B,SAAA;AAAA;;EAAOif,kBAAA,GAAAte,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAiC3C,EAAjC;IAAA,IAAA+gB,UAAA;IAAA,OAAAte,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACC8d,UADD,GACc1Y,GAAG,CAACrI,EAAD,EAAK,eAAL,EAAsB,EAAtB,CADjB;YAAA,OAEE+C,QAAA,CAAAQ,MAAA,WAAAqE,IAAI,CACT5H,EADS,EAET+gB,UAAU,CAACzT,GAAX,CAAe,UAAA0T,EAAE;cAAA,OAAI,UAAAhhB,EAAE;gBAAA,OAAIghB,EAAE,CAAChhB,EAAD,EAAK;kBAACa,EAAE,EAAFA,EAAD;kBAAKE,GAAG,EAAHA;gBAAL,CAAL,CAAN;eAAN;YAAA,CAAjB,CAFS,CAFN;UAAA;UAAA;YAAA,OAAAgC,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACAP,SAAsBse,yBAAtBA,CAAAtd,EAAA;EAAA,OAAAud,0BAAA,CAAA1d,KAAA,OAAA3B,SAAA;AAAA;;EAAOqf,0BAAA,GAAA1e,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAyC3C,EAAzC;IAAA,IAAA2G,EAAA,EAAAC,YAAA,EAAArG,GAAA;IAAA,OAAAkC,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACL,KAAgB0D,EAAA,MAAAC,YAAA,GAAAtI,MAAM,CAACC,IAAP,CAAYyB,EAAE,CAAC6D,QAAf,CAAhB,EAA0C8C,EAAA,GAAAC,YAAA,CAAA5H,MAAA,EAAA2H,EAAA;cAAjCpG,GAAiC,GAAAqG,YAAA,CAAAD,EAAA;cACxC3G,EAAE,CAAC6D,QAAH,CAAYtD,GAAZ,EAAiB2I,IAAjB,GAAwBC,UAAU,CAACnJ,EAAE,CAAC6D,QAAH,CAAYtD,GAAZ,EAAiB2I,IAAlB,CAAlC;YACD;YAHI,OAAAnG,QAAA,CAAAQ,MAAA,WAIEvD,EAJF;UAAA;UAAA;YAAA,OAAA+C,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACCP,SAAsBwe,uBAAtBA,CAAAxd,EAAA;EAAA,OAAAyd,wBAAA,CAAA5d,KAAA,OAAA3B,SAAA;AAAA;;EAAOuf,wBAAA,GAAA5e,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAuC3C,EAAvC;IAAA,IAAA4C,EAAA;IAAA,OAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACCL,EADD,GACMyF,GAAG,CAACrI,EAAD,EAAK,sBAAL,CADT;YAAA,IAED,CAAAH,MAAI,CAAC+C,EAAD,CAFH;cAAAG,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAGGL,EAAE,CAACgb,qBAAqB,CAAC5d,EAAD,CAAtB,CAHL;UAAA;YAAA,OAAA+C,QAAA,CAAAQ,MAAA,WAKEvD,EALF;UAAA;UAAA;YAAA,OAAA+C,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACCP,IAAM0e,qBAAqB,GAAG,GAA9B;AAEA,SAAsBC,mBAAtBA,CAAA3d,EAAA;EAAA,OAAA4d,oBAAA,CAAA/d,KAAA,OAAA3B,SAAA;AAAA;;EAAO0f,oBAAA,GAAA/e,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAmC3C,EAAnC;IAAA,OAAAyC,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,IACD,CAAAsC,aAAa,CAACvF,EAAD,CADZ;cAAA+C,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAG,EAAA,GAGDlD,EAAE,CAACoE,OAAH,CAAWyW,YAHV;YAAA,IAAA9X,QAAA,CAAAG,EAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAGiC8T,MAAM,CAAC1O,GAAP,CAAW,WAAX,CAHjC;UAAA;YAAAtF,QAAA,CAAAG,EAAA,GAAAH,QAAA,CAAAM,IAAA;UAAA;YAEHrD,EAAE,CAACoE,OAAH,CAAWyW,YAFR,GAAA9X,QAAA,CAAAG,EAAA;YAKH,IAAI,CAAClD,EAAE,CAACoE,OAAH,CAAWyW,YAAhB,EAA8B;cAC5B2G,MAAM,CAACnY,GAAP,CAAWC,SAAX,CAAqB;gBACnBC,GAAG,EAAE,SADc;gBAEnBC,OAAO,EACL,+DAHiB;gBAInBC,UAAU,EACR;eALJ;cAOAzJ,EAAE,CAACoE,OAAH,CAAWyW,YAAX,GAA0BwG,qBAA1B;YACD;UAdE;YAAA,OAAAte,QAAA,CAAAQ,MAAA,WAgBEvD,EAhBF;UAAA;UAAA;YAAA,OAAA+C,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACgBP,IAAM8e,IAAI,GAAG,SAAPA,IAAOA,CAAArZ,CAAC;EAAA,OAAIA,CAAJ;AAAA,CAAd;AACA,IAAMsZ,KAAK,GACT,SADIA,KACJA,CAACnhB,GAAD;EAAA,IAAMqC,EAAN,GAAAf,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAW4f,IAAX;EAAA;IAAA,IAAAlf,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CACA,SAAAC,QAAM3C,EAAN;MAAA,IAAA2hB,KAAA,EAAAtY,GAAA;MAAA,OAAA5G,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA;UAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAMQ0e,KANR,GAMgB,SAARA,KAAQA,CAAA3hB,EAAE;gBAAA,OACd,CACE,aADF,EAEE;kBACEwd,QAAQ,EAAExd,EAAE,CAACwd,QADf;kBAEEzZ,cAAc,EAAE/D,EAAE,CAAC+D,cAFrB;kBAGEE,KAAK,EAAEjE,EAAE,CAACiE;iBALd,EAOE,cAPF,EAQEjE,EAAE,CAAC6D,QARL,CASE,CAAAoQ,MATF,CASS2N,OATT,CADc;eANlB;cAkBQvY,GAlBR,GAkBc,SAANA,GAAMA,CAAA,EAAY;gBAAA,IAAAwY,QAAA;gBAAA,SAAA1f,IAAA,GAAAN,SAAA,CAAA7C,MAAA,EAARwb,GAAQ,OAAAtb,KAAA,CAAAiD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;kBAARmY,GAAQ,CAAAnY,IAAA,IAAAR,SAAA,CAAAQ,IAAA;gBAAA;gBACtB,CAAAwf,QAAA,GAAAjD,OAAO,EAACvV,GAAR,CAAA7F,KAAA,CAAAqe,QAAA,YAAA5jB,MAAA,CAAqBsC,GAArB,EAAsC,YAAAtC,MAAA,CAAAuc,GAAtC,GAA2C,WAA3C;eAnBJ;cAAAzX,QAAA,CAAAE,IAAA;cAAA,OAsBY8T,MAAM,CAAC1O,GAAP,UAAApK,MAAA,CAAoBsC,GAApB,CAtBZ;YAAA;cAAA,KAAAwC,QAAA,CAAAM,IAAA;gBAAAN,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAsB8CL,EAAE,CAAC5C,EAAD,EAAKqJ,GAAL,EAAUsY,KAAV,CAtBhD;YAAA;cAAA,OAAA5e,QAAA,CAAAQ,MAAA,WAuBSvD,EAvBT;YAAA;YAAA;cAAA,OAAA+C,QAAA,CAAAW,IAAA;UAAA;QAAA;MAAA,GAAAf,OAAA;KADA;IAAA,iBAAAgB,EAAA;MAAA,OAAApB,IAAA,CAAAiB,KAAA,OAAA3B,SAAA;IAAA;EAAA;AAAA,CADF;AA4Ba,IAAAK,OAAO,GAAG0F,IAAI,CAAC,CAC1B6P,cAD0B,EAE1BiK,KAAK,CAAC,SAAD,EAAY,UAAC1hB,EAAD,EAAKqJ,GAAL;EAAA,OAAaA,GAAG,CAACrJ,EAAE,CAACoE,OAAH,CAAWuT,OAAZ,CAAhB;AAAA,CAAZ,CAFqB,EAG1B2J,mBAH0B,EAI1BI,KAAK,CAAC,eAAD,EAAkB,UAAC1hB,EAAD,EAAKqJ,GAAL;EAAA,OAAaA,GAAG,CAACrJ,EAAE,CAACoE,OAAH,CAAWyW,YAAZ,CAAhB;AAAA,CAAlB,CAJqB,EAK1BpC,gBAL0B,EAM1BiJ,KAAK,CAAC,WAAD,EAAc,UAAC1hB,EAAD,EAAKqJ,GAAL;EAAA,OAAaA,GAAG,CAACrJ,EAAE,CAACoE,OAAH,CAAWvC,SAAZ,EAAuB7B,EAAE,CAACoE,OAA1B,CAAhB;AAAA,CAAd,CANqB,EAO1Bwb,eAP0B,EAQ1B8B,KAAK,CAAC,UAAD,EAAa,UAAC1hB,EAAD,EAAKqJ,GAAL,EAAUsY,KAAV;EAAA,OAAoBtY,GAAG,CAAH7F,KAAA,SAAAoK,kBAAA,CAAO+T,KAAK,CAAC3hB,EAAD,CAAZ,CAApB;AAAA,CAAb,CARqB,EAS1B;AAAc8hB,YATY,EAU1B;AAAcC,uBAVY,EAW1BhC,iBAX0B,EAY1B2B,KAAK,CAAC,YAAD,EAAe,UAAC1hB,EAAD,EAAKqJ,GAAL,EAAUsY,KAAV;EAAA,OAAoBtY,GAAG,CAAH7F,KAAA,SAAAoK,kBAAA,CAAO+T,KAAK,CAAC3hB,EAAD,CAAZ,CAApB;AAAA,CAAf,CAZqB,EAa1BihB,yBAb0B,EAc1BJ,iBAd0B,EAe1BM,uBAf0B,EAgB1BO,KAAK,CAAC,UAAD,EAAa,UAAC1hB,EAAD,EAAKqJ,GAAL;EAAA,OAAaA,GAAG,CAACrJ,EAAD,CAAhB;AAAA,CAAb,CAhBqB,CAAD;SAmBZ8hB,aAAAle,GAAA;;;;EAAfoe,aAAA,GAAAxf,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAuE,SAA4BjH,EAA5B;IAAA,IAAA6W,IAAA,EAAAC,MAAA;IAAA,OAAArU,mBAAA,CAAAI,IAAA,UAAA0E,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;UAAA;YAAA,IACM,EAAAsC,aAAa,CAACvF,EAAD,CAAb,IAAqBA,EAAE,CAACoE,OAAH,CAAWiT,QAAX,IAAuB,IADlD;cAAA7P,SAAA,CAAAvE,IAAA;cAAA;YAAA;YAAAuE,SAAA,CAAAvE,IAAA;YAAA,OAEuB8T,MAAM,GAAG1O,GAAT,CAAa,gBAAb,CAFvB;UAAA;YAEUwO,IAFV,GAAArP,SAAA,CAAAnE,IAAA;YAAAmE,SAAA,CAAAvE,IAAA;YAAA,OAGyB8T,MAAM,CAACC,KAAP,CACnB,CAAC,eAAD,EAAkB,UAAlB,CADmB,EAEnBC,MAFmB,CAHzB;UAAA;YAGUH,MAHV,GAAAtP,SAAA,CAAAnE,IAAA;YAQI9B,WAAS,CACPuV,MADO,EAE4D,mEAAA7Y,MAAA,mGAF5D,CAAT;YARJuJ,SAAA,CAAAvE,IAAA;YAAA,OAcY6T,MAAM,CACVnO,KAAK,CAAC,CAACG,QAAQ,EAAT,CAAD,CADK,EAEV;cAACiO,MAAM,EAANA,MAAD;cAASlO,QAAQ,EAARA,QAAT;cAAmBqO,MAAM,EAANA,MAAnB;cAA2BlX,EAAE,EAAEmX;YAA/B,CAFU,EAGV;cAACN,IAAI,EAAJA;YAAD,CAHU,CAAN,CAIJgB,IAJI,CAICvD,cAJD,CAdZ;UAAA;YAaItU,EAAE,CAACoE,OAAH,CAAWiT,QAbf,GAAA7P,SAAA,CAAAnE,IAAA,CAmBM4M,EAnBN;UAAA;YAAA,OAAAzI,SAAA,CAAAjE,MAAA,WAqBSvD,EArBT;UAAA;UAAA;YAAA,OAAAwH,SAAA,CAAA9D,IAAA;QAAA;MAAA;IAAA,GAAAuD,QAAA;;;;SAwBe8a,wBAAApa,GAAA;;;;EAAfsa,wBAAA,GAAAzf,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAqH,SAAuC/J,EAAvC;IAAA,IAAAqB,IAAA,EAAAwV,IAAA,EAAAC,MAAA;IAAA,OAAArU,mBAAA,CAAAI,IAAA,UAAAmH,UAAAC,SAAA;MAAA;QAAA,QAAAA,SAAA,CAAAjH,IAAA,GAAAiH,SAAA,CAAAhH,IAAA;UAAA;YAAA,IACM,CAAAsC,aAAa,CAACvF,EAAD,CADnB;cAAAiK,SAAA,CAAAhH,IAAA;cAAA;YAAA;YAEQ5B,IAFR,GAEe/C,MAAM,CAACwhB,MAAP,CAAc9f,EAAE,CAAC6D,QAAjB,CAA2B,CAAA+O,IAA3B,CAAgC,UAAA8I,CAAC;cAAA,OAAIA,CAAC,CAAC3Z,IAAF,CAAOyb,QAAX;YAAA,CAAjC,CAFf;YAGIjc,WAAS,CAACF,IAAD,EAAT;YAHJ,MAIQA,IAAI,CAAC0Z,WAAL,IAAoB,IAJ5B;cAAA9Q,SAAA,CAAAhH,IAAA;cAAA;YAAA;YAAAgH,SAAA,CAAAhH,IAAA;YAAA,OAKyB8T,MAAM,GAAG1O,GAAT,CAAa,gBAAb,CALzB;UAAA;YAKYwO,IALZ,GAAA5M,SAAA,CAAA5G,IAAA;YAAA4G,SAAA,CAAAhH,IAAA;YAAA,OAM2B8T,MAAM,CAACC,KAAP,CACnB,CAAC,eAAD,EAAkB,UAAlB,CADmB,EAEnBC,MAFmB,CAN3B;UAAA;YAMYH,MANZ,GAAA7M,SAAA,CAAA5G,IAAA;YAWM9B,WAAS,CACPuV,MADO,EAE4D,mEAAA7Y,MAAA,mGAF5D,CAAT;YAXNgM,SAAA,CAAA/G,EAAA,GAgBmD4T,MAhBnD;YAAA7M,SAAA,CAAAhH,IAAA;YAAA,OAiBc0F,KAAK,CAAC,CAACM,UAAU,CAAC5H,IAAI,CAAC6H,IAAN,CAAX,CAAD,CAjBnB;UAAA;YAAAe,SAAA,CAAA9G,EAAA,GAAA8G,SAAA,CAAA5G,IAAA;YAAA4G,SAkBQ,CAAA7G,EAAA;cAAC2T,MAAM,EAANA,MAAD;cAASlO,QAAQ,EAARA,QAAT;cAAmBqO,MAAM,EAANA,MAAnB;cAA2BlX,EAAE,EAAEmX;aAlBvC;YAAAlN,SAmBQ,CAAA3G,EAAA;cAACuT,IAAI,EAAJA;aAnBT;YAAA5M,SAAA,CAAAhH,IAAA;YAAA,WAAAgH,SAAA,CAAA/G,EAAA,EAAA+G,SAAA,CAAA9G,EAAA,EAAA8G,SAAA,CAAA7G,EAAA,EAAA6G,SAAA,CAAA3G,EAAA,EAqBSuU,IArBT,CAqBcvD,cArBd,EAsBSuD,IAtBT,CAsBc,UAAAxW,IAAI;cAAA,OAAIA,IAAI,CAAC9C,IAAT;YAAA,CAtBlB,CAuBS,CAAAsZ,IAvBT,CAuBc,UAAAtZ,IAAI;cAAA,OAAIA,IAAI,CAACqU,IAAL,CAAU,UAAArS,GAAG;gBAAA,OAAIA,GAAG,CAACkc,KAAJ,KAAcpb,IAAI,CAACC,KAAvB;cAAA,CAAb,CAAJ;YAAA,CAvBlB,CAwBS,CAAAuW,IAxBT,CAwBc,UAAAtX,GAAG;cAAA,OAAIA,GAAG,CAAC2hB,cAAR;aAxBjB;UAAA;YAgBMliB,EAAE,CAAC6D,QAAH,CAAYxC,IAAI,CAACW,MAAjB,EAAyB+Y,WAhB/B,GAAA9Q,SAAA,CAAA5G,IAAA;UAAA;YAAA,OAAA4G,SAAA,CAAA1G,MAAA,WA2BSvD,EA3BT;UAAA;UAAA;YAAA,OAAAiK,SAAA,CAAAvG,IAAA;QAAA;MAAA;IAAA,GAAAqG,QAAA;;;;AC5FO,SAASoY,SAATA,CAAA,EAA4B;EAAA,SAAAhgB,IAAA,GAAAN,SAAA,CAAA7C,MAAA,EAAN8I,IAAM,OAAA5I,KAAA,CAAAiD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;IAANyF,IAAM,CAAAzF,IAAA,IAAAR,SAAA,CAAAQ,IAAA;EAAA;EACjC,IAAIyF,IAAI,CAAC9I,MAAL,GAAc,CAAlB,EAAqB;IACnB,IAAOojB,SAAP,GAA6Bta,IAA7B;MAAkB1D,OAAlB,GAA6B0D,IAA7B;IACA,OAAOqa,SAAS,CAAC,UAACniB,EAAD,EAAmBuC,IAAA;MAAA,IAAb1B,EAAa,GAAA0B,IAAA,CAAb1B,EAAa;QAATE,GAAS,GAAAwB,IAAA,CAATxB,GAAS;MAClC,OAAOqhB,SAAS,GAAGvhB,EAAE,CAACb,EAAD,CAAL,GAAYe,GAAG,CAACf,EAAD,EAAKoE,OAAL,CAA/B;IACD,CAFe,CAAhB;EAGD;EACD,IAAOxB,EAAP,GAAakF,IAAb;EACA,OAAO,UAAA9H,EAAE;IAAA,OAAI4C,EAAE,CAAC5C,EAAD,EAAK;MAACa,EAAE,EAAFA,EAAD;MAAKE,GAAG,EAAHA;IAAL,CAAL,CAAN;GAAT;AACD;ICFYshB,IAAI;EAAA,IAAG9f,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAA;IAAA,IAAAmF,IAAA;MAAAlG,IAAA;MAAAkV,MAAA;MAAAwL,SAAA;MAAA9J,KAAA,GAAA3W,SAAA;IAAA,OAAAY,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAO6E,IAAP,GAAA0Q,KAAA,CAAAxZ,MAAA,QAAAwZ,KAAA,QAAA1W,SAAA,GAAA0W,KAAA,MAAc,EAAd;YAAkB5W,IAAlB,GAAA4W,KAAA,CAAAxZ,MAAA,QAAAwZ,KAAA,QAAA1W,SAAA,GAAA0W,KAAA,MAAyB,EAAzB;YAAAzV,QAAA,CAAAE,IAAA;YAAA,OACG8T,MAAM,CAACC,KAAP,CACnB,CAAC,eAAD,EAAkB,UAAlB,CADmB,EAEnBpV,IAAI,CAACygB,IAAL,IAAapL,MAFM,CADH;UAAA;YACZH,MADY,GAAA/T,QAAA,CAAAM,IAAA;YAMlB8e,SAAS,CACPrL,MADO,EAE4D,mEAAA7Y,MAAA,mGAF5D,CAAT;YANkB8E,QAAA,CAAAE,IAAA;YAAA,OAWM8T,MAAM,CAACC,KAAP,CACtB,CAAC,aAAD,CADsB,EAEtBpV,IAAI,CAACM,OAAL,IAAgBA,OAFM,CAXN;UAAA;YAWZogB,SAXY,GAAAvf,QAAA,CAAAM,IAAA;YAAAN,QAgBN,CAAAG,EAAA,GAAAtB,IAAI,CAACiV,IAhBC;YAAA,IAAA9T,QAAA,CAAAG,EAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAgBc8T,MAAM,GAAG1O,GAAT,CAAa,gBAAb,CAhBd;UAAA;YAAAtF,QAAA,CAAAG,EAAA,GAAAH,QAAA,CAAAM,IAAA;UAAA;YAgBlBzB,IAAI,CAACiV,IAhBa,GAAA9T,QAAA,CAAAG,EAAA;YAkBlB,IAAIhE,KAAK,CAACO,OAAN,CAAcqI,IAAd,CAAJ,EAAyBA,IAAI,GAAGF,IAAI,CAAClJ,WAAW,EAAZ,EAAgBoJ,IAAhB,CAAX;YAlBP/E,QAAA,CAAAI,EAAA,GAmBX2T,MAnBW;YAAA/T,QAAA,CAAAE,IAAA;YAAA,OAoBVqf,SAAS,CAACxa,IAAD,CApBC;UAAA;YAAA/E,QAAA,CAAAK,EAAA,GAAAL,QAAA,CAAAM,IAAA;YAAAN,QAqBhB,CAAAO,EAAA;cAACyT,MAAM,EAANA,MAAD;cAASlO,QAAQ,EAARA,QAAT;cAAmB7I,EAAE,EAAEmX,QAAvB;cAAiCD,MAAM,EAANA;aArBjB;YAAAnU,QAAA,CAAAwS,EAAA,GAsBhB3T,IAtBgB;YAAA,OAAAmB,QAAA,CAAAQ,MAAA,eAAAR,QAAA,CAAAI,EAAA,EAAAJ,QAAA,CAAAK,EAAA,EAAAL,QAAA,CAAAO,EAAA,EAAAP,QAAA,CAAAwS,EAAA;UAAA;UAAA;YAAA,OAAAxS,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;GAAH;EAAA,gBAAJ0f,IAAIA,CAAA;IAAA,OAAA9f,IAAA,CAAAiB,KAAA,OAAA3B,SAAA;EAAA;AAAA,CAAV;ACNP,SAAsBuS,MAAtBA,CAAAzQ,EAAA;EAAA,OAAA4e,OAAA,CAAA/e,KAAA,OAAA3B,SAAA;AAAA;;EAAO0gB,OAAA,GAAA/f,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAsBkG,QAAtB;IAAA,IAAA2Z,kBAAA,EAAAxW,QAAA;IAAA,OAAAvJ,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAC4B8T,MAAM,GAAGa,KAAT,CAAe,YAAf,CAD5B;UAAA;YACC4K,kBADD,GAAAzf,QAAA,CAAAM,IAAA;YAEC2I,QAFD,GAEY1N,MAAM,CAACwZ,OAAP,CAAe0K,kBAAf,EAAmClV,GAAnC,CACf,UAAsB/K,IAAA;cAAA,IAAAyE,KAAA,GAAA+Q,cAAA,CAAAxV,IAAA;gBAApBkgB,OAAoB,GAAAzb,KAAA;gBAAX1C,KAAW,GAAA0C,KAAA;cACpByb,OAAO,OAAAxkB,MAAA,CAAOwkB,OAAO,CAACxK,OAAR,CAAgB,YAAhB,EAA8B,EAA9B,CAAP,EAAP;cACA,OAAO,CAACwK,OAAD,EAAUne,KAAV,CAAP;YACD,CAJc,CAFZ;YAAA,OASEvB,QAAA,CAAAQ,MAAA,WAAA+Q,cAAc,CAACzL,QAAD,EAAWvK,MAAM,CAACokB,WAAP,CAAmB1W,QAAnB,CAAX,CAThB;UAAA;UAAA;YAAA,OAAAjJ,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACGP,IAAMggB,kBAAkB,GAAG,SAArBA,kBAAqBA,CAAAtJ,OAAO,EAAI;EACpC;EACA,IAAI/D,OAAO,GAAG,IAAIjX,GAAJ,CAAQgb,OAAO,CAAC2B,WAAhB,CAAd;EACA1F,OAAO,CAACiI,GAAR,CAAYlE,OAAO,CAACyB,WAAR,CAAoBrP,OAAhC;EACA6J,OAAO,CAAP,UAAe+D,OAAO,CAACpV,KAAvB;EACA,OAAO/E,KAAK,CAACC,IAAN,CAAWmW,OAAX,CAAoB,CAAAhI,GAApB,CAAwByQ,UAAxB,CAAP;AACD,CAND;AAQA,IAAM6E,mBAAmB,GAAG,SAAtBA,mBAAsBA,CAAAvJ,OAAO,EAAI;EACrC;EACA,IAAIwJ,QAAQ,GAAG,IAAIxkB,GAAJ,CAAQ,CAACgb,OAAO,CAACpV,KAAT,CAAR,CAAf;EACA,OAAO/E,KAAK,CAACC,IAAN,CAAW0jB,QAAX,CAAqB,CAAAvV,GAArB,CAAyByQ,UAAzB,CAAP;AACD,CAJD;AAMA,IAAa+E,oDAAb,0BAAAC,MAAA;EAAAC,SAAA,CAAAF,oDAAA,EAAAC,MAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,oDAAA;EACE,SAAAA,qDAAYK,aAAZ,EAA2B;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAP,oDAAA;IACzB,IAAMtI,GAAG,GAAG,0GACwF,CAAAvc,MAAA,CAAAklB,aADxF,6CAAAllB,MAAA,CAEqBklB,aAFrB,kGAGRG,IAHQ,EAAZ;IAIAF,KAAA,GAAAH,MAAA,CAAAxf,IAAA,OAAM+W,GAAN;IACA4I,KAAK,CAAAtT,IAAL,GAAY,0DAAZ;IANyB,OAAAsT,KAAA;EAO1B;EARH,OAAAG,YAAA,CAAAT,oDAAA;AAAA,gBAAAU,gBAAA,CAA0E1c,KAA1E;AAWO,IAAM2c,yBAAyB,GAAG,SAA5BA,yBAA4BA,CAACC,QAAD,EAAWP,aAAX,EAA6B;EACpE,IAAIQ,cAAc,GAAGhB,kBAAkB,CAACe,QAAQ,CAACrK,OAAV,CAAvC;EACA,IAAIuK,eAAe,GAAGhB,mBAAmB,CAACc,QAAQ,CAACrK,OAAV,CAAzC;EAEA,IAAMwK,eAAe,GAAGF,cAAc,CAACnE,QAAf,CAAwBzB,UAAU,CAACoF,aAAD,CAAlC,CAAxB;EACA,IAAMW,gBAAgB,GAAGF,eAAe,CAACpE,QAAhB,CAAyBzB,UAAU,CAACoF,aAAD,CAAnC,CAAzB;EAEA,IAAI,CAACU,eAAD,IAAoB,CAACC,gBAAzB,EAA2C;IACzC,MAAM,IAAIhB,oDAAJ,CACJK,aADI,CAAN;EAGD;EAED,IAAM/e,OAAO,GAAG;IACduT,OAAO,EAAE+L,QAAQ,CAACrK,OAAT,CAAiB1B,OADZ;IAEdN,QAAQ,EAAEqM,QAAQ,CAACrK,OAAT,CAAiBhC,QAFb;IAGdwD,YAAY,EAAE6I,QAAQ,CAACrK,OAAT,CAAiBwB,YAHjB;IAIdhZ,SAAS,EAAE6hB,QAAQ,CAACrK,OAAT,CAAiBxX,SAJd;IAKdiZ,WAAW,EACNpZ,aAAA,CAAAA,aAAA,KAAAgiB,QAAQ,CAACrK,OAAT,CAAiByB,WADX;MAETrP,OAAO,EAAEtC,UAAU,CAACua,QAAQ,CAACrK,OAAT,CAAiByB,WAAjB,CAA6BrP,OAA9B;KAPP;IASdxH,KAAK,EAAEkF,UAAU,CAACua,QAAQ,CAACrK,OAAT,CAAiBpV,KAAlB,CATH;IAUd+W,WAAW,EAAE0I,QAAQ,CAACrK,OAAT,CAAiB2B,WAAjB,CAA6B1N,GAA7B,CAAiCnE,UAAjC,CAVC;IAWdmS,WAAW,EAAEoI,QAAQ,CAACrK,OAAT,CAAiBiC,WAAjB,CAA6BhO,GAA7B,CAAiC,UAAAyW,EAAE;MAAA,OAAAriB,aAAA,CAAAA,aAAA,KAC3CqiB,EAD2C;QAE9CtY,OAAO,EAAEtC,UAAU,CAAC4a,EAAE,CAACtY,OAAJ;MAF2B;KAAnC;GAXf;EAiBA,OAAOoY,eAAe,GAClBhL,wBAAwB,CAACzU,OAAD,CADN,GAElB8U,yBAAyB,CAAC9U,OAAD,CAF7B;AAGD;AC9DM,SAAS4f,SAATA,CAAmBhD,EAAnB,EAAuB;EAC5B,OAAOvY,MAAM,CAAC,eAAD,EAAkB,UAAAsY,UAAU;IAAA,OACvC7hB,KAAK,CAACO,OAAN,CAAcshB,UAAd,CAA4B,GAAAA,UAAU,CAAC/c,IAAX,CAAgBgd,EAAhB,CAA5B,GAAkD,CAACA,EAAD,CADX;EAAA,CAA5B,CAAb;AAGD;ACHM,SAASiD,aAATA,CAAuBC,MAAvB,EAA+B;EACpC,OAAOtc,IAAI,CAAC,CACV,UAAA5H,EAAE,EAAI;IACJA,EAAE,CAACgJ,KAAH,CAASkb,MAAT,GAAkBA,MAAlB;IACA,OAAOlkB,EAAP;EACD,CAJS,EAKVgkB,SAAS,CAAC,UAAAhkB,EAAE,EAAI;IACd,IAAI,OAAOA,EAAE,CAACgJ,KAAH,CAASD,QAAhB,KAA6B,SAAjC,EACE,MAAM,IAAIjC,KAAJ,CAAU,mDAAV,CAAN;IACF,IAAI9G,EAAE,CAACgJ,KAAH,CAASiH,EAAb,EACE,MAAM,IAAInJ,KAAJ,CAAU,mDAAV,CAAN;IACF,OAAO9G,EAAP;GALO,CALC,CAAD,CAAX;AAaD;ACdM,SAASmkB,SAATA,CAAmBlU,EAAnB,EAAuB;EAC5B,OAAOrI,IAAI,CAAC,CACV,UAAA5H,EAAE,EAAI;IACJA,EAAE,CAACgJ,KAAH,CAASiH,EAAT,GAAcA,EAAd;IACA,OAAOpP,EAAE,CAACb,EAAD,CAAT;EACD,CAJS,EAKVgkB,SAAS,CAAC,UAAChkB,EAAD,EAAmBuC,IAAA;IAAA,IAAb1B,EAAa,GAAA0B,IAAA,CAAb1B,EAAa;MAATE,GAAS,GAAAwB,IAAA,CAATxB,GAAS;IAC3B,IAAI2E,YAAY,CAAC1F,EAAD,CAAhB,EACE,OAAOe,GAAG,CACRf,EADQ,EAER,8DAFQ,CAAV;IAIF,IAAI,OAAOA,EAAE,CAACgJ,KAAH,CAASD,QAAhB,KAA6B,SAAjC,EACE,OAAOhI,GAAG,CAACf,EAAD,EAAK,+CAAL,CAAV;IACF,IAAIA,EAAE,CAACgJ,KAAH,CAASkb,MAAb,EACE,OAAOnjB,GAAG,CAACf,EAAD,EAAK,mDAAL,CAAV;IACF,OAAOa,EAAE,CAACb,EAAD,CAAT;GAVO,CALC,CAAD,CAAX;AAkBD;ACfM,SAASoG,OAATA,CAAiBqF,OAAjB,EAAmD;EAAA,IAAAlJ,IAAA,GAAAV,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAV,EAAU;IAAxBqiB,MAAwB,GAAA3hB,IAAA,CAAxB2hB,MAAwB;IAAhBjU,EAAgB,GAAA1N,IAAA,CAAhB0N,EAAgB;EAAA,IAANrO,IAAM,GAAAC,SAAA,CAAA7C,MAAA,OAAA6C,SAAA,MAAAC,SAAA;EACxDP,WAAS,CACP,EAAE0O,EAAE,IAAIiU,MAAR,CADO,wEAAT,CADwD;;EAOxD,IAAIjU,EAAJ,EAAQ,OAAOoS,IAAI,CAAC,CAACpZ,UAAU,CAACwC,OAAD,CAAX,EAAsB0Y,SAAS,CAAClU,EAAD,CAA/B,CAAD,EAAuCrO,IAAvC,CAAJ,CAAiDiW,IAAjD,CAAsDvD,cAAtD,CAAP,CAPgD;;EAUxD,IAAI4P,MAAJ,EACE,OAAO7B,IAAI,CAAC,CAACpZ,UAAU,CAACwC,OAAD,CAAX,EAAsBwY,aAAa,CAACC,MAAD,CAAnC,CAAD,EAA+CtiB,IAA/C,CAAJ,CAAyDiW,IAAzD,CAA8DvD,cAA9D,CAAP;EAEF,OAAO+N,IAAI,CAAC,CAACpZ,UAAU,CAACwC,OAAD,CAAX,CAAD,EAAwB7J,IAAxB,CAAJ,CAAkCiW,IAAlC,CAAuCvD,cAAvC,CAAP;AACD;ACdM,SAAStL,KAATA,CAAA,EAA6D;EAAA,IAAAzG,IAAA,GAAAV,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAf,EAAe;IAAAuiB,WAAA,GAAA7hB,IAAA,CAA7C8hB,MAA6C;IAA7CA,MAA6C,GAAAD,WAAA,cAApC,KAAoC,GAAAA,WAAA;IAA7BnU,EAA6B,GAAA1N,IAAA,CAA7B0N,EAA6B;IAAzBiU,MAAyB,GAAA3hB,IAAA,CAAzB2hB,MAAyB;EAAA,IAAXtiB,IAAW,GAAAC,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAClEN,WAAS,CACP,EAAG8iB,MAAM,IAAIpU,EAAX,IAAmBoU,MAAM,IAAIH,MAA/B,CADO,EAAT;EAKA3iB,WAAS,CACP,EAAE0O,EAAE,IAAIiU,MAAR,CADO,sEAAT,CANkE;;EAYlE,IAAIjU,EAAJ,EAAQ,OAAOoS,IAAI,CAAC,CAACvZ,QAAQ,EAAT,EAAaqb,SAAS,CAAClU,EAAD,CAAtB,CAAD,EAA8BrO,IAA9B,CAAJ,CAAwCiW,IAAxC,CAA6CvD,cAA7C,CAAP,CAZ0D;;EAelE,IAAI4P,MAAJ,EACE,OAAO7B,IAAI,CAAC,CAACvZ,QAAQ,EAAT,EAAamb,aAAa,CAACC,MAAD,CAA1B,CAAD,EAAsCtiB,IAAtC,CAAJ,CAAgDiW,IAAhD,CAAqDvD,cAArD,CAAP,CAhBgE;;EAmBlE,OAAO+N,IAAI,CAAC,CAACvZ,QAAQ,CAACub,MAAD,CAAT,CAAD,EAAqBziB,IAArB,CAAJ,CAA+BiW,IAA/B,CAAoCvD,cAApC,CAAP;AACD;ACzBM,SAASvQ,cAATA,CAAA,EAAiC;EAAA,IAATmb,EAAS,GAAArd,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EACtC,OAAO+F,IAAI,CACTsX,EAAE,CAAC5R,GAAH,CAAO,UAAAgX,KAAK,EAAI;IACd,OAAO3iB,WAAW,CAAC2iB,KAAD,EAAQ;MAACviB,IAAI,EAAElE;IAAP,CAAR,CAAlB;EACD,CAFD,CADS,CAAX;AAKD;AAEM,SAASoE,aAATA,CAAuBiH,IAAvB,EAA6BuX,eAA7B,EAA8Cnf,KAA9C,EAAqDyZ,WAArD,EAAkE;EACvE,OAAO;IAAC7R,IAAI,EAAJA,IAAD;IAAOuX,eAAe,EAAfA,eAAP;IAAwBnf,KAAK,EAALA,KAAxB;IAA+ByZ,WAAW,EAAXA;GAAtC;AACD;ACTM,SAASwJ,SAATA,CAAmBC,SAAnB,EAA8BC,KAA9B,EAAqCC,GAArC,EAA0C;EAC/C,IAAI,OAAOD,KAAP,KAAiB,WAAjB,IAAgC,OAAOC,GAAP,KAAe,WAAnD,EAAgE;IAC9DlD,MAAM,CAACnY,GAAP,CAAWC,SAAX,CAAqB;MACnBC,GAAG,EAAE,SADc;MAEnBC,OAAO,EAAE,wCAFU;MAGnBC,UAAU,EACR;KAJJ;EAMD;EAED,OAAO7B,IAAI,CAAC,CACV7C,aADU,EAEV,UAAA/E,EAAE,EAAI;IACJA,EAAE,CAAC8U,MAAH,CAAU0P,SAAV,GAAsBA,SAAtB;IACAxkB,EAAE,CAAC8U,MAAH,CAAU2P,KAAV,GAAkBA,KAAlB;IACAzkB,EAAE,CAAC8U,MAAH,CAAU4P,GAAV,GAAgBA,GAAhB;IACA,OAAO7jB,EAAE,CAACb,EAAD,CAAT;EACD,CAPS,CAAD,CAAX;AASD;ACpBM,SAAS2kB,2BAATA,CAAqCH,SAArC,EAAgDC,KAAhD,EAAuDC,GAAvD,EAA4D;EACjE,OAAO9c,IAAI,CAAC,CACV7C,aADU,EAEV,UAAA/E,EAAE,EAAI;IACJA,EAAE,CAAC8U,MAAH,CAAU0P,SAAV,GAAsBA,SAAtB;IACAxkB,EAAE,CAAC8U,MAAH,CAAU2P,KAAV,GAAkBA,KAAlB;IACAzkB,EAAE,CAAC8U,MAAH,CAAU4P,GAAV,GAAgBA,GAAhB;IACA,OAAO7jB,EAAE,CAACb,EAAD,CAAT;EACD,CAPS,CAAD,CAAX;AASD;ACVM,SAAS4kB,mBAATA,CAA6BJ,SAA7B,EAAuD;EAAA,IAAfK,QAAe,GAAAhjB,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAC5D,OAAO+F,IAAI,CAAC,CACV7C,aADU,EAEV,UAAA/E,EAAE,EAAI;IACJA,EAAE,CAAC8U,MAAH,CAAU0P,SAAV,GAAsBA,SAAtB;IACAxkB,EAAE,CAAC8U,MAAH,CAAU+P,QAAV,GAAqBA,QAArB;IACA,OAAOhkB,EAAE,CAACb,EAAD,CAAT;EACD,CANS,CAAD,CAAX;AAQD;ACTM,SAAS8kB,cAATA,CAAA,EAAyC;EAAA,IAAjB/b,QAAiB,GAAAlH,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAN,IAAM;EAC9C,OAAO+F,IAAI,CAAC,CACV1C,kBADU,EAEV,UAAAlF,EAAE,EAAI;IACJA,EAAE,CAACgJ,KAAH,CAASD,QAAT,GAAoBA,QAApB;IACA,OAAOlI,EAAE,CAACb,EAAD,CAAT;EACD,CALS,CAAD,CAAX;AAOD;ACRM,SAAS+kB,aAATA,CAAA,EAAkC;EAAA,IAAX9U,EAAW,GAAApO,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAN,IAAM;EACvC,OAAO+F,IAAI,CAAC,CACVzC,iBADU,EAEV,UAAAnF,EAAE,EAAI;IACJA,EAAE,CAACyW,UAAH,CAAcxG,EAAd,GAAmBA,EAAnB;IACA,OAAOjQ,EAAP;EACD,CALS,CAAD,CAAX;AAOD;ACRM,SAASglB,oBAATA,CAA8B7P,aAA9B,EAA6C;EAClD,OAAOvN,IAAI,CAAC,CACVhD,wBADU,EAEV,UAAA5E,EAAE,EAAI;IACJA,EAAE,CAAC2V,WAAH,CAAe1F,EAAf,GAAoBkF,aAApB;IACA,OAAOtU,EAAE,CAACb,EAAD,CAAT;EACD,CALS,CAAD,CAAX;AAOD;ACRM,SAASilB,cAATA,CAAwB9P,aAAxB,EAAuC;EAC5C,OAAOvN,IAAI,CAAC,CACV/C,kBADU,EAEV,UAAA7E,EAAE,EAAI;IACJA,EAAE,CAAC2V,WAAH,CAAe1F,EAAf,GAAoBkF,aAApB;IACA,OAAOtU,EAAE,CAACb,EAAD,CAAT;EACD,CALS,CAAD,CAAX;AAOD;ACVM,SAASklB,KAATA,CAAerK,YAAf,EAA6B;EAClC,OAAO,UAAA7a,EAAE,EAAI;IACXA,EAAE,CAACoE,OAAH,CAAWyW,YAAX,GAA0BA,YAA1B;IACA,OAAO7a,EAAP;GAFF;AAID;ACHM,SAAS8H,IAATA,CAAA,EAAuB;EAAA,IAAToX,EAAS,GAAArd,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAC5B,OAAO+F,IAAI,CAACsX,EAAE,CAAC5R,GAAH,CAAOpJ,YAAP,CAAD,CAAX;AACD;AAEM,SAASC,GAATA,CAAa3D,KAAb,EAAoB8D,KAApB,EAA2B;EAChC,OAAO;IAAC9D,KAAK,EAALA,KAAD;IAAQ8D,KAAK,EAALA;GAAf;AACD;ACND,SAAsBkZ,QAAtBA,CAAA7Z,EAAA;EAAA,OAAAwhB,SAAA,CAAA3hB,KAAA,OAAA3B,SAAA;AAAA;;EAAOsjB,SAAA,GAAA3iB,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAwB2hB,KAAxB;IAAA,OAAA7hB,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,OACEF,QAAA,CAAAQ,MAAA,WAAA5B,WAAW,CAAC2iB,KAAD,EAAQ;cAACviB,IAAI,EAAEhE;YAAP,CAAR,CADb;UAAA;UAAA;YAAA,OAAAgF,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACAP,SAAsBsB,KAAtBA,CAAAN,EAAA;EAAA,OAAAyhB,MAAA,CAAA5hB,KAAA,OAAA3B,SAAA;AAAA;;EAAOujB,MAAA,GAAA5iB,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,UAAAC,QAAqB2hB,KAArB;IAAA,OAAA7hB,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,OACEF,QAAA,CAAAQ,MAAA,WAAA5B,WAAW,CAAC2iB,KAAD,EAAQ;cAACviB,IAAI,EAAEjE;YAAP,CAAR,CADb;UAAA;UAAA;YAAA,OAAAiF,QAAA,CAAAW,IAAA;QAAA;MAAA;IAAA,GAAAf,OAAA;;;;ACAA,SAAS0iB,IAATA,CAAA,EAAgB;EACrB,OAAOrgB,QAAP;AACD;ACFM,SAASsgB,GAATA,CAAajO,QAAb,EAAuB;EAC5B,OAAOzP,IAAI,CAAC,CACV,UAAA5H,EAAE,EAAI;IACJA,EAAE,CAACoE,OAAH,CAAWiT,QAAX,GAAsBA,QAAtB;IACA,OAAOxW,EAAE,CAACb,EAAD,CAAT;EACD,CAJS,CAAD,CAAX;AAMD;ACNM,SAASoa,MAATA,CAAA,EAAyB;EAC9B,OAAOxS,IAAI,CAAC,CAAClD,UAAD,EAAa8D,GAAG,CAAC,YAAD,EAAe+c,QAAQ,CAAA/hB,KAAR,CAAf,QAAA3B,SAAA,EAAhB,CAAD,CAAX;AACD;ACFD,IAAM2jB,uBAAuB,GAAG,EAAhC;AACA,IAAMC,WAAW,GAAG,IAApB;AAEO,SAAS9P,WAATA,CAAA,EAA8B;EACnC,OAAO/N,IAAI,CAAC,CACVjD,eADU,EAEV6D,GAAG,CAAC,YAAD,EAAe+c,QAAQ,CAAA/hB,KAAR,CAAf,QAAA3B,SAAA,EAFO,EAGV,UAAA7B,EAAE,EAAI;IACJA,EAAE,CAACoE,OAAH,CAAWiT,QAAX,GAAsBrX,EAAE,CAACoE,OAAH,CAAWiT,QAAX,IAAuBoO,WAA7C;IACAzlB,EAAE,CAAC+D,cAAH,GAAoB/D,EAAE,CAAC+D,cAAH,IAAqByhB,uBAAzC;IACA,OAAO3kB,EAAE,CAACb,EAAD,CAAT;EACD,CAPS,CAAD,CAAX;AASD;ACdM,SAAS0lB,gBAATA,CAA0B9iB,EAA1B,EAA8B;EACnC,OAAO4F,GAAG,CAAC,sBAAD,EAAyB5F,EAAzB,CAAV;AACD;ACOY,IAAA+iB,6BAA6B,GACxC,SADWA,6BACXA,CAAApjB,IAAA;EAAA,IAAEsU,IAAF,GAAAtU,IAAA,CAAEsU,IAAF;EAAA;IAAA,IAAA7P,KAAA,GAAAxE,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CACA,SAAAC,QAAM3C,EAAN;MAAA,IAAA8W,MAAA,EAAA8O,UAAA,EAAAvW,OAAA;MAAA,OAAA5M,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA;UAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,IACOsC,aAAa,CAACvF,EAAD,CADpB;gBAAA+C,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OACiCF,QAAA,CAAAQ,MAAA,WAAA1C,EAAE,CAACb,EAAD,CADnC;YAAA;cAAA,IAEM,CAAAA,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,EAAyBzC,WAF/B;gBAAAhY,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAEmDF,QAAA,CAAAQ,MAAA,WAAA1C,EAAE,CAACb,EAAD,CAFrD;YAAA;cAAA+C,QAAA,CAAAE,IAAA;cAAA,OAIuB8T,MAAM,CAACC,KAAP,CACnB,CAAC,eAAD,EAAkB,UAAlB,CADmB,EAEnBC,MAFmB,CAJvB;YAAA;cAIQH,MAJR,GAAA/T,QAAA,CAAAM,IAAA;cASE9B,WAAS,CACPuV,MADO,EAE4D,mEAAA7Y,MAAA,mGAF5D,CAAT;cATF8E,QAAA,CAAAG,EAAA,GAcyB4T,MAdzB;cAAA/T,QAAA,CAAAE,IAAA;cAAA,OAeU0F,KAAK,CAAC,CAACM,UAAU,CAACjJ,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,EAAyBtU,IAA1B,CAAX,CAAD,CAff;YAAA;cAAAnG,QAAA,CAAAI,EAAA,GAAAJ,QAAA,CAAAM,IAAA;cAAAN,QAgBI,CAAAK,EAAA;gBAAC2T,MAAM,EAANA,MAAD;gBAASlO,QAAQ,EAAEA,QAAnB;gBAAmCqO,MAAM,EAANA,MAAnC;gBAA2ClX,EAAE,EAAEmX;eAhBnD;cAAApU,QAiBI,CAAAO,EAAA;gBAACuT,IAAI,EAAJA;eAjBL;cAAA9T,QAAA,CAAAE,IAAA;cAAA,WAAAF,QAAA,CAAAG,EAAA,EAAAH,QAAA,CAAAI,EAAA,EAAAJ,QAAA,CAAAK,EAAA,EAAAL,QAAA,CAAAO,EAAA;YAAA;cAcQsiB,UAdR,GAAA7iB,QAAA,CAAAM,IAAA;cAAAN,QAAA,CAAAE,IAAA;cAAA,OAmBwBqR,cAAc,CAACsR,UAAD,CAnBtC;YAAA;cAmBQvW,OAnBR,GAAAtM,QAAA,CAAAM,IAAA;cAqBErD,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,EAAyBzC,WAAzB,GACE1L,OAAO,CAAC9Q,IAAR,CAAayB,EAAE,CAAC6D,QAAH,CAAY7D,EAAE,CAACwd,QAAf,EAAyBlc,KAAtC,EAA6C4gB,cAD/C;cArBF,OAwBSnf,QAAA,CAAAQ,MAAA,WAAA1C,EAAE,CAACb,EAAD,CAxBX;YAAA;YAAA;cAAA,OAAA+C,QAAA,CAAAW,IAAA;UAAA;QAAA;MAAA,GAAAf,OAAA;KADA;IAAA,iBAAAgB,EAAA;MAAA,OAAAqD,KAAA,CAAAxD,KAAA,OAAA3B,SAAA;IAAA;EAAA;AAAA;ACTK,SAASgkB,mBAATA,CAA6B7lB,EAA7B,EAAmD;EAAA,IAAlB8lB,YAAkB,GAAAjkB,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAH,CAAG;EACxD;EACAN,WAAS,CAACvB,EAAE,CAACoG,OAAJ,EAAa,kDAAb,EAAiEpG,EAAjE,CAAT,CAFwD;;EAIxDuB,WAAS,CAAEvB,EAAE,CAACoG,OAAH,CAAW8C,IAAb,EAAmB,uDAAnB,EAA4ElJ,EAA5E,CAAT;EAEA,IAAMyL,OAAO,GAAGzL,EAAE,CAACoG,OAAH,CAAW8C,IAA3B;EAEA,OAAO;IACL9C,OAAO,EAAE;MACP8C,IAAI,EAAEuC,OADC;MAEPlN,IAAI,EAAEW,KAAK,CAACC,IAAN,CAAW;QAACH,MAAM,EAAE8mB;MAAT,CAAX,EAAmC,UAACC,CAAD,EAAIpc,CAAJ;QAAA,OAAW;UAClD8S,KAAK,EAAE9S,CAD2C;UAElDuY,cAAc,EAAE;SAFuB;OAAnC;IAFC;GADX;AASD;AAEM,SAAS8D,oBAATA,CAA8BhmB,EAA9B,EAAkC;EACvC,OAAO;IACLmB,GAAG,EAAE,WADA;IAEL6H,KAAK,EAAE;MACLiH,EAAE,EAAE;IADC;GAFT;AAMD;AAED,IAAM9H,QAAQ,GAAG,SAAXA,QAAWA,CAAAC,CAAC;EAAA,OAAIA,CAAJ;AAAA,CAAlB;AAEO,SAAS6d,QAATA,CAAA,EAAuC;EAAA,IAArB3d,QAAqB,GAAAzG,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAVsG,QAAU;EAC5C;IAAA,IAAA+d,SAAA,GAAA1jB,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAAO,SAAAC,QAAwB3C,EAAxB;MAAA,OAAAyC,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA;UAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACMjD,EADN;YAAA;cACLA,EADK,GAAA+C,QAAA,CAAAM,IAAA;cAAAN,QAAA,CAAAG,EAAA,GAEG,IAFH;cAAAH,QAGE,CAAAE,IAAA,GAAAF,QAAA,CAAAG,EAAA,KAAAwC,YAAY,CAAC1F,EAAD,CAHd,OAAA+C,QAAA,CAAAG,EAAA,KAME2C,UAAU,CAAC7F,EAAD,CANZ;cAAA;YAAA;cAAA,OAIM+C,QAAA,CAAAQ,MAAA,WAAAsiB,mBAAmB,CAAC7lB,EAAD,CAJzB;YAAA;cAAA,OAOM+C,QAAA,CAAAQ,MAAA,WAAAyiB,oBAAoB,EAP1B;YAAA;cAAA,OAUMjjB,QAAA,CAAAQ,MAAA,WAAA+E,QAAQ,CAACtI,EAAD,CAVd;YAAA;YAAA;cAAA,OAAA+C,QAAA,CAAAW,IAAA;UAAA;QAAA;MAAA,GAAAf,OAAA;KAAP;IAAA,SAAsBwjB,QAAtBA,CAAAxiB,EAAA;MAAA,OAAAuiB,SAAA,CAAA1iB,KAAA,OAAA3B,SAAA;IAAA;IAAA,OAAsBskB,QAAtB;EAAA;AAaD;;AC7CM,IAAM7H,IAAI,GAAG,SAAPA,IAAOA,CAAAjd,IAAI;EAAA,OAAO,GAAApD,MAAA,CAAA8f,UAAU,CAAC1c,IAAI,CAAC6H,IAAN,CAAjB,OAAAjL,MAAA,CAAgCoD,IAAI,CAACC,KAArC;AAAA,CAAjB;AAEA,SAASia,GAATA,CAAa3Z,IAAb,EAAmB;EACxB,OAAO,CAAC,WAAD,EAAcA,IAAI,CAACsH,IAAnB,EAAyBtH,IAAI,CAACN,KAA9B,EAAqClC,IAArC,CAA0C,GAA1C,CAAP;AACD;AAEM,SAASgnB,OAATA,CAAA,EAA4B;EAAA,IAAXxkB,IAAW,GAAAC,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EACjC,OAAO,UAAUuE,OAAV,EAAmB;IACxB,IAAM/E,IAAI,GAAAK,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACL0E,OADK,GAELxE,IAFK;MAGR6e,eAAe,EACb7e,IAAI,CAAC6e,eAAL,IACAra,OAAO,CAACqa,eADR,IAEA4F;KANJ;IASA,OAAOhlB,IAAP;IAEA,SAASglB,uBAATA,CAAiC3C,QAAjC,EAA2C;MACzC,OAAO;QACLxa,IAAI,EAAE7H,IAAI,CAAC6H,IADN;QAEL5H,KAAK,EAAED,IAAI,CAACC,KAFP;QAGLgZ,SAAS,EAAEiB,GAAG,CAACla,IAAD;OAHhB;IAKD;GAlBH;AAoBD;AAEM,SAASilB,YAATA,CAAA,EAAiC;EAAA,IAAX1kB,IAAW,GAAAC,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EACtC,OAAO,UAAUuE,OAAV,EAAmB;IACxB,IAAOpE,MAAP,GAA0BJ,IAA1B,CAAOI,MAAP;MAAkBI,IAAlB,GAAAmkB,wBAAA,CAA0B3kB,IAA1B,EAAA4kB,SAAA;IACA,OAAA9kB,aAAA,CAAAA,aAAA,KACK0E,OADL;MAEEpE,MAAM,EAAEA,MAAM,IAAI,cAFpB;MAGEE,OAAO,EAAEkkB,OAAO,CAAChkB,IAAD;IAHlB;GAFF;AAQD;AAED,IAAMqkB,IAAI,GAAG;EAACjJ,QAAQ,EAAE,KAAX;EAAkBvC,UAAU,EAAE,KAA9B;EAAqChX,KAAK,EAAE;AAA5C,CAAb;AAGO,SAASyiB,gBAATA,CAAA,EAAqC;EAAA,IAAX9kB,IAAW,GAAAC,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAJ,EAAI;EAC1C,OAAO,UAAUuE,OAAV,EAAmB;IACxB,IAAMpE,MAAM,GAAGJ,IAAI,CAACI,MAAL,IAAe,oBAA9B;IACA,OAAAN,aAAA,CAAAA,aAAA,KACK0E,OADL;MAEEpE,MAAM,EAANA,MAFF;MAGEE,OAAO,EAAE,SAAAA,QAAA;QAAA,OACP,CACEN,IAAI,CAAC4b,QAAL,IACE4I,OAAO,CAACxkB,IAAI,CAAC4b,QAAN,CAAP,CAAuB;UAACzb,IAAI,EAAAL,aAAA,CAAAA,aAAA,KAAM+kB,IAAN;YAAYjJ,QAAQ,EAAE;UAAtB;QAAL,CAAvB,CAFJ,EAAAvf,MAAA,CAAA2P,kBAAA,CAGKhM,IAAI,CAACmC,cAAL,CACAuJ,GADA,CACI8Y,OADJ,EAEA9Y,GAFA,CAEI,UAAA/N,CAAC;UAAA,OAAIA,CAAC,CAAC;YAACwC,IAAI,EAAAL,aAAA,CAAAA,aAAA,KAAM+kB,IAAN;cAAYxL,UAAU,EAAE;YAAxB;UAAL,CAAD,CAAL;QAAA,CAFL,CAHL,IAMErZ,IAAI,CAACqC,KAAL,IAAcmiB,OAAO,CAACxkB,IAAI,CAACqC,KAAN,CAAP,CAAoB;UAAClC,IAAI,EAAAL,aAAA,CAAAA,aAAA,KAAM+kB,IAAN;YAAYxiB,KAAK,EAAE;UAAnB;QAAL,CAApB,CANhB,GAOEgQ,MAPF,CAOS2N,OAPT,CADO;MAAA;IAHX;GAFF;AAgBD;AC1DM,IAAM+E,GAAG,GAAG,SAANA,GAAMA,CAAA;EAAA,IAACzf,GAAD,GAAArF,SAAA,CAAA7C,MAAA,QAAA6C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAO,EAAP;EAAA,OAAc8G,KAAK,EAAE2c,GAAG,CAAC,KAAD,CAAL,CAAiB,CAAArnB,MAAA,CAAA2P,kBAAA,CAAA1G,GAAjB,CAAL,GAA4B2Q,IAA5B,CAAiC3V,OAAjC,CAAd;AAAA,CAAZ;;;;;;;;;;;ACJM,IAAA0kB,OAAO,GAAG;ACkFV,IAAAC,MAAM,GAAG,SAAAA,OAAAC,OAAM;EAAA,OAC1BtF,MAAM,CAACnY,GAAP,CAAWC,SAAX,CAAqB;IACnBC,GAAG,EAAE,SADc;IAEnBnF,OAAO,EAFY;IAGnBqF,UAAU,EACR,qGAJiB;IAKnBsd,KAAK,EAAEvF,MAAM,CAACwF,MAAP,CAAcrI;EALF,CAArB,CAD0B;AAAA;IAQfpY,KAAK,GAAG,SAARA,KAAQA,CAAAsgB,MAAM;EAAA,OACzBrF,MAAM,CAACnY,GAAP,CAAWC,SAAX,CAAqB;IACnBC,GAAG,EAAE,SADc;IAEnBnF,OAAO,EAFY;IAGnBqF,UAAU,EACR,qGAJiB;IAKnBsd,KAAK,EAAEvF,MAAM,CAACwF,MAAP,CAAcrI;EALF,CAArB,CADyB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}